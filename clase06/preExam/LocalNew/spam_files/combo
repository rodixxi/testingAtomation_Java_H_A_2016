YUI.add("common-utils-rapid",function(e){function p(){var t={impn:0,prvdr:"yahoo"},n;if(NeoConfig.multipleAccounts){t.impn=e.mail.model.DataStore.Accounts.getImapInAccountsByStatus("ENABLED").length,n=e.mail.Controller.ImapIn.getCurrentAccount();if(!n.isPrimary)switch(n.serverUri){case"imaps://gmail.com":t.prvdr="google";break;case"imaps://outlook.com":t.prvdr="outlook";break;case"imaps://aol.com":t.prvdr="aol";break;default:t.prvdr="yahoo_in"}}return t}var t,n,r=NeoConfig,i,s,o,u={},a,f=NeoConfig.maxClickRecords||30,l=1e3,c=[],h=e.mail.ui.FolderUtils;t=function(){function t(t){var s=e.common.Utils.settings.value("lhMailFreeBucketSize",1.5);i.test_id?n.beaconPerformanceData(t):(r.hasAds===0?i.test_id="mailplus":r.isCorpmail?i.test_id="corpmail":r.mailFreeRandomBucket<=s&&(i.test_id="mailfree"),n.reInit(i),n.beaconPerformanceData(t),i.test_id="",n.reInit(i))}function d(t){var r=S(t),i=r.linkData;i&&i.length&&(e.mix(i,p()),n.beaconLinkViews(i),a&&(a.ln[t.action]=r))}function v(t){var r=e.clone(t),i=x(r),s,o,u;i?(s=i.sec,o=i.slk,delete i.sec,delete i.slk,r.seq&&(i.seq=r.seq),r.ts&&(i.ts=r.ts),e.mix(i,p()),n.beaconClick(s,o,0,i),a&&(a.ck[t.action]=i),i.mTime=Neo.performance.now(),c.push(i),c.length>f&&c.shift()):(u="ULT: No click logged for "+t.action,e.common.Utils.log({m:u},!1,"ULTInfo"))}function m(e){var t=e.sp;i.spaceid=t,n.reInit(i)}function g(){var e;while(NeoGV.rapidQueue.length){e=NeoGV.rapidQueue.shift();switch(e.type){case"rapid:click":v(e.data);break;case"rapid:view":d(e.data);break;case"rapid:perf":t(e.data)}}}function y(){e.on("rapid:view",d),e.on("rapid:click",v),e.on("rapid:perf",t),e.on("ult:spaceIdChange",m)}function b(){var t=r.hasMultiLayer===1?r.usmLoggedBuckets:r.expBucketId,o={intl:r.intl,lang:r.lang,mt:r.hasAds===0?"plus":"free",pt:r.partnerType,prdct:"storm",bldVer:r.buildNumber,conv:r.hasConvView,farm:r.farm,isInColo:r.isInColo,regType:r.isEmailOrPhoneReg==="PHONE"?"phReg":r.isEmailOrPhoneReg==="EXTERNAL"?"usrReg":null},f=e.common.Utils.settings,l;r.mailFreeRandomBucket=(Math.random()*100).toFixed(2),NeoGV.sp?l=NeoGV.sp:NeoConfig.prefetchAdEvent&&NeoConfig.prefetchAdEvent.param&&(l=NeoConfig.prefetchAdEvent.param.sp),i={spaceid:l,tracked_mods:u,keys:o,extendbcookie:f.value("rapid_extendbcookie"),dwell_on:f.value("rapid_dwell_on"),pageview_on_init:!1},t&&t!=="0"&&(i.test_id=t),n=new YAHOO.i13n.Rapid(i),s=e.mail.Tabs,g(),y(),e.common.Utils.features.enabled("testUlt")&&!NeoGV.testUlt&&(NeoGV.testUlt={ck:{},ln:{}},a=NeoGV.testUlt),a&&e.one("body").addClass("rapid-loaded")}function w(e){var t,n=s.getActiveTab(),r=n&&n.widget,i=r&&r.type,o=e.fid||r&&r.fid,u;if(i==="messagepane")t="msgRdTb";else if(i==="convpane")t="thrdRdTb";else if(i==="author")t="cmpsTb";else if(h.isInboxFid(o))t="inbxTb";else if(h.isDraftFid(o))t="drftTb";else if(h.isSentFid(o))t="sntTb";else if(h.isSpamFid(o))t="spmTb";else if(h.isTrashFid(o))t="trshTb";else if(o==="%40C%40Chats")t="chtTb";else if(o==="%40S%40Search")t="srchTb";else{u=n&&n.elContent.getAttribute("data-tid");switch(u){case"tabcontacts":t="cntctsTb";break;case"tabnotepad":t="ntpdTb";break;case"tabcalendar":t="clndrTb";break;default:t="fldrTb"}}return t}function E(e){var t={sec:e[0],t1:e[1],t2:e[2]},n,r=e.length,i;for(n=3;n<r;n++){i=e[n];if(typeof i=="object")break;t["t"+n]=i}return t}function S(t){var n=e.common.Utils.RapidVM[t.action],r,i,s,o,u,a={},f,l,c,h,p=t.append||{},d=t.args||{},v=[],m=[];if(n){o=n.length;for(u=0;u<o;u++)l=n[u],h={action:l,append:p,args:d},c=x(h),c&&(i=c.t1,s=c.t2,r=c.sec,f=i+":"+s+":"+r,a[f]||(a[f]={sec:r,t1:i,t2:s,_links:[]}),delete c.sec,delete c.t1,delete c.t2,a[f]._links.push(c),m.push(l))}for(f in a)v.push(a[f]);return{clickKeys:m,linkData:v}}function x(t){var n=t.append||{},r=t.args||{},i=t.action,s,u=e.common.Utils.RapidCM,a,f,l,c,h,p;e.Lang.isString(t.suffix)&&t.suffix!==""?s=i+"_"+t.suffix:s=i,i&&!u[i]&&i.indexOf("scout_cue_")===0&&(f=i.match(/scout_cue_(.*)_(.*)/),f&&f.length>2&&(u[i]=["callout","dialog","callout",f[1],f[2]])),u[i]&&!u[s]&&(u[s]=u[i]);if(u[s]){a=u[s],c=a.length-1,l=E(a),h=typeof a[c]=="object"?a[c]:{},e.mix(h,n),e.mix(l,h,!0);if(!l.slk){while(c>0&&(typeof a[c]=="object"||!a[c]))c--;l.slk=a[c]}for(p in l)o[l[p]]&&(typeof o[l[p]]=="function"?l[p]=o[l[p]](r):l[p]=o[l[p]]);l.mKey=s}return l}function T(e,t){var r={};u[e]||(r[e]=t,u[e]=t,n.addModules(r))}function N(e){n.refreshModule(e)}function C(e){return n.isModuleTracked(e)}function k(e){u[e]&&(delete u[e],n.removeModule(e))}function L(e,t){var n,r,i,s=0,o=c.length-1;t||(t=l);while(o>=s){n=Math.floor((s+o)/2),r=c[n].mTime,i=Math.abs(r-e);if(i<=t&&(n===o||Math.abs(c[n+1].mTime-e)>i)&&(n===s||Math.abs(c[n-1].mTime-e)>i))return c[n].mKey;r>e?o=n-1:s=n+1}return!1}o={"{{activeTab}}":w,"{{listMode}}":r.hasConv?"thrded":"chrnlgcl"},b(),e.mix(this,{beaconPerf:t,beaconView:d,beaconClick:v,flushQueue:g,bindUI:y,init:b,getLinkViews:S,getClick:x,getActiveTab:w,getPositions:E,spaceIdChange:m,registerModule:T,refreshModule:N,isModuleTracked:C,removeModule:k,getClickKeyForTime:L})},e.namespace("common.Utils").Rapid=new t},"1.0.0",{requires:["common-utils","common-utils-rapid-viewmap","common-utils-rapid-clickmap","mail-common-utils-features","common-ui-tabs-base"]});
!function(a){a.ucs||(a.ucs={});var b=a.ucs;b.UH_OUTER_ID="#UH",b.UH_MAIN_ID="#uhWrapper",b.HIDDEN_CLS="Hidden",b.DN_CLS="D(n)",b.ESC_DN_CLS="D\\(n\\)",b.components={search:{selector:"#UHSearch",init_cls:"UHSearch-Init",web_btn_selector:"#UHSearchWeb",prop_btn_selector:"#UHSearchProperty",input_selector:"#UHSearchBox",panel_selector:"#yucs-satray"},help:{selector:"#yucs-help"},profile:{selector:""},mail:{selector:"#yucs-mail"}};var c=document.getElementById("yucs-meta");c&&"srp"===c.getAttribute("data-property")&&"undefined"!=typeof window.Y?b.YObj=window.Y:b.YObj=a.YMedia||YUI(),b.ymreqid=a.ucs.ymreqid||function(){var a=(new Date).getTime(),b=null,c="xxxxxxxx-xxxx-xxxx-09xx-xxxxxxxxxx00".replace(/x/g,function(c){return b=(a+16*Math.random())%16|0,a=Math.floor(a/16),b.toString(16)});return c},b.protocol=c&&c.getAttribute("data-protocol")?c.getAttribute("data-protocol"):"http",b._sendBeacon=function(a,b){if(a){var c=new Image;c.height=0,c.width=0,c.style.display="none",c.src="https://geo.yahoo.com/t"+a,document.body.appendChild(c)}}}(window);YUI.add("jsonp-super-cached",function(a){a.namespace("jsonpsupercached"),YUI.Env.JsonpSuperCached||(YUI.Env.JsonpSuperCached={}),YUI.Env.JsonpSuperCached.services||(YUI.Env.JsonpSuperCached.services={});var b=YUI.Env.JsonpSuperCached.services;a.jsonpsupercached.getData=function(c){var d={},e=c.url||"",f=c.serviceName||"service",g=c.callbackName||"callback",h=(c.broadcast||!1,c.onSuccess||function(){});f="_"+f+"_"+g,d.timeout=c.timeout,d.onTimeout=c.onTimeout||null,d.onFailure=c.onFailure||null,d.async=!0;var i=-1===e.indexOf("?")?"?":"&",j=e+i+g+"=YUI.Env.JsonpSuperCached."+f,k=c.args||[],l=c.context||null;a.jsonpsupercached.get=YUI.Env.JsonpSuperCached.get||a.Get,b[j]||(b[j]={dataAvailable:!1,requestInProgress:!1,callbacksQueue:[]});var m=b[j];m.dataAvailable?h(m.data):(m.callbacksQueue.push(h),m.requestInProgress||(YUI.Env.JsonpSuperCached[f]=function(a){m.data=a,m.dataAvailable=!0;for(var b=m.callbacksQueue,c=0,d=b.length;d>c;c++){var e=b.pop();e.apply(l,[a].concat(k))}},m.requestInProgress=!0,a.jsonpsupercached.get.script(j,d)))}},"0.0.1");!function(a){a.ucs||(a.ucs={}),a.ucs.escapeRegex=function(a){return a.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}}(window);ucs.YObj.use("node","event-resize","dom-screen",function(a){var b=a.one(window.ucs.UH_OUTER_ID),c=a.one("html"),d="Sticky-off",e=parseInt(b.getData("minW"),10)||970,f=function(){a.DOM.winWidth()>e?c.removeClass(d):c.addClass(d)};a.UA.ie&&a.UA.ie<9&&(f(),a.on("windowresize",f))});YUI.add("ucs-menu-group-plugin",function(a){function b(a){this.host=a.host,this.addClasses=a.addClasses}a.namespace("ucs");var c='<li class="{isDisabled} {isActive} {menuClass} {separatorBottom} {separatorTop} {listClasses}"><a target="{target}" {inProductHelp} {actionData} href="{url}" {disabledAria} class="C(#000)! Td(u):h {linkClasses}" data-ylk="rspns:nav;t3:tl-lst;t5:custitm;slk:custitm;elm:itm;elmt:custitm;itc:0;cpos:{cpos}">{icon}{menuText}</a></li>',d='<li class="{isDisabled} {isActive} {menuClass} {separatorBottom} {separatorTop} {listClasses}"><a href="#" data-customevt="true" {actionData} {disabledAria} {checkedAria} class="C(#000)! Td(u):h {linkClasses}" data-ylk="rspns:nav;t3:tl-lst;t5:custitm;slk:custitm;elm:itm;elmt:custitm;itc:0;cpos:{cpos}">{icon}{menuText}</a></li>',e='<ul class="Mx(-10px) Pos(r) My(0) C(#000)">{menuItems}</ul>',f="Bdw(0) Bdtw(1px) Bds(s) Bdc(#e2e2e6)",g="Bdw(0) Bdbw(1px) Bds(s) Bdc(#e2e2e6)",h="yucs-menu-group",i="ul",j="http://l.yimg.com/a/lib/ush/icon.gif",k="https://s.yimg.com/lq/lib/ush/icon.gif";b.NAME="ucs-menu-group-plugin",b.NS="menugroup",b.prototype={_addMenuGroups:function(b,c,d,e){var f,g,j=this.host.panel,k="";j.all(i).addClass(h);for(var l=0,m=b.length;m>l;l++)k+=this._addMenuGroup(b[l],d,e);f=a.Node.create(k),g=d?"debug-item":"minty-item",b=f.all(i),0===b.size()&&(b=f),b.addClass(e+" "+g),"bottom"===c?j.append(f):j.prepend(f),j.all(i).slice(0,-1).addClass("Bdw(0) Bdbw(1px) Bds(s) Bdc(#e2e2e6)"),j.all(i).each(function(a){if(a=a.get("children"),a.size()>0){var b=window.ucs.escapeRegex("Bdw(0) Bdbw(1px) Bds(s) Bdc(#e2e2e6)");a.item(a.size()-1).removeClass(b)}}),a.Global.fire("ucs-rapid:refreshmodules","uhWrapper","0")},_addMenuGroup:function(b,c,d){for(var f,g="",h=!0,i="Py(8px)",j=0,k=b.length;k>j;j++)f=b[j],c?(f.isDebugItem=!0,f.menuClass="debug-item"):(f.isDebugItem=!1,f.menuClass="minty-item"),f.menuClass+=this.addClasses&&this.addClasses.menuClass&&" "+this.addClasses.menuClass.join(" ")||" Px(10px)",f.menuClass+=" "+i,f.cpos=j+1,h&&(h=!1,i=" Pb(8px)"),g+=this._addMenuItem(f,d);return g=a.substitute(e,{menuItems:g})},_addMenuItem:function(b,e){var f="";if(b.isActive?b.checkedAria='aria-checked="true"':b.checkedAria="",b.isDisabled?b.disabledAria='aria-disabled="true"':b.disabledAria="",b.actionData&&b.actionData.match(/^om:/))return f;switch(b.actionType){case"link":f=a.substitute(c,b,this._processTemplateValue);break;case"customEvent":f=a.substitute(d,b,this._processTemplateValue)}return f&&(f=b.isDebugItem?f.replace(/separator/,"separator debug-item"):f.replace(/separator/,"separator minty-item")),f},_processTemplateValue:function(b,c,d){a.log("key = "+b+" value = "+c+" meta_data = "+d);var e="",h="https:"===document.location.protocol?k:j;switch(b){case"icon":void 0!==c&&(e="available"===c?'<img src="'+h+'" class="yucs-opi available"/>':"offline"===c?'<img src="'+h+'" class="yucs-opi offline"/>':"invisible"===c?'<img src="'+h+'" class="yucs-opi invisible"/>':"busy"===c?'<img src="'+h+'" class="yucs-opi busy"/>':"idle"===c?'<img src="'+h+'" class="yucs-opi idle"/>':'<img src="'+c+'" />');break;case"separatorTop":c&&(e=f);break;case"separatorBottom":c&&(e=g);break;case"actionData":c&&(e='data-mad="'+c+'"');break;case"inProductHelp":c&&(e='data-inproducthelp="'+c+'"');break;case"listClasses":case"linkClasses":c&&(e=c);break;case"isDisabled":c&&(e="disabled");break;case"isActive":c&&(e="sp active");break;case"checkedAria":e=c;break;default:e=c}return e}},a.ucs.MenuGroupPlugin=b},"1.0.0",{requires:["ucs-menu-utils","node-screen","plugin"]});YUI.add("ucs-menu-plugin",function(a){function b(a){this.host=a.host,b.superclass.constructor.apply(this,arguments)}var c=(a.Lang,"https://s.yimg.com/os/mit/media/m/base/images/transparent-95031.png"),d='<iframe src="'+c+'" aria-hidden="true" tabindex="-1" frameborder="0" class="uhIframeTooltip Bd(0) Pos(a) T(-10px) Start(-10px) W(100%) H(100%) P(10px) Op(0)"></iframe>',e='<div class="js-Tooltip-Wrapper Pos(r)"><div tabindex="-1" class="Z(5) {{panelClasses}}">'+d+"</div></div>",f=[{name:"NorthFarWest",pos:0},{name:"NorthWest",pos:.25},{name:"North",pos:.5},{name:"NorthEast",pos:.75},{name:"NorthFarEast",pos:1}],g=["ar-jo","he-il","ur-pk","ur-tk","he-il","ar"],h=a.one("#yucs-meta"),i=h&&h.getAttribute("data-languagetag")||"en-us",j=a.Array.indexOf(g,i.toLowerCase())>=0,k=function(){var b=a.Node.create(e.replace(/\{\{panelClasses\}\}/,this.panel.get("className")+" Px(10px)")),c=b.get("children").item(0);c.appendChild(this.panel.remove(!1)),this.hiddenPanel=c,this.panel.set("className","Pos(r) M(0) TooltipContent"),this.appendChild(b)},l=window.ucs.DN_CLS,m=window.ucs.escapeRegex,n=function(){var b,c,d,e,g,h,i,k,n,o,p,q,r,s,t,u,v,w,x,y=this.hiddenPanel,z=this,A=y.hasClass(m(l)),B=0,C=0,D=10,E=[],F=[],G=15;for(p=y.getAttribute("style"),A&&(y.setStyles({top:"-100px",height:"5px",marginLeft:"0",marginRight:"0"}),y.replaceClass(m(l),"Ov(h)")),u=a.one(".UHCol1"),v=a.one("#uhNavWrapper"),j?(w=v.get("region").left,x=u.get("region").right):(w=u.get("region").left,x=v.get("region").right),k=y.get("region"),this.panelWidth=k.width,d=window.innerWidth<x-w?{left:0,right:window.innerWidth}:{left:w,right:x},b=y.get("className"),c=/North\w+/g.exec(b),e=y.hasClass("North"),g=!!b.match(/Arrow/),h=g&&z.one(".yucs-trigger i").get("region")||z.get("region"),i=h.left+h.width/2,c=c&&c[0]||"North",y.removeClass(c),s=0,t=f.length;t>s;s++)B=f[s].pos,C=B%1===0&&(-1+2*B)*D||0,B=k.left+k.width*B-C,n=B-i,o=k.left-n,r=d.right-(o+k.width),q=o-d.left,E.push(q>=G?Math.floor(q):Number.POSITIVE_INFINITY),F.push(r>=G?Math.floor(r):Number.POSITIVE_INFINITY);q=Math.min.apply(null,E),r=Math.min.apply(null,F),r>q?(s=a.Array.indexOf(E,q),o=q+d.left):(s=a.Array.indexOf(F,r),o=d.right-(k.width+r));var H=f[s].name,I=H.match(/(West|East)/);I&&j&&(I=I[1],H=H.replace(I,{West:"East",East:"West"}[I])),y.addClass(H).setX(o),A&&(y.replaceClass(m("Ov(h)"),l),y.setStyles({right:"auto",top:g?"-2px":"",height:""}))};b.NAME="MenuPlugin",b.NS="addons",b.ATTRS={},a.extend(b,a.Plugin.Base,{initializer:function(){var a=this.host;/\w+DropDown/g.test(a.get("className"))?this.hiddenPanel=this.panel:(k.call(a),n.call(a)),a.resetPosition&&(this.setPosition=n),this.onHostEvent("ucs:showMenu",this._show),this.onHostEvent("ucs:hideMenu",this._hide),this.onHostEvent("ucs:resetPosition",this._resetPosition)},destructor:function(){},_resetPosition:function(){this.setPosition&&this.setPosition.call(this.host)},_show:function(a){var b=this.host;b.fire("ucs:show",a),this._resetPosition(),b.hiddenPanel.removeClass(m(l))},_hide:function(a){var b=this.host;b.hiddenPanel.addClass(l),b.fire("ucs:hide",a)}}),a.namespace("Plugin.Uh").MenuPlugin=b},"0.1.0",{requires:["plugin"]});YUI.add("ucs-menu-utils",function(a){a.namespace("ucs");var b=500,c=!0,d=(("https"===ucs.protocol?"https://s.yimg.com":"http://l.yimg.com")+"/kx/yucs/uh3s/uh/26/js/menu_group_plugin.js",window.ucs.DN_CLS),e=window.ucs.escapeRegex;a.ucs.MenuUtils=function(b,c){var f=c&&c.panel||"> div",g=c&&c.trigger||"> a";if(this.openDelay=c&&c.openDelay||300,this.menu=b=b.one&&b||a.one(b),this.menu.trigger=b.one(g),this.menu.panel=b.one(f),this.menu.panel){this.menu.hiddenPanel=this.menu.panel,this.ylt=c&&c.ylt||"",this.rapidData=c.rapidData||null,c&&c.menuGroupPlugin&&(this.menu.plug(a.ucs.MenuGroupPlugin,c.menuGroupPlugin.config||{}),this.menu.resetPosition=!0),f=this.menu.panel,this.menu.hiddenPanel=f.hasClass(e(d))&&f||f.one("."+d);var h=c.event||"mouseenter";this._initEvents(h)}},a.ucs.MenuUtils.prototype={_initEvents:function(b){a.on("domready",this._initMenuPlugin,this);var d=function(){return a.UA.touchEnabled?!0:"object"==typeof window&&("ontouchstart"in window||window.navigator.maxTouchPoints>0||window.navigator.msMaxTouchPoints>0)},e=d();"mouseenter"!==b||e||this.menu.on([b,"mouseleave"],this._handleMenuEvent,this),e&&(this.menu.trigger.on("touchend",function(a){a.preventDefault(),this._handleMenuEvent()},this),this.menu.panel.delegate("touchend",function(a){a.preventDefault(),this._handleAnchorClick()},"a",this)),this.menu.trigger.on("click",this._handleMenuEvent,this),this.menu.panel.delegate("click",this._handleAnchorClick,"a",this),this.menu.panel.delegate("click",function(b){this.navigationDisabled?b.halt():(this.navigationDisabled=!0,this.navTimer=a.later(3e3,this,function(a){this.navigationDisabled=!1,this.navTimer.cancel(),this.navTimer=null}))},"a",this);var f=this.menu.on("ucs:showMenu",function(a){f.detach(),this.menu.addons||(this._initMenuPlugin(),this.fireMenuEvent(c,a))},this)},_handleMenuEvent:function(c){var d=c.type,e="mouseenter"===d||"click"===d&&this._isHidden();this.ShowMenuQueue&&this.ShowMenuQueue.cancel();var f=this.openDelay;"click"===d&&(f=1,c.preventDefault(),this.bodyEvent&&this.bodyEvent.detach(),e&&(this.bodyEvent=a.one("body").on("click",this._handleBodyClick,this))),e?this.fireBeacons=a.later(b,this,function(){this._isHidden()===!1&&this._fireRapid()}):this.fireBeacons&&this.fireBeacons.cancel(),e?this.ShowMenuQueue=a.later(f,this,function(a,b){this.fireMenuEvent(a,b)},[e,c]):this.fireMenuEvent(e,c)},fireMenuEvent:function(a,b){this.menu.fire(a?"ucs:showMenu":"ucs:hideMenu",b)},_handleAnchorClick:function(a){var b=a.currentTarget.get("href");b.match(/\.crumb/g)&&this.fireMenuEvent(!c,a)},_initMenuPlugin:function(){this.menu.plug(a.Plugin.Uh.MenuPlugin)},_isHidden:function(){return this.menu&&this.menu.hiddenPanel&&this.menu.hiddenPanel.hasClass?this.menu.hiddenPanel.hasClass(e(d)):!1},_handleBodyClick:function(a){var b=this.menu;b.contains(a.target)||(b.addons?b.fire("ucs:hideMenu",a):(b.fire("ucs:hide",a),b.hiddenPanel.addClass(d)),this.bodyEvent.detach())},_fireRapid:function(){var b=this.rapidData;b&&a.Global.fire("ucs-rapid:event",b),a.Global.fire("ucs-rapid:refreshmodules","uhWrapper","0")}},a.augment(a.ucs.MenuUtils,a.EventTarget)},"1.0",{requires:["node","event","event-mouseenter","event-custom","substitute","node-focusmanager","get","ucs-menu-plugin","plugin"],use:["ucs-menu-group-plugin"]});YUI.add("gallery-jsonp",function(a){function b(){this._init.apply(this,arguments)}var c=a.Lang.isObject,d=a.Lang.isFunction;b._pattern=/\bcallback=(.*?)(?=&|$)/i,b._template="callback={callback}",b.prototype={_init:function(b,c){this.url=b,c=c||{},d(c)&&(c={on:{success:c}}),c.on=c.on||{},c.on.success||(c.on.success=this._getCallbackFromUrl(b)),this._config=a.merge({on:{},context:this,args:[],format:this._format},c)},_getCallbackFromUrl:function(e){var f,g,h,i,j=e.match(b._pattern);if(j){for(g=a.config.win,h=j[1].split(/\./).reverse(),f=h.shift(),i=h.length-1;i>=0;--i)if(g=g[h[i]],!c(g))return null;if(c(g)&&d(g[f]))return a.bind(g[f],g)}return null},send:function(b){function c(a){return d(a)?function(b){delete YUI.Env.JSONP[e],a.apply(f.context,[b].concat(f.args))}:null}if(!this._config.on.success)return this;var e=a.guid().replace(/-/g,"_"),f=this._config,g=f.format.call(this,this.url,"YUI.Env.JSONP."+e);return YUI.Env.JSONP[e]=c(f.on.success),a.Get.script(g,{onFailure:c(f.on.failure),onTimeout:c(f.on.timeout||f.on.failure),timeout:f.timeout}),this},_format:function(a,c){var d,e=b._template.replace(/\{callback\}/,c);return b._pattern.test(a)?a.replace(b._pattern,e):(d=a.slice(-1),"&"!==d&&"?"!==d&&(a+=a.indexOf("?")>-1?"&":"?"),a+e)}},a.JSONPRequest=b,a.jsonp=function(b,c){return new a.JSONPRequest(b,c).send()},YUI.Env.JSONP||(YUI.Env.JSONP={})},"gallery-2010.08.11-20-39",{requires:["get","oop"]});YUI.add("ucs-logodebug",function(a){a.namespace("ucs");var b=document.getElementById("imageCheck"),c=document.getElementById("yucs-logo-ani"),d=!1;c&&(-1!==navigator.userAgent.toLowerCase().indexOf("msie")&&(d=!0),(b&&0===b.offsetWidth&&void 0===b.readyState||b&&0===b.offsetWidth&&"uninitialized"===b.readyState||d&&b&&"uninitialized"===b.readyState||d&&b&&void 0===b.readyState)&&(c.style.visibility="visible",c.style.position="relative")),a.ucs.LogoDebug=function(a){a.on("click",this._handleClick,this),this.publish("ucs:logoDebug",{broadcast:2,emitFacade:!0})},a.ucs.LogoDebug.prototype={_handleClick:function(a){a.altKey&&(a.halt(),this.fire("ucs:logoDebug"))}},a.augment(a.ucs.LogoDebug,a.EventTarget)},"1.0",{requires:["node"]}),function(){ucs.YObj.use("node","ucs-logodebug",function(a){var b=a.one(".YLogoMY");if(b){new a.ucs.LogoDebug(b)}})}();(function(){var f="%Y",e="%y",h="%m",a="%d",c="_",b=document.getElementById("yucs")&&document.getElementById("yucs").getAttribute("data-lang").toLowerCase()||"en-us";if(!window.ucs){window.ucs={};}function d(i){switch(i){case"tr-tr":return[" "];case"es-cl":case"nl-nl":case"ta-in":case"zh-hant-cn":case"hi-in":case"kn-in":return["-"];case"de-at":case"de-ch":case"de-de":case"fi-fi":case"nb-no":case"pl-pl":case"ro-ro":case"ru-ru":return["."];default:return["/"];}}function g(i){switch(i){case"en-ae":case"en-au":case"en-ca":case"en-ie":case"en-in":case"en-my":case"en-nz":case"en-ph":case"en-sg":case"en-us":case"es-us":case"ja-jp":case"sv-se":return[h,c,a,c,e].join("");case"ro-ro":case"fi-fi":case"pl-pl":case"en-gb":case"th-th":case"en-ie":case"tr-tr":case"vi-vn":return[a,c,h,c,f].join("");case"zh-hant-cn":case"zh-hant-tw":return[e,c,h,c,a].join("");default:return[a,c,h,c,e].join("");}}window.ucs.getLocalDateFormat=function(i){i=i.toLowerCase();var k=d(i),j=g(i);return j.replace(new RegExp(c,"g"),k);};window.ucs.localeDateFormat=window.ucs.getLocalDateFormat(b);})();ucs.YObj&&ucs.YObj.use("datatype-date",function(a){}),YUI.add("ucs-timestamp-library",function(a){a.namespace("ucs.Timestamp"),a.ucs.Timestamp={getTimeStamp:function(b){var c,d,e,f,g,h="AM",i=a.one(window.ucs.UH_MAIN_ID),j=b.dateRef||new Date,k=b.date,l=b.locale?b.locale:i.getAttribute("data-lang"),m=k.getTime(),n=k.getDate(),o=j.getDate(),p=j.getTime(),q=p-m,r=o-n,s=!0,t=!1,u=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];return l=a.Lang.isString(l)?l:"en-us",s=/^en-us$/i.test(l),t=/^zh-hant/i.test(l),t&&(u=["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"]),q=parseInt(q/1e3,10),d=k.getMonth(),e=k.getHours(),f=k.getMinutes(),g=p-(60*j.getHours()*60*1e3+60*j.getMinutes()*1e3+1e3*j.getSeconds()+j.getMilliseconds()),10>f&&(f="0"+f),e>=12&&(h="PM"),e>12&&(e-=12),b.type&&"short"===b.type&&a.DataType&&a.DataType.Date?c=0===r?e+":"+f+" "+h:a.DataType.Date.format(k,{format:window.ucs.localeDateFormat}).replace(/\b0(?=\d)/g,""):s||t?0===r?60>q?c=q>1?q+(t?"秒前":" secs ago"):t?"剛剛":q+" sec ago":3600>q?(q=Math.ceil(q/60,10),c=2>q?q+(t?"分鐘前":" min ago"):q+(t?"分鐘前":" mins ago")):86400>q&&(q=Math.ceil(q/3600),c=q>1?q+(t?"小時前":" hours ago"):q+(t?"小時前":" hour ago")):c=864e5>g-m&&0!==r?(t?"昨天":"Yesterday ")+e+":"+f+" "+h:t?u[d]+n+"日":u[d]+" "+n+"&nbsp;&nbsp;"+e+":"+f+" "+h:c=u[d]+" "+n+"&nbsp;&nbsp;"+e+":"+f+" "+h,c}}},"1.0",{requires:["node","datatype-date"]});YUI.add("ucs-usermenu",function(a){a.namespace("ucs");var b="#yucs-profile",c=(a.one("#yucs-meta").getAttribute("data-property"),"ucs:userMenuShow"),d="ucs:userMenuItemClick",e="click",f=window.ucs.DN_CLS,g={eventName:"hvr",keys:{sec:"uh-d",slk:"userhvr",_p:"0",rspns:"op",t1:"a1",t2:"uh-d",t3:"tl-lst",t5:"userhvr",elm:"tl",elmt:"usr",itc:"1"}};a.ucs.UserMenu=function(){this.showMenuYlt=a.one(b).getAttribute("data-yltmenushown")||"",a.ucs.UserMenu.superclass.constructor.call(this,a.one("#yucs-profile"),{ylt:this.showMenuYlt,panel:"#yucs-profile-panel",rapidData:g,menuGroupPlugin:{config:{addClasses:{menuClass:["Px(16px)","Ell"]}}}}),this._initCustomEvents()},a.extend(a.ucs.UserMenu,a.ucs.MenuUtils,{_initCustomEvents:function(){this.publish(c,{broadcast:2,emitFacade:!0}),this.publish(d,{broadcast:2,emitFacade:!0}),a.Global.on("ucs:userMenuItems",this._handleUserMenuItems,this,{location:"bottom",menuType:"minty-um-item"}),this.menu.delegate(e,this._handleMenuItemClick,"ul.minty-um-item li a",this),this.menu.on("ucs:show",this._showMenu,this)},_handleUserMenuItems:function(b,c){a.log("user menu items received");var d="bottom",e="minty-user-item";if(b.menuGroups&&b.menuGroups.length){c&&c.location&&(d=c.location),c&&c.menuType&&(e=c.menuType);var f=b.menuGroups,g=this.menu.panel;b.reset&&g&&g.all("."+e).each(function(a){a.remove(!0)}),f.length>0&&this.menu.menugroup._addMenuGroups(f,d,!1,e)}},_handleMenuItemClick:function(b){a.log("user menu item click");var c,e,f,g;if(c=b.target,c=c.ancestor("a",!0),e=c.getAttribute("data-mad"),f=c.getAttribute("data-customevt"),g=c.ancestor("li").hasClass("disabled")||!1)return void b.halt();if(f&&b.halt(),!g){var h={actionData:e};this.fire(d,h)}},_showMenuItems:function(){this.menu.all("ul").removeClass(window.ucs.escapeRegex(f))},_showMenu:function(){this.fire(c)}})},"1.0",{requires:["node","event-custom","event-hover","ucs-menu-utils"]}),function(){window.ucs.YObj.use("node","ucs-usermenu",function(a){var b,c=a.one("#yucs-profile");c&&(b=new a.ucs.UserMenu(c))})}();!function(){window.ucs.YObj.use("node","event-custom",function(a){var b=a.one("#yucs-signout")||a.one("#yuhead-me-signout")||a.one("#yucs .yucs-signout");b&&"mail"===a.one("#yucs-meta").getAttribute("data-property")&&b.on("click",function(){a.Global.fire("ucs:signout")})})}();window.ucs||(window.ucs={}),window.ucs.api=window.ucs.api||{},YUI.add("ucs-rapid",function(a){"use strict";a.namespace("ucs");var b="ucs-rapid:",c=b+"click",d=b+"event",e=b+"destroy-instance",f=b+"addmodules",g=b+"ready",h=b+"removemodules",i=b+"refreshmodules",j=null;a.ucs.Rapid=function(a,b,c){this.container=a,b&&(this.rapidConfig=b,this.tracked_mods=c,this._init())},a.ucs.Rapid.prototype={_init:function(){var a=window;j||a.YAHOO&&a.YAHOO.i13n&&a.YAHOO.i13n.Rapid&&(j=new a.YAHOO.i13n.Rapid(this.rapidConfig)),j&&(j.addModules(this.tracked_mods),this._publish())},_publish:function(){a.Global.on(c,this._handleBeaconing,this,"click"),a.Global.on(d,this._handleBeaconing,this,"event"),a.Global.on(e,this._handleDestroyInstance,this),a.Global.on(f,this.addModules,this),a.Global.on(h,this.removeModule,this),a.Global.on(i,this.refreshModule,this),a.Global.fire(g,{})},getUHRapidInstance:function(){return j},_handleBeaconing:function(b,c){if(!b)return void a.log("data is absent.");if(!j)return void a.log("uhRapidInstance is absent.");if(b.keys||(a.log("no data keys. setting it to empty"),b.keys={}),b.outcome||a.log("no outcome. setting it to null"),"click"===c)b.sec||(a.log("SEC is absent. Using default sec."),b.sec="uh-d"),b.slk||(a.log("SLK is absent. Using default slk."),b.slk="hd"),b._pValue||(a.log("_pValue is absent. Using default _pValue."),b._pValue=0),this.beaconClick(b.sec,b.slk,b._pValue,b.keys,b.outcome);else{if(!b.eventName)return void a.log("event Name is absent.");this.beaconEvent(b.eventName,b.keys,b.outcome)}},beaconClick:function(b,c,d,e,f){j?j.beaconClick(b,c,d,e,f):a.log("no rapid instance available. cant fire beacon click.")},beaconEvent:function(b,c,d){j?j.beaconEvent(b,c,d):a.log("no rapid instance available. cant fire beacon event.")},addModules:function(b,c,d){c=!1,j?this.isModuleTracked(b)?a.log("module is already tracked"):j.addModules(b,c,d):a.log("no rapid instance available. cant add module.")},removeModule:function(b){j?j.removeModule(b):a.log("no rapid instance available. cant remove module.")},refreshModule:function(b,c,d,e){c=!1,j?this.isModuleTracked(b)?j.refreshModule(b,c,d,e):a.log("module is not tracked, we cant do a refreshModule"):a.log("no rapid instance available.")},isModuleTracked:function(b){return j?j.isModuleTracked(b):void a.log("no rapid instance available. dont know if module is present.")},_handleDestroyInstance:function(){j?(this.rapidConfig={},j.destroy(),j=null):a.log("no rapid instance available. cant destroy instance.")}}},"0.1",{requires:["array-extras","event-custom","node"]}),function(){"use strict";window.ucs.YObj.use("node","ucs-rapid",function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n=window,o=a.one(".yucs"),p=a.one("#yucs-meta"),q=a.all("[data-uh-test]"),r="standard",s=n.YAHOO&&n.YAHOO.i13n||null,t={},u={};return o?(b=o.getAttribute("data-spaceid"),c=o.getAttribute("data-property"),d=o.getAttribute("data-device"),k="true"===o.getAttribute("data-stencil"),d&&(i=!!d.match(/smartphone/gi),j=!!d.match(/tablet/gi)),p&&(e=p.getAttribute("data-test_id"),f=p.getAttribute("data-languagetag"),g=p.getAttribute("data-forcecobrand"),h=p.getAttribute("data-cobrand"),l=p.getAttribute("data-headercollapse")),g&&"standard"!==g?r=g:h&&"standard"!==h&&(r=h),s&&("undefined"!=typeof s.SPACEID&&(b=s.SPACEID),"undefined"!=typeof s.WEBWORKER_FILE&&(m=s.WEBWORKER_FILE)),b||(b="1197757397"),void(n.ucs.rapid||(u={spaceid:b,keys:{site:c,ver:"uh3s",psp:r,lang:f,uh_test:""},apv:!1,client_only:0,dwell_on:!1,pageview_on_init:!1,rapid_noclick_resp:"uh-ignore-rapid"},s&&"undefined"!=typeof s.TEST_ID?u.test_id=s.TEST_ID:e&&(u.test_id=e),!q.isEmpty()&&u&&u.keys&&(u.keys.uh_test=a.Array.map(q.getDOMNodes(),function(a){return a.getAttribute("data-uh-test")}).join()),i?t=k?{NavMenu:"uh-m",MobileUH:"uh-m",SubMenuCountries:"uh-m","searchbox-mojit":"uh-m"}:"frontpage"===c&&"att"===g?{yucs:"uh-m","yucs-sidebar":"uh-m","yucs-search":"uh-m"}:{yucs:"uh-m","yucs-sidebar":"uh-m"}:j?t=k?{NavMenu:"uh-t",MobileUH:"uh-t",SubMenuCountries:"uh-t"}:{yucs:"uh-t","yucs-sidebar":"uh-t"}:k&&(t={masterNav:"uh-d",uhWrapper:"uh-d"}),"answers"===c&&(m||(m="/static/js/rapidworker-1.0.js"),u.webworker_file=m),l&&(u.keys.state="initial"),"groups"===c&&(m||(m="/js/rapid_worker.js"),u.webworker_file=m),"news"!==c&&"games"!==c&&"sports"!==c&&"finance"!==c&&"music"!==c&&"tv"!==c&&"weather"!==c&&"celebrity"!==c&&"homes"!==c||(m||(m="/__rapid-worker-1.1.js"),u.webworker_file=m),c.match(/mag_/gi)&&(m||(m="/lib/metro/g/uicontrib/rapid_worker_1.1.1.js"),u.webworker_file=m),n.ucs.rapid=new a.ucs.Rapid(o,u,t)))):void a.log("UH is absent")})}();window.ucs&&window.ucs.YObj&&function(a){YUI.add("ucs-meta",function(a){"use strict";if(a.namespace("ucs"),a.ucs.Meta)return void a.log("Y.ucs.Meta is already defined.","debug","ucs-meta");var b=null,c=function(b){return a.version>="3.5.1"?b.getData():{beacon:b.getAttribute("data-beacon"),authstate:b.getAttribute("data-authState"),cobrand:b.getAttribute("data-cobrand"),crumb:b.getAttribute("data-crumb"),mccrumb:b.getAttribute("data-mc-crumb"),gta:b.getAttribute("data-gta"),device:b.getAttribute("data-device"),experience:b.getAttribute("data-experience"),firstname:b.getAttribute("data-firstname"),flight:b.getAttribute("data-flight"),forcecobrand:b.getAttribute("data-forcecobrand"),guid:b.getAttribute("data-guid"),host:b.getAttribute("data-host"),https:b.getAttribute("data-https"),languagetag:b.getAttribute("data-languagetag"),property:b.getAttribute("data-property"),protocol:b.getAttribute("data-protocol"),shortfirstname:b.getAttribute("data-shortfirstname"),shortuserid:b.getAttribute("data-shortuserid"),status:b.getAttribute("data-status"),spaceid:b.getAttribute("data-spaceid"),test_id:b.getAttribute("data-test_id"),userid:b.getAttribute("data-userid"),style:b.getAttribute("data-style")}};a.ucs.Meta=function(a){b=this,b.components={meta:a},b.data=c(a),b.imgBeacon()},a.ucs.Meta.prototype={imgBeacon:function(){var c,d;"1"===b.beacon()&&(d="https://www.yahoo.com/_td_api/beacon/info?"+a.QueryString.stringify({site:"fp",src:"uhlegacy",property:b.property(),ucsdevice:b.device(),exp:b.experience(),host:b.host(),lang:b.languagetag(),cobrand:b.cobrand(),forecobrand:b.forcecobrand(),_rnd:(new Date).getTime().toString().substr(7)}),c=new window.Image,c.src=d)},authState:function(){return a.Object.getValue(b.data,"authstate")},beacon:function(){return a.Object.getValue(b.data,"beacon")},cobrand:function(){return a.Object.getValue(b.data,"cobrand")},crumb:function(){return a.Object.getValue(b.data,"crumb")},mccrumb:function(){return a.Object.getValue(b.data,"mccrumb")},gta:function(){return a.Object.getValue(b.data,"gta")},device:function(){return a.Object.getValue(b.data,"device")},experience:function(){return a.Object.getValue(b.data,"experience")},find:function(b){return a.one(a.Lang.sub("#yucs-{component}",{component:b}))},firstname:function(){return a.Object.getValue(b.data,"firstname")},flight:function(){return a.Object.getValue(b.data,"flight")},forcecobrand:function(){return a.Object.getValue(b.data,"forcecobrand")},guid:function(){return a.Object.getValue(b.data,"guid")},host:function(){return a.Object.getValue(b.data,"host")},https:function(){return a.Object.getValue(b.data,"https")},languagetag:function(){return a.Object.getValue(b.data,"languagetag")},property:function(){return a.Object.getValue(b.data,"property")},protocol:function(){return a.Object.getValue(b.data,"protocol")},shortfirstname:function(){return a.Object.getValue(b.data,"shortfirstname")},shortuserid:function(){return a.Object.getValue(b.data,"shortuserid")},status:function(){return a.Object.getValue(b.data,"status")},spaceid:function(){return a.Object.getValue(b.data,"spaceid")},test_id:function(){return a.Object.getValue(b.data,"test_id")},userid:function(){return a.Object.getValue(b.data,"userid")},style:function(){return a.Object.getValue(b.data,"style")},toJSON:function(){return{authState:b.authState(),cobrand:b.cobrand(),crumb:b.crumb(),mccrumb:b.mccrumb(),gta:b.gta(),device:b.device(),experience:b.experience(),firstname:b.firstname(),flight:b.flight(),forcecobrand:b.forcecobrand(),guid:b.guid(),host:b.host(),https:b.https(),languagetag:b.languagetag(),property:b.property(),protocol:b.protocol(),shortfirstname:b.shortfirstname(),shortuserid:b.shortuserid(),status:b.status(),spaceid:b.spaceid(),test_id:b.test_id(),userid:b.userid(),style:b.style()}}}},"0.0.1",{requires:["node","querystring-stringify"]}),a.YObj.use("ucs-meta",function(b){b.Lang.isObject(a.Meta)&&a.Meta instanceof b.ucs.Meta||(a.Meta=new b.ucs.Meta(b.one("#yucs-meta")))})}(window.ucs);YUI.add("ucs-disclaimer-seed",function(a){a.namespace("ucs"),a.ucs.DisclaimerSeed={init:function(){var b,c=!1,d=a.one("#yucs-disclaimer")?a.one("#yucs-disclaimer"):a.one("#yucs-disclaimer-md"),e=d.getAttribute("data-property"),f=(d.getAttribute("data-lang"),d.getAttribute("data-dss")),g=(d.getAttribute("data-cu"),d.getAttribute("data-cobrand"),!1),h=!1,i=(a.Cookie.get("DSS"),parseInt((new Date).getTime()/1e3),a.Cookie.getSub("ucs","disclaimer",Number),"desktop"),j="false",k=navigator.userAgent.toLowerCase(),l=a.Cookie.getSub("AO","o")?a.Cookie.getSub("AO","o"):a.Cookie.getSub("AO",'"o'),m=a.Cookie.getSub("AO","u")?a.Cookie.getSub("AO","u"):a.Cookie.getSub("AO",'"u'),n=(a.Cookie.getSub("AO","t")?a.Cookie.getSub("AO","t"):a.Cookie.getSub("AO",'"t'),a.Cookie.getSub("AO","dnt")?a.Cookie.getSub("AO","dnt"):a.Cookie.getSub("AO",'"dnt'));this.jsPath="https://s.yimg.com/zz/combo?kx/yucs/uh3/disclaimer/388/js/disclaimer-min.js",this.cssPath="https://s.yimg.com/zz/combo?kx/yucs/uh3/disclaimer/388/css/disclaimer-min.css",a.one("#yucs-disclaimer")?i=a.one("#yucs-disclaimer").getAttribute("data-device"):a.one("#yucs-disclaimer-md")&&(i=a.one("#yucs-disclaimer-md").getAttribute("data-device")),j=i&&(i.match(/smartphone/gi)||i.match(/tablet/gi)),"frontpage"===e&&(i.match(/smartphone/gi)||i.match(/tablet/gi))&&(a.one("#OpenMenuBtn")&&a.one("#OpenMenuBtn").on("touchstart",this.setKillswitch,this),a.one("#OpenWidgetsBtn")&&a.one("#OpenWidgetsBtn").on("touchstart",this.setKillswitch,this)),f&&"0"===f&&k.indexOf("version")>=0&&k.indexOf("crios")<0&&(b=k.match(/version\/(\d+)/),i.match(/desktop/gi)&&b&&b[1]&&parseInt(b[1])<8?this.loadCSS(this.cssPath,this.jsPath):j&&a.UA.ios&&a.UA.ios<8&&this.loadCSS(this.cssPath,this.jsPath)),n&&(n=n.replace('"',""),n=n.replace("'",""),n=parseInt(n)),m&&(m=m.replace('"',""),m=m.replace("'",""),m=parseInt(m)),l?(l=l.replace('"',""),l=l.replace("'",""),l=parseInt(l)):c=!0,c=!0,g=!0,n&&1===n&&g===!0&&h===!1&&(n=a.Cookie.get("AO",{raw:!0}),n=n.replace("o=1","o=0"),a.Cookie.set("AO",n,{expires:new Date("January 12, 2025"),path:"/",domain:"yahoo.com",raw:!0}))},setKillswitch:function(){a.one("#yucs-disclaimer").setAttribute("data-killswitch","1")},loadCSS:function(b,c){var d={onSuccess:function(){this.loadJS(c)},onFailure:function(){this.loadCSS(b)},context:this};a.Get.css(b,d)},checkTimer:function(){var b=a.Cookie.getSub("ucs","disclaimerts",Number),c=(new Date).getTime();return c>=b||null===b?!0:!1},loadJS:function(b){var c={onFailure:function(){this.loadJS(b)},context:this};a.Get.script(b,c)}}},"1.0",{requires:["node","cookie"]}),function(){if("undefined"!=typeof ucs&&ucs.YObj)ucs.YObj.use("ucs-disclaimer-seed",function(a){a.ucs.DisclaimerSeed.init()});else{var a=document.getElementById("yUnivHead"),b=a&&"srp"===a.getAttribute("data-property")?Y:YUI();b.use("ucs-disclaimer-seed",function(a){a.ucs.DisclaimerSeed.init()})}}();YUI.add("ucs-more-menu",function(a){a.namespace("ucs.MoreMenu");var b=(ucs.HIDDEN_CLS,"MoreDropDown-Box"),c="Eyebrow";a.ucs.MoreMenu=function(d){d.removeClass("yucs-more-activate"),this.topBar=a.one("#"+c),a.ucs.MoreMenu.superclass.constructor.call(this,d,{panel:"."+b,event:"click",ylt:d.getAttribute("data-ylt"),align:"left"}),this._init()},a.extend(a.ucs.MoreMenu,a.ucs.MenuUtils,{_init:function(){this.menu.on("ucs:show",this._handleShowMenu,this),this.menu.on("ucs:hide",this._handleHideMenu,this)},_handleShowMenu:function(){this.menu.addClass("MoreDropDown-on")},_handleHideMenu:function(){this.menu.removeClass("MoreDropDown-on")},_handleKeyup:function(a){27===a.keyCode||9===a.keyCode?this._hideMenu():40!==a.keyCode||this.keyedup||(this.panel.one("a"),this.keyedup=!0)}})},"1.0",{requires:["node","event","event-resize","event-hover","node-focusmanager","event-mouseenter","event-delegate","ucs-menu-utils"]}),function(){document.getElementById("yucs");window.ucs&&window.ucs.YObj&&ucs.YObj.use("node","ucs-more-menu",function(a){var b=a.one("#yucs-more.yucs-more-activate");b&&(window.ucs.moreMenu=new a.ucs.MoreMenu(b))})}();YUI.add("ucs-home-menu",function(a){a.namespace("ucs.HomeMenu");var b=(window.ucs.HIDDEN_CLS,"HomeDropDown-Box"),c="Eyebrow";a.ucs.HomeMenu=function(d){d.removeClass("yucs-home-activate"),this.topBar=a.one("#"+c),a.ucs.HomeMenu.superclass.constructor.call(this,d,{panel:"."+b,event:"click",ylt:d.getAttribute("data-ylt"),align:"left"}),this._init()},a.extend(a.ucs.HomeMenu,a.ucs.MenuUtils,{_init:function(){this.menu.on("ucs:show",this._handleShowMenu,this),this.menu.on("ucs:hide",this._handleHideMenu,this)},_handleShowMenu:function(){this.menu.addClass("HomeDropDown-on")},_handleHideMenu:function(){this.menu.removeClass("HomeDropDown-on")},_handleKeyup:function(a){27===a.keyCode||9===a.keyCode?(this.menu.one("a").focus(),this._hideMenu()):40!==a.keyCode||this.keyedup||(this.keyedup=!0)}})},"1.0",{requires:["node","event","event-resize","event-hover","node-focusmanager","event-mouseenter","event-delegate","ucs-menu-utils"]}),function(){document.getElementById("yucs");window.ucs&&window.ucs.YObj&&ucs.YObj.use("node","ucs-home-menu",function(a){var b=a.one("#yucs-home.yucs-home-activate");b&&(window.ucs.HomeMenu=new a.ucs.HomeMenu(b))})}();YUI.add("ucs-search",function(a){a.namespace("ucs");var b={"&":" ","<":" ",">":" ",'"':" ","'":" ","/":" ","`":" "},c="value",d="click",e="suggest",f="touchstart",g="submit",h="tabindex",i="target",j="UHSearch-Init",k="yucs-content-qry",l="#yucs-satray",m=a.one("#yucs-meta").getAttribute("data-property"),n=a.one("#yucs-meta").getAttribute("data-forcecobrand"),o=a.one("#yucs-meta").getAttribute("data-languagetag").toLowerCase(),p="379",q=("https"===window.ucs.protocol?"https://s":"http://l")+".yimg.com/",r="https://s.yimg.com/pv/search-assist/sa-min@0.0.0-65.css",s="https://s.yimg.com/kx/yucs/uh3s/search/css/78/fpassist.css",t="search-assist-form-submit",u="#hpsetLightboxContainer.Modal-on",v=q+"kx/yucs/uh3s/search/"+p+"/js/search_filter_v2-min.js",w=window.ucs.escapeRegex,x="V(h)",y=w(x);a.ucs.Search=function(a){this.form=a,this.buttons=this.form.all(".uhBtn"),this.form.set("onsubmit",null),this.loadedAssist=!1,this.keyPressEnter=!1,this.keyInputProcessing=!1,this.counter=1,this.init()},a.ucs.Search.prototype={isWebSearch:!1,init:function(){var b=ucs.components.search;this.form.removeClass(j),this._setTabIndex(),this.is2Button=2===this.buttons.size(),this.input=this.form.one(b.input_selector),this.vertSearchBtn=this.form.one(b.prop_btn_selector),this.webSearchBtn=this.form.one(b.web_btn_selector),this.input_data=this.input.getData(),this._initClearBtn(),this.searchHint=this.input_data.sh||"",this.yltvsearch=this.input_data.yltvsearch,this.yltvsearchsugg=this.input_data.yltvsearchsugg;var d=this.form.getData("webaction");if(d){var e=this.input.getAttribute("name");a.Array.indexOf(["q"],e)<0&&this.input.setAttribute("name","p"),this.form.setAttribute("action",d),this.vertSearchBtn&&this.vertSearchBtn.setAttribute("data-vsearch",this.yltvsearch)}this._hasPlaceholderSupport()&&!a.UA.ie&&this.input.removeAttribute("data-sh");var f=a.one(ucs.UH_MAIN_ID);"en-us"===o&&f&&"finance"===m&&!this.is2Button&&this.input.setAttribute("name","s"),(this._inputIsEmpty()||this._inputIsDefaultTerm()||this.loadedAssist)&&"zh-hant-tw"!==o&&"zh-hant-hk"!==o||(this.loadedAssist=!0,this._initAssist()),f&&f.getAttribute("data-linktarget")?this.linkTarget=f.getAttribute("data-linktarget"):this.linkTarget=this.form.getAttribute("target")||"_top",this._setFormTarget(),this._initEventListeners();var g=document.URL,h=/[?&]p=([^&]+)/i,i=h.exec(g);null==i&&"help"===m&&(h=/[?&]question_box=([^&]+)/i,i=h.exec(g)),null==i||"answers"!==m&&"help"!==m&&"shopping"!==m||this.input.setAttribute("value",decodeURIComponent(i[1].replace(/\+/g," "))),"shopping"===m&&this._loadSearchFilter(),document.activeElement!==this.input._node&&""===this.input.get(c)&&this._resetSearchInput(),this._autoFocus()},initInterface:function(){var a=this,b=ucs.UhSearchInterface={};b.getInput=function(){return a._getSearchInput()},b.setInput=function(b){a._setSearchInput(b)},b.resetInput=function(){a._resetSearchInput()},b.getVertSearchBtnText=function(){return a._getVertSearchBtnContent()},b.setVertSearchBtnText=function(b){a._setVertSearchBtnContent(b)},this._fireInterfaceReady()},_loadSearchFilter:function(){var b={onSuccess:a.bind(function(){var a=this;ucs.YObj.use("ucs-search-filter",function(b){new b.ucs.SearchFilter({data:{input:a.input,vertSearchBtn:a.vertSearchBtn}})})},this)};a.Get.script(v,b)},html:function(a){return(a+"").replace(/[&<>"'\/`]/g,this._htmlReplacer)},_htmlReplacer:function(a){return b[a]},_langCamelCase:function(a){var b=a.split("-");switch(b.length){case 2:return b[0].toLowerCase()+"-"+b[1].toUpperCase();case 3:return b[0].toLowerCase()+"-"+b[1].charAt(0).toUpperCase()+b[1].substr(1).toLowerCase()+"-"+b[2].toUpperCase();default:return a}},_autoFocus:function(){var b=(/[?&]tab=chrome($|&)/g.test(a.config.win.location.href)===!1,a.one(u));if(!a.UA||!a.UA.ios&&!a.UA.android){var c=a.one("#yucs-meta");if("sports"!==m||!c||"fantasy"!==c.getAttribute("data-style")){var d=this.input&&this.input.get("region")||null,e=a.one(window).get("scrollY");d&&e&&d.bottom<e||"mail"!==m&&null===b&&this.input.focus()}}},_hasPlaceholderSupport:function(){var a=document.createElement("input");return"placeholder"in a},_initClearBtn:function(){var b=a.one("#yucs-search-clear");b&&(this.searchClearBtn=b,0===a.UA.ie&&this.form.addClass("yucs-clear-padding"),this.input.on("keyup",this._clearBtnState,this),this.searchClearBtn.on("click",this._handleFormReset,this))},_clearBtnState:function(){var a=this.searchClearBtn.hasClass(y),b=this._inputIsEmpty()||this._inputIsDefaultTerm();!b&&a?this.searchClearBtn.removeClass(y):b&&!a&&this.searchClearBtn.addClass(x)},_handleFormReset:function(b){b.preventDefault(),this._setInputBlank(),a.Global.fire("ucs-rapid:click",{sec:"uh-d",slk:"srchclr",_pValue:"0",keys:{rspns:"nav",t1:"a1",t2:"uh-d",t3:"srch",t5:"srchclr",elm:"btn",elmt:"srch",itc:"0"}}),a.later(10,this,function(){this._clearBtnState(),this.sa&&this.sa.gossip&&this.sa.gossip.hide&&this.sa.gossip.hide(),this._autoFocus()})},_initEventListeners:function(){var b=this.form.on(g,this._handleSubmit,this),c="fpassist"===this.input_data.satype?"li":"a";this.input.on("keydown",this._handleInputKeypress,this),this.input.on("blur",this._handleInputBlur,this),this.input.on("keyup",this._handleInputKeyup,this),this.input.on(d,this._handleInputClick,this),this.webSearchBtn.on(d,this._handleWebSearchEvent,this),("mail"===m||this.is2Button)&&(this.vertSearchBtn&&this.vertSearchBtn.on(d,this._handleVertSearch,this),a.UA.ie&&(b.detach(),this.webSearchBtn.on(d,this._handleWebSearchClick,this),this.form.on(g,this._handleVertSearch,this)),this.publish("ucs:webSearch",{broadcast:2,emitFacade:!0}),a.Global.on("ucs:webSearch",this._handleWebSearchEvent,this),a.Global.on("ucs:mailSearch",this._trackMailSearch,this),a.Global.on("ucs:mailSearchSugg",this._trackMailSearchSugg,this)),a.one(l).delegate(d,this._handleRapidBeacon,c)},_getInputValTrimmed:function(){var b=this.input.get(c);return b=a.Lang.trim(b)},_inputIsEmpty:function(){return""===this._getInputValTrimmed()},_inputIsDefaultTerm:function(){return this._getInputValTrimmed()===this.searchHint},_handleInputKeyup:function(a){13===a.keyCode;var b=this._inputIsEmpty();!this.keyInputProcessing&&b&&(this._resetSearchInput(),this._setCaretStart()),b||this._inputIsDefaultTerm()||this._setTabIndex(),this.loadedAssist||(this.loadedAssist=!0,this._initAssist())},_handleInputClick:function(){this._inputIsDefaultTerm()&&(this._resetSearchInput(),this._setCaretStart())},_setCaretStart:function(){var a,b,c=window.document.selection;c&&"Control"!==c.type&&(a=this.input.get("value").length,b=c.createRange(),b.move("character",-a),b.select())},_setTabIndex:function(){var b=a.UA.ie>0&&a.UA.ie<=7;this.buttons.each(function(a){var c=a.getAttribute(h);b&&0===c||b&&65535===c||c&&(!b||32768!==c)?a.setAttribute(h,0):a.setAttribute(h,-1)})},_setFormTarget:function(){"_blank"===this.linkTarget||this.form.hasClass("yucs-search-fh")?this.form.setAttribute(i,"searchWin"):this.form.setAttribute(i,this.linkTarget)},_initAssist:function(){var a=this.input_data.satype;switch(a){case"fpassist":this._initFPAssist(this.input._node);break;case"mini":this._initMiniAssist(this.input._node);break;case"rich":this._initRichAssist(this.input._node)}},_buildAssistConfig:function(a){var b={searchbox:a,clid:"uh-yui3",shim:1,align:!0,gossip:{styleList:[{selector:"a",classes:m.match(/frontpage/gi)?"Fz(18px) Fw(b) D(b) Mx(8px) C(#000.8)! Td(n) Td(n)!:h":"Fw(b) D(b) Mx(6px) C(#000.8) Td(n) Td(n)!:h"},{selector:"this",classes:"Hover P(0) M(0)"}]},nresults:a.getAttribute("data-maxresults")||5};return b.node=l,a.getAttribute("data-pubid")&&(b.pubid=a.getAttribute("data-pubid")),a.getAttribute("data-gosurl")&&(b.url=a.getAttribute("data-gosurl")),b},_initFPAssist:function(b){var c={fpassist:{fullpath:"https://s.yimg.com/pv/search-assist/sa-min@0.0.0-65.js",requires:["base"]},"fpassist-skin":{fullpath:r,type:"css"},"fpassist-skin-overide":{fullpath:s,type:"css"}},d=this._langCamelCase(o);a.one("#yucs-satray").removeClass("D\\(n\\)");var e=window.ucs.escapeRegex("uhFancyBox Bg(#fff) Bd(ttbd) Bxsh(ttsh) Bdrs(3px)");a.one("#yucs-satray").removeClass(e),ucs.YObj.applyConfig({modules:c});var f=this;ucs.YObj.use("fpassist","fpassist-skin-overide","fpassist-skin",function(a){ucs.YObj.config.fetchCSS===!1&&(a.Get.css(r),a.Get.css(s)),YUI().use("search-assist-client","search-assist-advanced-suggestions-plugin",function(a){var c,e=new a.Node(b),g={lang:d,searchBox:"#UHSearchBox",anyKeySearch:!0,enableTrending:!1,maxSuggests:10,noSpaceOnFocus:!0,https:!0,autoAlign:!1,hostNodeToAttach:"#yucs-satray",quietMode:!1,stream:!1,reverseHighlight:!0,allowCache:!0,ariaPlug:!0};e.getAttribute("data-pubid")&&(g.pubid=e.getAttribute("data-pubid")),e.getAttribute("data-appid")&&(g.appId=e.getAttribute("data-appid")),f.vertSearchBtn&&(g.preventFormSubmit=!0),c=new a.SEARCHASSIST.CLIENT(g),f.vertSearchBtn&&c.on(t,function(b){b.target=a.one(l),f._handleVertSearch(b)}),"att"!==n&&f.input.select(),f._autoFocus()})})},_initMiniAssist:function(a){var b=this,c=q,d=p;ucs.YObj.applyConfig({groups:{miniassist:{combine:!0,base:c,comboBase:c+"zz/combo?",root:"kx/yucs/uh3s/search/"+d+"/js/",maxURLLength:2e3,modules:{miniassist:{path:"mini-assist-min.js",requires:["base","get","node","event-focus","plugin","array-extras","tray-align-plugin","tray-shim-plugin","event-move"]},"tray-align-plugin":{path:"tray-align-plugin-min.js"},"tray-shim-plugin":{path:"tray-shim-plugin-min.js"}}}}}),ucs.YObj.use("miniassist","escape",function(c){var d,f,g,h=new c.Node(a),i=b._buildAssistConfig(h);if(b.sa=new c.Search.MiniAssist(i),"finance"===m&&b.sa.assist.set("minLength",1),"zh-hant-tw"!==o&&"zh-hant-hk"!==o||b.sa.assist.set("minLength",1),"att"===n&&"en-us"===o&&b.sa.assist.set("minLength",1),d=b.sa.tray.get("node"),f=b.is2Button&&d.getAttribute("data-vsearch")||"",g=d.getAttribute("data-vfr"),b.sa.assist._checkValue(),b.sa.gossip.set("scrollSize",13),b.sa.gossip.set("linkStem",f),b.sa.gossip.set("linkParams",{fr:g}),b.sa.gossip.set("uhbParams",{uhb:g}),b.is2Button||(b.sa.gossip.set("hideEmptyTray",!1),b.sa.gossip.set("linkParams",{})),"finance"===m){var j=d.getAttribute("data-vstext"),l=d.getAttribute("data-vert_fin_search"),p=d.getAttribute("data-searchNews");b.sa.assist.on(e,function(a){if(a.query){var d=c.one("#"+k),e=b.sa.buildSearchUrl(h,a.query,l,{fr:p});"finance"===m&&(e=e.replace("?s=","?p=")),d?d.one("li").setContent("<a id='searchVertical' href='"+e+"' text='"+c.Escape.html(a.query)+"'>"+j+" <q>"+c.Escape.html(a.query)+"</q></a>"):(document.getElementById("hspart")&&(e+="&hspart="+document.getElementById("hspart").value),document.getElementById("hsimp")&&(e+="&hsimp="+document.getElementById("hsimp").value),document.getElementById("yucs-hstype")&&(e+="&type="+document.getElementById("yucs-hstype").value),d=c.Node.create("<ul id='"+k+"'><li><a id='searchVertical' href='"+e+"'>"+j+"<q>"+c.Escape.html(a.query)+"</q></a></li></ul>"),c.one(".sa-panel").append(d)),d.one("a").addClass("Mx(6px) My(0) C(#000)! Td(n) Td(n):h D(b)"),d.setAttribute("style","border-top: 1px solid #e2e2e6;border-radius: 0 0 3px 3px;"),d.addClass("Bgc(#f5f5f5) My(0) Lh(2)")}})}b.form.on("submit",function(a){var c=b._getActiveAssistItem();if(c){var d=c.getAttribute("href");a.preventDefault(),"_blank"===b.linkTarget||b.form.hasClass("yucs-search-fh")?window.open(d,"searchWin"):window.location.href=d}})})},_getUHB:function(){var b=a.one("#uhb");return b&&b.get("value")||"uhb2"},_initRichAssist:function(a){var b=this,c={richassist:{fullpath:"http://a.l.yimg.com/a/lib/s7/richassist-yui3-201009101433.js",requires:["base","get","node","event-focus","plugin"]},"tray-align-plugin":{fullpath:"http://a.l.yimg.com/a/lib/s7/tray-align-plugin-201009101433.js",requires:["richassist"]},"tray-shim-plugin":{fullpath:"http://l.yimg.com/a/lib/s7/tray-shim-plugin-201009101433.js",requires:["richassist"]}};ucs.YObj.applyConfig({modules:c}),ucs.YObj.use("richassist","tray-align-plugin","tray-shim-plugin",function(c){var d=new c.Node(a),e=b._buildAssistConfig(d);b.sa=new c.Search.RichAssist(e)})},_setInputBlank:function(){this.input.set(c,"")},_handleSearchToggle:function(a){a.preventDefault(),this._toggleSearch()},_getActiveAssistItem:function(){return a.one(l+" a.sa-active")},_toggleSearch:function(){var b=this,c=function(a){b._handleBodyClick(a)};a.one(ucs.UH_MAIN_ID).toggleClass("yucs-show_search"),this.bodyClick?(this.bodyClick.detach(),this.bodyScroll.detach(),this.bodyClick=this.bodyScroll=null):(a.UA.mobile&&"createTouch"in document&&"addEventListener"in document.body?(a.log("using touchstart in mobile browser","info","search"),document.body.addEventListener(f,c,!1),this.bodyClick={detach:function(){"removeEventListener"in document.body&&document.body.removeEventListener(f,c,!1)}}):this.bodyClick=a.one("body").on(d,this._handleBodyClick,this),this.bodyScroll=a.on("scroll",function(a){this._toggleSearch()},this))},_handleBodyClick:function(b){var c,d=b&&b.target||null;d&&(c="function"==typeof d.ancestor?d:a.one(d),c&&!c.ancestor(ucs.UH_MAIN_ID)&&this._toggleSearch())},_handleWebSearchClick:function(a){this.isWebSearch=!0,this.form.one("#yucs-sky-term")&&this.form.one("#yucs-sky-term").set(c,this._getInputValTrimmed()),this.sa&&this.is2Button&&this.sa.set("iswebsearch",!0)},_handleSubmit:function(b){if(this.form.one("#yucs-sky-term")&&this.form.one("#yucs-sky-term").set(c,this._getInputValTrimmed()),this._inputIsDefaultTerm()&&this._setInputBlank(),b&&b.target&&(this.isWebSearch=a.one(b.target).hasClass("yucs-wsearch-button")),this.vertSearchBtn&&!this.isWebSearch&&this._handleVertSearch(b),document.getElementById("yuhead-att-cat")){"searchWin"!==this.form.getAttribute(i)&&b.preventDefault();var d=a.Node.create("<img />");d.once("load",this._handleImageLoad,this),d.once("error",this._handleImageLoad,this),this._timer=window.setTimeout(a.bind(this._handleImageLoad,this),2e3),d.set("src","http://attadworks.turn.com/r/dd/id/L21rdC8xMDAvY2lkLzE1OTE3NzExL3QvMg/qry/"+encodeURIComponent(this._getInputValTrimmed()))}},_handleImageLoad:function(a){null!==this._timer&&(clearTimeout(this._timer),this._timer=null),"searchWin"!==this.form.getAttribute(i)&&this.form.submit()},_handleInputKeypress:function(b){var c,d,e=this.form.getAttribute("data-webaction-tar")||"search.yahoo.com",f=this.form.getAttribute("data-verticalaction-tar"),g=f?f:e;return this.keyInputProcessing=229===b.keyCode,46!==b.keyCode&&8!==b.keyCode||!this._inputIsDefaultTerm()?void(this._inputIsEmpty()&&b.keyCode>=32&&b.keyCode<=40?this.input.blur():9!==b.keyCode&&13!==b.keyCode?(!this.keyInputProcessing&&this._inputIsDefaultTerm()&&(this._setInputBlank(),this.input.removeClass("yucs-search-hint-color")),this.loadedAssist||(this.loadedAssist=!0,this._initAssist()),d={eventName:"type",keys:{sec:"uh-d",slk:"srchtype",_p:"0",rspns:"nav",t1:"a1",t2:"uh-d",t3:"srch",t5:"srchtype",elmt:"srch",itc:"1"}},1===this.counter&&a.Global.fire("ucs-rapid:event",d),this.counter=this.counter+1):13!==b.keyCode||this._inputIsEmpty()||(this.keyPressEnter=!0,c={sec:"uh-d",slk:"srchwebent",_pValue:"0",keys:{rspns:"nav",t1:"a1",t2:"uh-d",t3:"srch",t5:"srchwebent",elm:"kb-ent",elmt:"srch",itc:"0",tar:g}},a.Global.fire("ucs-rapid:click",c))):void b.preventDefault()},_handleRapidBeacon:function(b){var d,e,f=b.currentTarget,g=a.one("#UHSearchBox"),h=g.getAttribute("data-satype"),i="fpassist"===h?f.getAttribute("pos"):f.get("parentNode").getAttribute("pos"),j=a.one("#UHSearch"),k=j.getAttribute("data-webaction-tar")||"search.yahoo.com",l=j.getAttribute("data-verticalaction-tar"),m=l?l:k,n=f.getAttribute("href"),o=j.one("#yucs-fr2"),p={sec:"uh-d",slk:"srchast",_pValue:i,keys:{rspns:"nav",t1:"a1",t2:"uh-d",t3:"srch",t4:"tray",t5:"srchast",cpos:i,elm:"itm",elmt:"srchast",itc:0,tar:m}};"fpassist"===h&&(j.one(ucs.components.search.prop_btn_selector)?(d=g.getAttribute("data-yltvsearch"),e=j.getAttribute("data-vfr")):(d=j.getAttribute("data-webaction"),e=j.one("#fr").get(c)),n=d+"?"+g.getAttribute("name")+"="+f.getAttribute("data")+"&fr="+e),o&&(n=n.replace("%2Cm%3Asb","%2Cm%3Asa")),b.preventDefault(),a.Global.fire("ucs-rapid:click",p),window.setTimeout(function(){window.location=n},500)},_handleInputBlur:function(a){this._inputIsEmpty()&&this._resetSearchInput()},_handleVertSearch:function(b){if(a.log("handleVertSearch"),this.is2Button===!1)return void(this.isWebSearch=!1);if(b.preventDefault(),!this._inputIsEmpty()){var d,e=b.target.getAttribute("data-vsearch"),f="1button";if(this.is2Button&&(f="2button"),e||(e=this.vertSearchBtn.getAttribute("data-vsearch")),e&&"mail"!==m){if(d=e.split("?"),1===d.length?d="":(e=d[0],d=d[1]),"finance"===m)e+="?uhb="+b.target.getAttribute("data-vfr")+"&fr="+a.one(l).getAttribute("data-searchNews")+"&type="+f+"&s="+encodeURIComponent(this.input.get(c));else if("groups"===m)e+="?query="+encodeURIComponent(this.input.get(c));else if("help"===m){this.helpForm=a.one("#landingSearch"),this.helpForm||(this.helpForm=a.one("#question_form"));var g=this;if(this.helpForm){this.vsu="";var h=this.helpForm.one('input[type="text"]').getAttribute("name");this.helpForm.all('input[type="hidden"]').each(function(a){g.vsu+=a.getAttribute("name")+"="+a.getAttribute("value")+"&"},g),e=this.helpForm.getAttribute("action"),e+="?"+this.vsu+h+"="+encodeURIComponent(this.input.get(c)),"question_box"!==h&&(e+="&p="+encodeURIComponent(this.input.get(c)))}else e+="?fr="+b.target.getAttribute("data-vfr")+"&type="+f+"&query="+encodeURIComponent(this.input.get(c))}else e+=b.target.getAttribute("data-vfr")?"?fr="+b.target.getAttribute("data-vfr")+"&type="+f+"&p="+encodeURIComponent(this.input.get(c)):"?type="+f+"&p="+encodeURIComponent(this.input.get(c));d&&(e+="&"+d),"_blank"===this.linkTarget||this.form.hasClass("yucs-search-fh")?window.open(e,"searchWin"):window!==window.top?window.top.location.href=e:window.location.href=e}else this._fireVertSearchEvent(b)}},_fireVertSearchEvent:function(a){var b=this.input.get(c);this.publish("ucs:verticalSearchAction",{broadcast:2,emitFacade:!0}),this.fire("ucs:verticalSearchAction",{query:b})},_handleWebSearchEvent:function(b){var d,e=this,f=this.form.getAttribute("data-webaction-tar")||"search.yahoo.com",g=this.form.getAttribute("data-verticalaction-tar"),h=g?g:f,i=0,j=this.form.one("#fr");if(b.query&&this.input.set("value",b.query),b.preventDefault(),this.form.one("#yucs-sky-term")&&this.form.one("#yucs-sky-term").set(c,this._getInputValTrimmed()),j&&"mail_bucket_02"===j.get(c)&&j.set(c,"mail_bucket_01"),j&&"mail_bucket_01"===j.get(c)&&(i=j.getAttribute("data-sa"),"1"===i&&(j.set(c,"mail_bucket_02"),j.setAttribute("data-sa","0"))),!this._inputIsEmpty()||this.is2Button||"zh-hant-tw"===o||"zh-hant-hk"===o){var k,l=this._getActiveAssistItem();l&&"frontpage"===m&&(k=this.form.one("input#fr"),k.set("value",k.get("value")+"-s")),"_top"!==this.linkTarget?this.form.submit():(d={sec:"uh-d",slk:"srchweb",_pValue:"0",keys:{rspns:"nav",t1:"a1",t2:"uh-d",t3:"srch",t5:"srchweb",elm:"btn",elmt:"srch",itc:"0",tar:h}},this.keyPressEnter||a.Global.fire("ucs-rapid:click",d),window.setTimeout(function(){e.form.submit()},500))}},_fireInterfaceReady:function(){this.publish("ucs:uhSearchInterfaceReady",{broadcast:2,emitFacade:!0}),this.fire("ucs:uhSearchInterfaceReady")},_getSearchInput:function(){return this.input},_resetSearchInput:function(){this.searchHint&&this.input.addClass("yucs-search-hint-color"),this.input.set(c,this.searchHint)},_setSearchInput:function(a){this.input.set(c,a)},_getVertSearchBtnContent:function(){return this.vertSearchBtn.get(c)},_setVertSearchBtnContent:function(a){this.vertSearchBtn.set(c,a.text?a.text:a)},_trackMailSearch:function(){a.log("Mail search"),this._sendBeacon(this.yltvsearch)},_trackMailSearchSugg:function(){a.log("Mail search sugg"),this._sendBeacon(this.yltvsearchsugg)},_trackPropSearch:function(){a.log("Prop Search"),this._sendBeacon(this.yltvsearch)},_sendBeacon:window.ucs._sendBeacon},a.augment(a.ucs.Search,a.EventTarget)},"1.0",{requires:["node","event","event-custom","event-resize","dom-screen"]}),window.ucs&&window.ucs.YObj&&ucs.YObj.use("node","ucs-search",function(a){var b=ucs.components.search,c=a.all(b.selector+"."+b.init_cls);c.each(function(b,c,d){if(b.ancestor(ucs.UH_MAIN_ID)){a.log("instantiating uh search component");var e=new a.ucs.Search(b);e.initInterface()}else{a.log("instantiating search components");new a.ucs.Search(b)}})});YUI.add("ucs-avatar",function(a){var b={size:"32x32",style:{width:32,height:32},loadOnResponse:!0,bucket:null},c=a.one("#yucs-meta"),d=window.ucs.escapeRegex,e=window.ucs.DN_CLS,f=function(b,c,d,e){var f=null,g=function(b){return function(e){var f=a.Object.getValue(e,c),g=null;return f&&b(f)&&(g="value"===d?f:e),g}};if(e="function"==typeof e?e:function(){return!0},g=g(e),!a.Lang.isArray(b))return g(b);for(var h=0,i=b.length;i>h&&!(f=g(b[h]));h++);return f},g=function(b){var c=[];return a.Array.each(b,function(a){c.push('"'+a.size+'"')}),a.Array.dedupe(c)},h=function(b){var c=a.Node.create("<img>");return c.setAttribute("alt",b.alt),c.addClass(e),c.setStyles(b.style),c.on("load",function(){var a=b.target;a.setContent(this),j(a),this.removeClass(d(e))}),c},i=function(a){a.avatarMarkup.setAttribute("src",a.imgUrl)},j=function(a){a.removeClass(d("V(h)"))},k=function(a){var b=f(a,["byImageUrl"],"item");return b&&(b.imageUrl=b.byImageUrl),b},l=function(b){var c,d,e=(new Date).getTime();return d=a.Cookie.getSub("ucs","tr",Number),(null===d||e>=d)&&(c=new Image,c.src=b,a.Cookie.setSub("ucs","tr",e+864e5,{expires:new Date((new Date).setYear((new Date).getFullYear()+1)),path:"/",domain:"yahoo.com"})),null};a.namespace("ucs"),a.ucs.Avatar=function(){var b=a.all(ucs.UH_MAIN_ID+" i[data-avatar]");b.size()&&(this.initEvents(),this.init(b))},a.ucs.Avatar.prototype={initEvents:function(){a.Global.on("ucs:loadAvatar",function(a,b){var c,d=this.avatarOptions,e=!1;if(b="function"==typeof b&&b||function(){},d&&!this.isDefaultProfileImage&&a)for(var f=0,g=d.length;g>f;f++)if(c=d[f],c.target.generateID()===a.generateID()){i(c),e=!0;break}return b(e)},this),a.publish("ucs:avatarReady",{fireOnce:!0,async:!0,broadcast:2})},init:function(c){this.avatarOptions=[],c.each(function(c){var d=c.getAttribute("data-avatar");d=d?a.JSON.parse(d):null,d&&(d=a.mix(d,b),c.generateID(),d.target=c,this.avatarOptions.push(d))},this),this._fetchData()},_fetchData:function(){var b=c.getAttribute("data-guid"),d=c.getAttribute("data-crumb"),e=g(this.avatarOptions).join(","),f='select * from social.profile.image where guid = "'+b+'" and size in ('+e+") and imgssl=1",h={q:f,format:"json",crumb:d,_maxage:900},i="https://ucs.query.yahoo.com/v1/console/yql?"+a.QueryString.stringify(h);a.jsonpsupercached.getData({url:i,serviceName:"avatar",onSuccess:a.bind(this._fetchSuccess,this)})},_fetchSuccess:function(b){this.initImageList(b);var c=this.imgList&&!!this.imgList[0].imageUrl.match(/profile_/);this.isDefaultProfileImage=!this.imgList||c,this.isDefaultProfileImage?a.Array.each(this.avatarOptions,function(a){j(a.target)}):(this.injectMarkup(),a.fire("ucs:avatarReady")),this.checkBeacon()},initImageList:function(b){var c,d=a.Object.getValue(b,["query","results","image"]);d&&(c=k(d),c?this.imgList=[c]:a.Lang.isArray(d)?this.imgList=d:this.imgList=[d])},injectMarkup:function(){a.Array.each(this.avatarOptions,function(a){var b=this._getAvatarUrl(a.size);a.avatarMarkup=h(a),a.imgUrl=b,a.loadOnResponse&&i(a)},this)},_getAvatarUrl:function(a){var b,c=this.imgList,d=function(){return function(b){return b===a}}();return c&&(b=c.length>1&&f(c,["size"],"item",d)||c[0],b=b.imageUrl.replace(/^http:\/\/l\.yimg/,"https://s.yimg").replace(/^http:\/\/socialprofiles\.zenfs/,"https://socialprofiles.zenfs")),b},checkBeacon:function(){var b=f(this.avatarOptions,["bucket"],"value"),d=f(this.avatarOptions,["beaconUrl"],"value");d&&("mail"===c.getAttribute("data-property")||a.Array.indexOf(["1","3"],b)>=0?("3"===b&&(d=d.replace("https://login.yahoo.com/config/login?noPrompt=1&.done=",""),d=decodeURIComponent(d)),l(d)):a.on("unload",function(){return function(){l(d)}}()))}}},"1.0",{requires:["node","cookie","event","jsonp-super-cached","querystring-stringify","json"]}),function(){window.ucs&&window.ucs.YObj&&ucs.YObj.use("node","ucs-avatar",function(a){window.ucs.Avatar=new a.ucs.Avatar})}();YUI.add("ucs-fast-switch",function(a){function b(){var b={eventName:"secvw",keys:{t1:"a1",t2:"uh-d",t4:"usr-mu"}},c=!!window.ucs.rapid,d={},e=function(){d.fetch=(new Date).getTime(),a.Global.on("ucs-rapid:ready",function(a){l()})},f=function(e,f){if(!d[e]){d[e]=(new Date).getTime();var g=a.clone(b,!0),h=f(d);g.keys=a.mix(g.keys,h),c?a.Global.fire("ucs-rapid:event",g):a.Global.once("ucs-rapid:ready",function(b,c){a.Global.fire("ucs-rapid:event",c)},this,g)}},g=function(){f("response",function(a){return{t3:"response",slk:""+(a.response-a.fetch)}})},h=function(a){f("hover",function(b){return{t3:"hover",t6:a?"render":"not-render",slk:""+(b.hover-b.fetch)}})},i=function(){d.response&&f("render",function(a){return{t3:"render",t5:""+(a.render-a.response),slk:""+(a.render-a.fetch)}})},j=function(a){f("account",function(){return{t3:"tl-lst",t5:"acct-num-"+a,slk:"acct-ct"}})},k=function(a,b){f("init",function(){return{t3:"init",t5:a,slk:b}})},l=function(){c=!0};return{sendResponse:g,sendAccount:j,sendRender:i,sendHover:h,sendInit:k,rapidReady:l,init:e}}a.namespace("ucs");var c=window,d="login",e="done",f="jsonp",g="acctList",h="manage",i="switchAcct",j="add-mng-txt",k="data-",l="D(n)",m="#yucs-profile-panel",n="#yucs-fs-msg",o=500,p="welcomeTimeout",q={},r=window.ucs.escapeRegex,s="https://",t="<% var max = data.max, mng = data."+h+'%><ul class="Pos(r) Mx(-10px)! My(0)! P(0)! Bgc(#f7f8ff) C(#000) Themable" id="yucs-acct-list"><% Y.Array.each(data.userList, function (user, index) { if(index > max-1){return;} var switchUrl = data.'+i+' + user.alias + "&.done=" + data.'+e+';%><li class="Bdw(0) Bdtw(1px) Bds(s) Bdc(#fff) Bgc(#f2f4fe):h"><a class="Td(n) Td(n):h Py(8px) D(b) Cf C(#000)" data-ylk="t3:tl-lst;t4:usr-mu;t5:<%== index+1 %>;slk:acctswitch;elm:btn;elmt:usr;" href="<%== switchUrl %>"><div class="D(ib) Zoom Va(t)"><i class="Va(m) W(a) Ycon YconProfile Lh(1) D(b) Mx(10px) C(#8d919d)" >&#x1f464;</i></div><div class="W(2/3) D(ib) Zoom Lts(n) Tren(a) Va(t) Pt(6px)"><div class="Fw(b) Fz(15px) Ell C(#000)"><%= user.fn %> <%= user.ln %></div><div class="Ell C(#000) Fz(13px)"><%= user.em || user.alias %></div></div></a></li><% }); %></ul>';"undefined"==typeof c.processDeviceUsers&&(c.processDeviceUsers=function(b){a.Global.fire("ucs:fsDataReady",b)});var u=function(b){var c=a.Template.Micro.compile(t),d=a.mix({max:2,userList:b.users},q);return c(d)},v=function(b,c){var d=new a.Anim({node:b,from:{opacity:1},to:{opacity:0},duration:.2});d.on("end",function(){c(),d.set("reverse",!0),d.detach("end"),d.run()}),d.run()},w=function(){return a.Cookie.getSub("Y","l")},x=function(){return a.Cookie.getSub("ucs","fs")},y=function(b){a.Cookie.setSub("ucs","fs",b,{expires:new Date((new Date).setYear((new Date).getFullYear()+1)),domain:"yahoo.com",path:"/"})},z=function(b){a.one("#yucs-fs-name").setContent(b.fn+"&nbsp"+b.ln),a.one("#yucs-fs-email").setContent(b.em||b.alias)},A=function(b){a.one("#yucs-fs-acct-wrap").setContent(b)};a.ucs.FastSwitch=function(c){var j=this.fsNode=c,l=j.getAttribute(k+d),n=j.getAttribute(k+f),r=j.getAttribute(k+e),t=j.getAttribute(k+p),u=".crumb="+j.getAttribute(k+"crumb");if(o=t?parseInt(t,10):o,this.rendered=!1,this.firstLoad=!0,this.ycookie=w(),this.panel=a.one(m),this.mainDisplayItems=this.panel.all(".yucs-fs-m"),n=s+(n||l),l=s+l,"mail"===a.one("#yucs-meta").getAttribute("data-property")?r="https://mail.yahoo.com":(r=r.split("?"),r=r[0]+(r.length>1?encodeURIComponent("?"+r[1]):"")),q[d]=l,q[f]=n,q[e]=r,q[g]=n+"/w/device_users?"+u,q[h]=l+"/manage_account?.done="+r+"&"+u,q[i]=l+"/d?"+["as=1",u,"login="].join("&"),this.rapidHandler=new b,this.init(),window.performance){var v=""+((new Date).getTime()-window.performance.timing.navigationStart),x=j.getAttribute(k+"grp");x&&this.rapidHandler.sendInit(x,v)}},a.ucs.FastSwitch.prototype={init:function(){a.on("ucs:avatarReady",function(){a.one("#UH").once("mousemove",function(b){var c=a.one("#yucs-fs-acct .Ycon");a.Global.fire("ucs:loadAvatar",c,function(a){a&&c.one("img")&&c.removeClass("YconProfile")})},this)}),a.Global.on("ucs:fsDataReady",this.fsDataReady,this),a.one(window).on("blur",this.handleWindowBlur,this),a.one(window).on("focus",this.handleWindowFocus,this),this.addRequestHandlers()},fsDataReady:function(b){this.jsonpRequestPending=!1,this.rapidHandler.sendResponse(),"string"==typeof b&&(b=a.JSON.parse(b));var c=b&&b.result&&parseInt(b.result,10)||0;!b||c>0?(this.rapidHandler.sendAccount("err"),this.handleError()):(b.users&&this.rapidHandler.sendAccount(b.users.length),this.initWelcomeEvent(),this.setContent(b))},handleError:function(){var b=w(),c=document.createElement("p");c.className="Ta(c) Mx(-10px) My(0) P(16px) Bgc(#fcf8e3) Whs(n)",this.cookieError=!0,b&&this.ycookie===b?(c.className+=" Bdw(0) Bdtw(1px) Bds(s) Bdc(#e2e2e6)",c.innerHTML=this.fsNode.getAttribute("data-err-crumb")):(c.innerHTML=this.fsNode.getAttribute("data-err-user"),a.all(["#yucs-fs-acct","#yucs-fs-footer","#yucs-notifications","#yucs-profile-panel .yucs-spacing","#yucs-fs-add-acct"].join(",")).remove()),A(c)},sendJsonpRequest:function(){this.removeRequestHandlers(),this.jsonpRequestPending||this.cookieError||(this.jsonpRequestPending=!0,this.rapidHandler.init(),a.Get.js(q[g]),this.initTimeoutError())},initTimeoutError:function(){var b=this.fsNode.getAttribute("data-errTimeout")||1e4;this.clearTimeoutError(),this.errTimeout=a.later(b,this,this.handleTimeoutError)},clearTimeoutError:function(){this.errTimeout&&this.errTimeout.cancel()},handleTimeoutError:function(){this.jsonpTimedout||(this.jsonpTimedout=!0,this.rapidHandler.sendAccount("timeout")),this.setContent({}),this.addRequestHandlers()},addRequestHandlers:function(){this.mouseMoveRequest=a.one("#UH").once("mousemove",this.sendJsonpRequest,this),this.clickSendRequest=a.one("#yucs-profile .yucs-trigger").once("click",this.sendJsonpRequest,this)},removeRequestHandlers:function(){this.mouseMoveRequest&&this.mouseMoveRequest.detach(),this.clickSendRequest&&this.clickSendRequest.detach()},handleWindowBlur:function(){this.clearTimeoutError(),a.one("#yucs-profile").once("mousemove",this.handleWindowFocus,this)},handleWindowFocus:function(){var a=w();a&&this.ycookie===a||this.handleError()},initWelcomeEvent:function(){var b=["mousemove","mouseenter","click"];this.welcomeTriggerEvt=a.one("#yucs-profile .yucs-trigger").once(b,this.handleTriggerMove,this)},handleTriggerMove:function(b){this.welcomeTimeout&&this.welcomeTimeout.cancel(),this.rapidHandler.sendHover(this.rendered),this.welcomeTimeout=a.later(o,this,this.handleWelcomeTimeout)},handleWelcomeTimeout:function(){if(this.panel.hasClass(r(l)))return void this.initWelcomeEvent();var a=x();if(!a){var b=this.fsNode.getAttribute(k+"welcome");b=b.replace("https://login.yahoo.com/manage_account",q[h]),y(1),this.showMessage(b)}this.welcomeTriggerEvt.detach()},setContent:function(b){var c,d,e;if(this.clearTimeoutError(),b.users){for(var f=0,g=b.users.length;f<g;f++)if(e=parseInt(b.users[f].state,10),a.Array.indexOf([0,3],e)>=0){d=b.users.splice(f,1)[0];break}d&&v(this.fsNode,function(){return function(){z(d)}}()),b.users.length&&(this.setMultipleUserText(),c=a.Node.create(u(b)),A(c))}this.rendered=!0,a.Global.fire("ucs-rapid:refreshmodules","uhWrapper","0"),a.one("#yucs-fs-loading").addClass(l),this.rapidHandler.sendRender()},setMultipleUserText:function(){var b=this.fsNode.getAttribute("data-signout");b&&a.one("#yucs-signout").set("text",b);var c=this.fsNode.getAttribute(k+j);c&&a.one("#yucs-fs-add-acct span").set("text",c)},showMessage:function(b){var c,d,e=a.one(n),f=e.all("div");b&&f&&f.size()>0&&f.item(0).set("innerHTML",b),d=function(a){var b,c=a.get("className"),d=a.getStyle("top");return a.setStyle("top",-300),a.replaceClass(r(l),"Pos(a)"),b=a.get("offsetHeight"),a.set("className",c),a.setStyle("top",d),b}(e),c=this.anim=new a.Anim({node:e,from:{height:0},to:{height:d},duration:.4}),c.on("start",function(){var a=r(l);e.hasClass(a)&&(e.setStyle("height",0),e.removeClass(a))},this),c.run()},hideMessage:function(){this.anim.set("reverse",!0),this.anim.run()}}},"0.0.2",{requires:["node","cookie","event-custom","event-move","event-mouseenter","template-micro","get","anim","jsonp-super-cached","querystring-stringify","json-parse"]}),window.ucs&&window.ucs.YObj&&ucs.YObj.use("node","ucs-fast-switch",function(a){var b=a.one("#yucs-fs-acct");b&&(window.ucs.fastSwitch=new a.ucs.FastSwitch(b))});YUI.add("ucs-helpmenu",function(a){"use strict";a.namespace("ucs.HelpMenu");var b="ucs:helpMenuShow",c="ucs:helpDebugMenuShow",d="ucs:helpMenuItemClick",e="ucs:helpDebugMenuItemClick",f="ucs:utilityMenuShow",g="ucs:utilityMenuItemClick",h="click",i="a",j="D(n)",k=window.ucs.escapeRegex,l="ul",m=".uhFancyBox",n="yucs-hm-activate",o={eventName:"hvr",keys:{sec:"uh-d",slk:"cogop",_p:"0",rspns:"op",t1:"a1",t2:"uh-d",t3:"tl-lst",t4:"cog-mu",t5:"cogop",elm:"tl",elmt:"cog",itc:"1"}},p=a.one("#yucs-meta").getAttribute("data-property"),q=YUI.namespace("YHELP.config"),r=a.one("#yucs-meta");r&&(q.locale=r.getData("languagetag"),q.product=r.getData("property"),r.getData("firstname")&&(q.user=r.getData("firstname"))),q.alignNode=a.one("#UH"),a.ucs.HelpMenu=function(b){this.shown=!1;var c=b.all(m).item(0);c.hasClass(n)&&(this.ylt=c.getAttribute("data-yltmenushown"),a.ucs.HelpMenu.superclass.constructor.call(this,b,{panel:"#yucs-help_inner",rapidData:o,menuGroupPlugin:!0}),this.initialList=this.menu.panel.one(l),b.trigger.setAttribute("data-mad","true"),"mail"===p&&(this.loading=a.Node.create('<div class="yucs-mail-loading Py(20px) Mt(8px)" style="width:50px"></div>'),this.menu.panel.appendChild(this.loading),this.initialList.addClass(j)),this.menuItemsInitialized=!1,this.debugItemsInitialized=!1,this._initCustomEvents(),c.removeClass(n))},a.extend(a.ucs.HelpMenu,a.ucs.MenuUtils,{_initCustomEvents:function(){this.publish(b,{broadcast:2,emitFacade:!0}),this.publish(c,{broadcast:2,emitFacade:!0}),this.publish(d,{broadcast:2,emitFacade:!0}),this.publish(e,{broadcast:2,emitFacade:!0}),this.publish(f,{broadcast:2,emitFacade:!0}),this.publish(g,{broadcast:2,emitFacade:!0}),a.Global.on("ucs:utilityMenuItems",this._handleHelpMenuItems,this,{location:"top",menuType:"minty-utility-item"}),a.Global.on("ucs:helpMenuItems",this._handleHelpMenuItems,this,{location:"bottom",menuType:"minty-help-item"}),a.Global.on("ucs:helpDebugMenuItems",this._handleHelpDebugMenuItems,this,{location:"bottom",menuType:"minty-debug-item"}),a.one("#yucs-help").delegate("click",function(a){a.target.getAttribute("data-inproducthelp")&&(YUI.YHELP.config.product=a.target.getAttribute("data-inproducthelp"),r&&(YUI.YHELP.config.partnerCobrand=r.getAttribute("data-cobrand"),YUI.YHELP.config.partnerForceCobrand=r.getAttribute("data-forcecobrand")),YUI.YHELP.config.uhClickEvent=a,"function"==typeof YUI.YHELP.initiate&&YUI.YHELP.initiate())},"a[data-inproducthelp]"),this.menu.on("ucs:showMenu",this._showMenu,this),this.menu.panel.delegate(h,this._handleMenuItemClick,"li a",this)},_showMenu:function(d){d&&(d.ctrlKey||d.metaKey)&&d.shiftKey?(this.fire(c),this.debugItemsInitialized===!1?a.later(4e3,this,function(){this.fire(c)}):this._showDebugMenuItems()):(this.fire(b),this.fire(f),this.menuItemsInitialized===!1?a.later(4e3,this,function(){this.fire(b),this.fire(f)}):this._showMenuItems())},_hideLoading:function(){this.loading&&this.loading.addClass(j)},_showDebugMenuItems:function(){var a=this.menu.panel;this._hideLoading(),a.all("ul").addClass(j),a.all("ul.debug-item").removeClass(k(j))},_showMenuItems:function(){var a=this.menu.panel;this._hideLoading(),a.all("ul").removeClass(k(j)),a.all("ul.debug-item").addClass(j)},_handleKeyup:function(a){27===a.keyCode||9===a.keyCode?(this.menu.one(i).focus(),this._hideMenu()):40!==a.keyCode||this.keyedup||(this.panel.one(i)&&this.panel.one(i).focus(),this.keyedup=!0)},_handleHelpMenuItems:function(b,c){a.log("help menu items received");var d,e,f=c&&c.location||"top",g=c&&c.menuType||"minty-help-item";if(b.menuGroups&&b.menuGroups.length){if(d=b.menuGroups,e=this.menu.panel,b.reset&&e&&e.all("."+g).remove(!0),this.menu.menugroup._addMenuGroups(d,f,!1,g),"sports"===p){var h,i=a.one("#yuhead-help-panel");i&&(h=i.one(".yucs-acct-link"),h=h&&h.get("parentNode").remove()||null,i.get("children").remove(!0),h&&(h.replaceClass(k("Py(8px)"),"Pt(8px)"),i.prepend(h)),i.replaceClass(k("Bdw(0) Bdbw(1px) Bds(s) Bdc(#e2e2e6)"),""))}this._showMenuItems(),this.menu.fire("ucs:resetPosition"),this.menuItemsInitialized=!0,a.Global.fire("ucs-rapid:refreshmodules","uhWrapper","0")}},_handleHelpDebugMenuItems:function(b){a.log("help menu items received");var c,d;b.menuGroups&&b.menuGroups.length&&(c=b.menuGroups,d=this.menu.panel,b.reset&&d&&d.all(".minty-debug-item").remove(!0),this.menu.menugroup._addMenuGroups(c,"top",!0,"minty-debug-item"),this._showDebugMenuItems(),this.menu.fire("ucs:resetPosition"),this.debugItemsInitialized=!0,a.Global.fire("ucs-rapid:refreshmodules","uhWrapper","0"))},_handleMenuItemClick:function(b){a.log("help menu item click");var c,f,h,i;if(c=b.target,c=c.ancestor("a",!0),f=c.getAttribute("data-mad"),h=c.getAttribute("data-customevt"),i=c.ancestor("li").hasClass("disabled"))return void b.halt();if(h&&b.preventDefault(),!i){var j={actionData:f},k=c.ancestor("ul");k.hasClass("debug-item")?this.fire(e,j):k.hasClass("minty-utility-item")?this.fire(g,j):this.fire(d,j)}}}),a.augment(a.ucs.HelpMenu,a.EventTarget)},"1.0",{requires:["oop","node","node-event-delegate","event-custom","substitute","ucs-menu-utils"]}),function(){window.ucs&&window.ucs.YObj&&ucs.YObj.use("node","ucs-helpmenu",function(a){var b,c=a.one("#yucs-help");c&&(b=new a.ucs.HelpMenu(c))})}();/*
YUI 3.16.0-ym19 (build 3.16.0-ym19)
Copyright 2016 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("cache-offline",function(e,t){function n(){n.superclass.constructor.apply(this,arguments)}var r=null,i=e.JSON;try{r=e.config.win.localStorage}catch(s){}e.mix(n,{NAME:"cacheOffline",ATTRS:{sandbox:{value:"default",writeOnce:"initOnly"},expires:{value:864e5},max:{value:null,readOnly:!0},uniqueKeys:{value:!0,readOnly:!0,setter:function(){return!0}}},flushAll:function(){var e=r,t;if(e)if(e.clear)e.clear();else for(t in e)e.hasOwnProperty(t)&&(e.removeItem(t),delete e[t])}}),e.extend(n,e.Cache,r?{_setMax:function(e){return null},_getSize:function(){var e=0,t=0,n=r.length;for(;t<n;++t)r.key(t).indexOf(this.get("sandbox"))===0&&e++;return e},_getEntries:function(){var e=[],t=0,n=r.length,s=this.get("sandbox");for(;t<n;++t)r.key(t).indexOf(s)===0&&(e[t]=i.parse(r.key(t).substring(s.length)));return e},_defAddFn:function(e){var t=e.entry,n=t.request,s=t.cached,o=t.expires;t.cached=s.getTime(),t.expires=o?o.getTime():o;try{r.setItem(this.get("sandbox")+i.stringify({request:n}),i.stringify(t))}catch(u){this.fire("error",{error:u})}},_defFlushFn:function(e){var t,n=r.length-1;for(;n>-1;--n)t=r.key(n),t.indexOf(this.get("sandbox"))===0&&r.removeItem(t)},retrieve:function(e){this.fire("request",{request:e});var t,n,s;try{s=this.get("sandbox")+i.stringify({request:e});try{t=i.parse(r.getItem(s))}catch(o){}}catch(u){}if(t){t.cached=new Date(t.cached),n=t.expires,n=n?new Date(n):null,t.expires=n;if(this._isMatch(e,t))return this.fire("retrieve",{entry:t}),t}return null}}:{_setMax:function(e){return null}}),e.CacheOffline=n},"3.16.0-ym19",{requires:["cache-base","json"]});
/*
YUI 3.16.0-ym19 (build 3.16.0-ym19)
Copyright 2016 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("cache-plugin",function(e,t){function n(t){var n=t&&t.cache?t.cache:e.Cache,r=e.Base.create("dataSourceCache",n,[e.Plugin.Base]),i=new r(t);return r.NS="tmpClass",i}e.mix(n,{NS:"cache",NAME:"cachePlugin"}),e.namespace("Plugin").Cache=n},"3.16.0-ym19",{requires:["plugin","cache-base"]});
/*
YUI 3.16.0-ym19 (build 3.16.0-ym19)
Copyright 2016 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("node-menunav",function(e,t){var n=e.UA,r=e.later,i=e.ClassNameManager.getClassName,s="menu",o="menuitem",u="hidden",a="parentNode",f="children",l="offsetHeight",c="offsetWidth",h="px",p="id",d=".",v="handledMouseOut",m="handledMouseOver",g="active",y="label",b="a",w="mousedown",E="keydown",S="click",x="",T="first-of-type",N="role",C="presentation",k="descendants",L="UI",A="activeDescendant",O="useARIA",M="aria-hidden",_="content",D="host",P=A+"Change",H="autoSubmenuDisplay",B="mouseOutHideDelay",j=i(s),F=i(s,u),I=i(s,"horizontal"),q=i(s,y),R=i(s,y,g),U=i(s,y,s+"visible"),z=i(o),W=i(o,g),X=d+j,V=d+i(s,"toggle"),$=d+i(s,_),J=d+q,K=">"+$+">ul>li>a",Q=">"+$+">ul>li>"+J+">a:first-child",G=function(e){var t=e.previous(),n;return t||(n=e.get(a).get(f),t=n.item(n.size()-1)),t},Y=function(e){var t=e.next();return t||(t=e.get(a).get(f).item(0)),t},Z=function(e){var t=!1;return e&&(t=e.get("nodeName").toLowerCase()===b),t},et=function(e){return e.hasClass(z)},tt=function(e){return e.hasClass(q)},nt=function(e){return e.hasClass(I)},rt=function(e){return e.hasClass(U)},it=function(e){return Z(e)?e:e.one(b)},st=function(e,t,n){var r;return e&&(e.hasClass(t)&&(r=e),!r&&n&&(r=e.ancestor(d+t))),r},ot=function(e){return e.ancestor(X)},ut=function(e,t){return st(e,j,t)},at=function(e,t){var n;return e&&(n=st(e,z,t)),n},ft=function(e,t){var n;return e&&(t?n=st(e,q,t):n=st(e,q)||e.one(d+q)),n},lt=function(e,t){var n;return e&&(n=at(e,t)||ft(e,t)),n},ct=function(e){return lt(e.one("li"))},ht=function(e){return et(e)?W:R},pt=function(e,t){return e&&!e[m]&&(e.compareTo(t)||e.contains(t))},dt=function(e,t){return e&&!e[v]&&!e.compareTo(t)&&!e.contains(t)},vt=function(){vt.superclass.constructor.apply(this,arguments)};vt.NAME="nodeMenuNav",vt.NS="menuNav",vt.SHIM_TEMPLATE_TITLE="Menu Stacking Shim",vt.SHIM_TEMPLATE='<iframe frameborder="0" tabindex="-1" class="'+i("shim")+'" title="'+vt.SHIM_TEMPLATE_TITLE+'" src="javascript:false;"></iframe>',vt.ATTRS={useARIA:{value:!0,writeOnce:!0,lazyAdd:!1,setter:function(t){var n=this.get(D),r,u,a,f;t&&(n.set(N,s),n.all("ul,li,"+$).set(N,C),n.all(d+i(o,_)).set(N,o),n.all(d+q).each(function(t){r=t,u=t.one(V),u&&(u.set(N,C),r=u.previous()),r.set(N,o),r.set("aria-haspopup",!0),a=t.next(),a&&(a.set(N,s),r=a.previous(),u=r.one(V),u&&(r=u),f=e.stamp(r),r.get(p)||r.set(p,f),a.set("aria-labelledby",f),a.set(M,!0))}))}},autoSubmenuDisplay:{value:!0,writeOnce:!0},submenuShowDelay:{value:250,writeOnce:!0},submenuHideDelay:{value:250,writeOnce:!0},mouseOutHideDelay:{value:750,writeOnce:!0}},e.extend(vt,e.Plugin.Base,{_rootMenu:null,_activeItem:null,_activeMenu:null,_hasFocus:!1,_blockMouseEvent:!1,_currentMouseX:0,_movingToSubmenu:!1,_showSubmenuTimer:null,_hideSubmenuTimer:null,_hideAllSubmenusTimer:null,_firstItem:null,initializer:function(t){var n=this,r=this.get(D),i=[],s;r&&(n._rootMenu=r,r.all("ul:first-child").addClass(T),r.all(X).addClass(F),i.push(r.on("mouseover",n._onMouseOver,n)),i.push(r.on("mouseout",n._onMouseOut,n)),i.push(r.on("mousemove",n._onMouseMove,n)),i.push(r.on(w,n._toggleSubmenuDisplay,n)),i.push(e.on("key",n._toggleSubmenuDisplay,r,"down:13",n)),i.push(r.on(S,n._toggleSubmenuDisplay,n)),i.push(r.on("keypress",n._onKeyPress,n)),i.push(r.on(E,n._onKeyDown,n)),s=r.get("ownerDocument"),i.push(s.on(w,n._onDocMouseDown,n)),i.push(s.on("focus",n._onDocFocus,n)),this._eventHandlers=i,n._initFocusManager())},destructor:function(){var t=this._eventHandlers;t&&(e.Array.each(t,function(e){e.detach()}),this._eventHandlers=null),this.get(D).unplug("focusManager")},_isRoot:function(e){return this._rootMenu.compareTo(e)},_getTopmostSubmenu:function(e){var t=this,n=ot(e),r;return n?t._isRoot(n)?r=e:r=t._getTopmostSubmenu(n):r=e,r},_clearActiveItem:function(){var e=this,t=e._activeItem;t&&t.removeClass(ht(t)),e._activeItem=null},_setActiveItem:function(e){var t=this;e&&(t._clearActiveItem(),e.addClass(ht(e)),t._activeItem=e)},_focusItem:function(e){var t=this,n,r;e&&t._hasFocus&&(n=ot(e),r=it(e),n&&!n.compareTo(t._activeMenu)&&(t._activeMenu=n,t._initFocusManager()),t._focusManager.focus(r))},_showMenu:function(t){var r=ot(t),i=t.get(a),s=i.getXY();this.get(O)&&t.set(M,!1),nt(r)?s[1]=s[1]+i.get(l):s[0]=s[0]+i.get(c),t.setXY(s),n.ie<8&&(n.ie===6&&!t.hasIFrameShim&&(t.appendChild(e.Node.create(vt.SHIM_TEMPLATE)),t.hasIFrameShim=!0),t.setStyles({height:x,width:x}),t.setStyles({height:t.get(l)+h,width:t.get(c)+h})),t.previous().addClass(U),t.removeClass(F)},_hideMenu:function(e,t){var n=this,r=e.previous(),i;r.removeClass(U),t&&(n._focusItem(r),n._setActiveItem(r)),i=e.one(d+W),i&&i.removeClass(W),e.setStyles({left:x,top:x}),e.addClass(F),n.get(O)&&e.set(M,!0)},_hideAllSubmenus:function(t){var n=this;t.all(X).each(e.bind(function(e){n._hideMenu(e)},n))},_cancelShowSubmenuTimer:function(){var e=this,t=e._showSubmenuTimer;t&&(t.cancel(),e._showSubmenuTimer=null)},_cancelHideSubmenuTimer:function(){var e=this,t=e._hideSubmenuTimer;t&&(t.cancel(),e._hideSubmenuTimer=null)},_initFocusManager:function(){var t=this,n=t._rootMenu,r=t._activeMenu||n,i=t._isRoot(r)?x:"#"+r.get("id"),s=t._focusManager,o,u,a;nt(r)?(u=i+K+","+i+Q,o={next:"down:39",previous:"down:37"}):(u=i+K,o={next:"down:40",previous:"down:38"}),s?(s.set(A,-1),s.set(k,u),s.set("keys",o)):(n.plug(e.Plugin.NodeFocusManager,{descendants:u,keys:o,circular:!0}),s=n.focusManager,a="#"+n.get("id")+X+" a,"+V,n.all(a).set("tabIndex",-1),s.on(P,this._onActiveDescendantChange,s,this),s.after(P,this._afterActiveDescendantChange,s,this),t._focusManager=s)},_onActiveDescendantChange:function(e,t){e.src===L&&t._activeMenu&&!t._movingToSubmenu&&t._hideAllSubmenus(t._activeMenu)},_afterActiveDescendantChange:function(e,t){var n;e.src===L&&(n=lt(this.get(k).item(e.newVal),!0),t._setActiveItem(n))},_onDocFocus:function(e){var t=this,n=t._activeItem,r=e.target,i;t._rootMenu.contains(r)?t._hasFocus?(i=ot(r),t._activeMenu.compareTo(i)||(t._activeMenu=i,t._initFocusManager(),t._focusManager.set(A,r),t._setActiveItem(lt(r,!0)))):(t._hasFocus=!0
,n=lt(r,!0),n&&t._setActiveItem(n)):(t._clearActiveItem(),t._cancelShowSubmenuTimer(),t._hideAllSubmenus(t._rootMenu),t._activeMenu=t._rootMenu,t._initFocusManager(),t._focusManager.set(A,0),t._hasFocus=!1)},_onMenuMouseOver:function(e,t){var n=this,r=n._hideAllSubmenusTimer;r&&(r.cancel(),n._hideAllSubmenusTimer=null),n._cancelHideSubmenuTimer(),e&&!e.compareTo(n._activeMenu)&&(n._activeMenu=e,n._hasFocus&&n._initFocusManager()),n._movingToSubmenu&&nt(e)&&(n._movingToSubmenu=!1)},_hideAndFocusLabel:function(){var e=this,t=e._activeMenu,n;e._hideAllSubmenus(e._rootMenu),t&&(n=e._getTopmostSubmenu(t),e._focusItem(n.previous()))},_onMenuMouseOut:function(e,t){var n=this,i=n._activeMenu,s=t.relatedTarget,o=n._activeItem,u,a;i&&!i.contains(s)&&(u=ot(i),u&&!u.contains(s)?n.get(B)>0&&(n._cancelShowSubmenuTimer(),n._hideAllSubmenusTimer=r(n.get(B),n,n._hideAndFocusLabel)):o&&(a=ot(o),n._isRoot(a)||n._focusItem(a.previous())))},_onMenuLabelMouseOver:function(e,t){var n=this,i=n._activeMenu,s=n._isRoot(i),o=n.get(H)&&s||!s,u=n.get("submenuShowDelay"),a,f=function(t){n._cancelHideSubmenuTimer(),n._cancelShowSubmenuTimer(),rt(e)||(a=e.next(),a&&(n._hideAllSubmenus(i),n._showSubmenuTimer=r(t,n,n._showMenu,a)))};n._focusItem(e),n._setActiveItem(e),o&&(n._movingToSubmenu?n._hoverTimer=r(u,n,function(){f(0)}):f(u))},_onMenuLabelMouseOut:function(e,t){var n=this,i=n._isRoot(n._activeMenu),s=n.get(H)&&i||!i,o=t.relatedTarget,u=e.next(),a=n._hoverTimer;a&&a.cancel(),n._clearActiveItem(),s&&(n._movingToSubmenu&&!n._showSubmenuTimer&&u?n._hideSubmenuTimer=r(n.get("submenuHideDelay"),n,n._hideMenu,u):!n._movingToSubmenu&&u&&(!o||o&&!u.contains(o)&&!o.compareTo(u))&&(n._cancelShowSubmenuTimer(),n._hideMenu(u)))},_onMenuItemMouseOver:function(e,t){var n=this,r=n._activeMenu,i=n._isRoot(r),s=n.get(H)&&i||!i;n._focusItem(e),n._setActiveItem(e),s&&!n._movingToSubmenu&&n._hideAllSubmenus(r)},_onMenuItemMouseOut:function(e,t){this._clearActiveItem()},_onVerticalMenuKeyDown:function(e){var t=this,n=t._activeMenu,r=t._rootMenu,i=e.target,s=!1,o=e.keyCode,u,f,l,c;switch(o){case 37:f=ot(n),f&&nt(f)?(t._hideMenu(n),l=G(n.get(a)),c=lt(l),c&&(tt(c)?(u=c.next(),u?(t._showMenu(u),t._focusItem(ct(u)),t._setActiveItem(ct(u))):(t._focusItem(c),t._setActiveItem(c))):(t._focusItem(c),t._setActiveItem(c)))):t._isRoot(n)||t._hideMenu(n,!0),s=!0;break;case 39:tt(i)?(u=i.next(),u&&(t._showMenu(u),t._focusItem(ct(u)),t._setActiveItem(ct(u)))):nt(r)&&(u=t._getTopmostSubmenu(n),l=Y(u.get(a)),c=lt(l),t._hideAllSubmenus(r),c&&(tt(c)?(u=c.next(),u?(t._showMenu(u),t._focusItem(ct(u)),t._setActiveItem(ct(u))):(t._focusItem(c),t._setActiveItem(c))):(t._focusItem(c),t._setActiveItem(c)))),s=!0}s&&e.preventDefault()},_onHorizontalMenuKeyDown:function(e){var t=this,n=t._activeMenu,r=e.target,i=lt(r,!0),s=!1,o=e.keyCode,u;o===40&&(t._hideAllSubmenus(n),tt(i)&&(u=i.next(),u&&(t._showMenu(u),t._focusItem(ct(u)),t._setActiveItem(ct(u))),s=!0)),s&&e.preventDefault()},_onMouseMove:function(e){var t=this;r(10,t,function(){t._currentMouseX=e.pageX})},_onMouseOver:function(e){var t=this,n,r,i,s,o;t._blockMouseEvent?t._blockMouseEvent=!1:(n=e.target,r=ut(n,!0),i=ft(n,!0),o=at(n,!0),pt(r,n)&&(t._onMenuMouseOver(r,e),r[m]=!0,r[v]=!1,s=ot(r),s&&(s[v]=!0,s[m]=!1)),pt(i,n)&&(t._onMenuLabelMouseOver(i,e),i[m]=!0,i[v]=!1),pt(o,n)&&(t._onMenuItemMouseOver(o,e),o[m]=!0,o[v]=!1))},_onMouseOut:function(e){var t=this,n=t._activeMenu,r=!1,i,s,o,u,a,f;t._movingToSubmenu=n&&!nt(n)&&e.pageX-5>t._currentMouseX,i=e.target,s=e.relatedTarget,o=ut(i,!0),u=ft(i,!0),f=at(i,!0),dt(u,s)&&(t._onMenuLabelMouseOut(u,e),u[v]=!0,u[m]=!1),dt(f,s)&&(t._onMenuItemMouseOut(f,e),f[v]=!0,f[m]=!1),u&&(a=u.next(),a&&s&&(s.compareTo(a)||a.contains(s))&&(r=!0));if(dt(o,s)||r)t._onMenuMouseOut(o,e),o[v]=!0,o[m]=!1},_toggleSubmenuDisplay:function(e){var t=this,r=e.target,i=ft(r,!0),s=e.type,o,u,a,f,l,c;if(i){o=Z(r)?r:r.ancestor(Z);if(o){a=o.getAttribute("href",2),f=a.indexOf("#"),l=a.length;if(f===0&&l>1){c=a.substr(1,l),u=i.next();if(u&&u.get(p)===c){if(s===w||s===E)(n.opera||n.gecko||n.ie)&&s===E&&!t._preventClickHandle&&(t._preventClickHandle=t._rootMenu.on("click",function(e){e.preventDefault(),t._preventClickHandle.detach(),t._preventClickHandle=null})),s==w&&(e.preventDefault(),e.stopImmediatePropagation(),t._hasFocus=!0),t._isRoot(ot(r))?rt(i)?(t._hideMenu(u),t._focusItem(i),t._setActiveItem(i)):(t._hideAllSubmenus(t._rootMenu),t._showMenu(u),t._focusItem(ct(u)),t._setActiveItem(ct(u))):t._activeItem==i?(t._showMenu(u),t._focusItem(ct(u)),t._setActiveItem(ct(u))):i._clickHandle||(i._clickHandle=i.on("click",function(){t._hideAllSubmenus(t._rootMenu),t._hasFocus=!1,t._clearActiveItem(),i._clickHandle.detach(),i._clickHandle=null}));s===S&&e.preventDefault()}}}}},_onKeyPress:function(e){switch(e.keyCode){case 37:case 38:case 39:case 40:e.preventDefault()}},_onKeyDown:function(e){var t=this,i=t._activeItem,s=e.target,o=ot(s),u;o&&(t._activeMenu=o,nt(o)?t._onHorizontalMenuKeyDown(e):t._onVerticalMenuKeyDown(e),e.keyCode===27&&(t._isRoot(o)?i&&(tt(i)&&rt(i)?(u=i.next(),u&&t._hideMenu(u)):(t._focusManager.blur(),t._clearActiveItem(),t._hasFocus=!1)):(n.opera?r(0,t,function(){t._hideMenu(o,!0)}):t._hideMenu(o,!0),e.stopPropagation(),t._blockMouseEvent=n.gecko?!0:!1)))},_onDocMouseDown:function(e){var t=this,r=t._rootMenu,i=e.target;!r.compareTo(i)&&!r.contains(i)&&(t._hideAllSubmenus(r),n.webkit&&(t._hasFocus=!1,t._clearActiveItem()))}}),e.namespace("Plugin"),e.Plugin.NodeMenuNav=vt},"3.16.0-ym19",{requires:["node","classnamemanager","plugin","node-focusmanager"],skinnable:!0});
/*
YUI 3.16.0-ym19 (build 3.16.0-ym19)
Copyright 2016 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("substitute",function(e,t){var n=e.Lang,r="dump",i=" ",s="{",o="}",u=/(~-(\d+)-~)/g,a=/\{LBRACE\}/g,f=/\{RBRACE\}/g,l=function(t,l,c,h){var p,d,v,m,g,y,b=[],w,E,S=t.length;for(;;){p=t.lastIndexOf(s,S);if(p<0)break;d=t.indexOf(o,p);if(p+1>=d)break;w=t.substring(p+1,d),m=w,y=null,v=m.indexOf(i),v>-1&&(y=m.substring(v+1),m=m.substring(0,v)),g=l[m],c&&(g=c(m,g,y)),n.isObject(g)?e.dump?n.isArray(g)?g=e.dump(g,parseInt(y,10)):(y=y||"",E=y.indexOf(r),E>-1&&(y=y.substring(4)),g.toString===Object.prototype.toString||E>-1?g=e.dump(g,parseInt(y,10)):g=g.toString()):g=g.toString():n.isUndefined(g)&&(g="~-"+b.length+"-~",b.push(w)),t=t.substring(0,p)+g+t.substring(d+1),h||(S=p-1)}return t.replace(u,function(e,t,n){return s+b[parseInt(n,10)]+o}).replace(a,s).replace(f,o)};e.substitute=l,n.substitute=l},"3.16.0-ym19",{requires:["yui-base"],optional:["dump"]});
YUI.add("rapid-base"),YUI.add("rapid-base-proxy");
"undefined"!=typeof YAHOO&&YAHOO||(YAHOO={}),YAHOO.i13n=YAHOO.i13n||{},YAHOO.i13n.EventTypes=function(){function e(e,t,n){this.yqlid=e,this.eventName=t,this.spaceidPrefix=n}var t="richview",n="contentmodification";e.prototype={getYQLID:function(){return this.yqlid},getEventName:function(){return this.eventName}};var r={pageview:new e("pv","pageview",""),simple:new e("lv","event","P"),linkview:new e("lv","linkview","P"),richview:new e(t,t,"R"),contentmodification:new e(t,n,"R"),dwell:new e("lv","dwell","D")};return{getEventByName:function(e){return r[e]}}}(),YAHOO.i13n.Rapid=function(e){function t(){}function n(e){this.map={},this.count=0,e&&this.absorb(e)}function r(){this.map={},this.count=0}function i(e,t){if(!e)return null;null===t&&(t=!1);var n=new r,i=B.getAttribute(e,B.data_action_outcome);i&&n.set("outcm",i);var o=B.getAttribute(e,"data-ylk");if(null===o||0===o.length)return n;for(var a=o.split(B.ylk_pair_delim),s=0,l=a.length;s<l;s++){var c=a[s].split(B.ylk_kv_delim);if(2===c.length){var u=c[0],d=c[1];null!==u&&""!==u&&null!==d&&(d.length>B.MAX_VALUE_LENGTH&&(d=d.substring(0,B.MAX_VALUE_LENGTH)),u.length<=8&&d.length<=B.MAX_VALUE_LENGTH&&("_p"!==u||t)&&n.set(u,d))}}return n}function o(e,t,n){return e<t?t:e>n?n:e}function a(t,n){j.set("A_sid",YAHOO.i13n.A_SID||B.rand()),j.set("_w",B.rmProto(n).substring(0,B.MAX_VALUE_LENGTH)),t?j.absorb(t):e.keys&&j.absorb(e.keys)}function s(e){var t=(YAHOO.i13n,YAHOO.i13n.TEST_ID||e.test_id),n=e.location||document.location.href;a(e.keys,n),t&&(t=B.norm(""+t));var r=300,i=700,s=1e4,l=e.override||{},c={override:l,version:"3.42.0",keys:j,referrer:e.referrer,getReferrer:function(){return B.norm(B.clref("undefined"!=typeof this.referrer?this.referrer:document.referrer))},spaceid:B.norm(l.spaceid||YAHOO.i13n.SPACEID||e.spaceid),yrid:B.norm(e.yrid||""),oo:e.oo?"1":"0",nol:e.nol?"1":"0",yql_enabled:e.yql_enabled!==!1,fing:1==e.use_fing,USE_RAPID:e.use_rapid!==!1,linktrack_attribut:e.lt_attr||"text",tracked_mods:e.tracked_mods||[],tracked_mods_viewability:e.tracked_mods_viewability||[],viewability:e.viewability||!1,viewability_time:e.viewability_time||300,viewability_px:e.viewability_px||50,lt_attr:e.lt_attr||"text",client_only:e.client_only,text_link_len:e.text_link_len||-1,test_id:t,yql_host:e.yql_host||"udc.yahoo.com",yql_path:e.yql_path||"/v2/public/yql",click_timeout:e.click_timeout||s,compr_timeout:e.compr_timeout||i,compr_on:e.compr_on!==!1,compr_type:e.compr_type||"deflate",webworker_file:YAHOO.i13n.WEBWORKER_FILE||e.webworker_file||"rapidworker-1.2.js",nofollow_classname:e.nofollow_class||"rapidnofollow",no_click_listen:e.rapid_noclick_resp||"rapid-noclick-resp",nonanchor_track_class:e.nonanchor_track_class||"rapid-nonanchor-lt",anc_pos_attr:"data-rapid_p",anc_v9y_attr:"data-v9y",deb:e.debug===!0,ldbg:e.ldbg>0||n.indexOf("yhldebug=1")>0,addmod_timeout:e.addmodules_timeout||300,ult_token_capture:"boolean"==typeof e.ult_token_capture&&e.ult_token_capture,track_type:e.track_type||"data-tracktype",dwell_on:e.dwell_on!==!1,prerender:e.prerender===!0,query_parameters:e.query_parameters===!0,async_all_clicks:e.async_all_clicks===!0,click_postmsg:e.click_postmsg||{},apv:e.apv!==!1,apv_time:e.apv_time||500,apv_px:e.apv_px||500,apv_always_send:e.apv_always_send===!0,ex:e.ex===!0,persist_asid:e.persist_asid===!0,track_right_click:e.track_right_click===!0,gen_bcookie:e.gen_bcookie===!0,skip_attr:e.skip_attr||"data-rapid-skip",parse_dom:e.parse_dom===!0,pageview_on_init:e.pageview_on_init!==!1,perf_navigationtime:e.perf_navigationtime||0,perf_commontime:e.perf_commontime||null,perf_usertime:e.perf_usertime||null,perf_resourcetime:e.perf_resourcetime||0,sample:e.sample||{},loc:n,fpc:e.fpc===!0,extendbcookie:e.extendbcookie===!0},u=1*c.compr_timeout;return B.isNum(u)?c.compr_timeout=o(u,r,i):c.compr_timeout=i,c.ldbg&&c.click_timeout!=s&&console.warn("Click timeout set to "+c.click_timeout+"ms (default 10000ms)"),e.apv_callback&&"function"==typeof e.apv_callback?c.apv_callback=e.apv_callback:c.apv_callback=null,c}function l(){j.set("A_sid",B.rand())}function c(){return"Rapid-"+G.version+"("+(new Date).getTime()+"):"}function u(e){G.ldbg&&console.warn("RAPID WARNING: "+e)}function d(e){G.ldbg&&console.error("RAPID ERROR: "+e)}function f(e){G.ldbg&&console.log(c()+e)}function p(){var e=document.cookie;if(this.cookieMap={},/[^=]+=[^=;]?(?:; [^=]+=[^=]?)?/.test(e))for(var t=e.split(/;\s/g),n=null,r=null,i=null,o=0,a=t.length;o<a;o++){if(i=t[o].match(/([^=]+)=/i),i instanceof Array)try{n=B.dec(i[1]),r=B.dec(t[o].substring(i[1].length+1))}catch(e){d(e)}else n=B.dec(t[o]),r=n;"B"!==n&&"BX"!==n&&"TT"!==n&&"D"!==n&&"_ga"!==n&&"yx"!==n&&"rxx"!==n||(this.cookieMap[n]=r)}B.clearCookie("rx","/",B.isIE?document.domain:"")}function m(){if(G.ult_token_capture&&YAHOO.i13n.__handled_ult_tokens__!==!0){YAHOO.i13n.__handled_ult_tokens__=!0;var e=G.loc;if(e.match(/;_yl[a-z]{1}=/))G.ldbg&&f("Found ULT Token on URL."),W.sendGeoT(e);else{var t=new p,n=t.getCookieByName("D");n&&(B.clearCookie("D","/",".yahoo.com"),W.sendGeoT(n))}}}function v(){function e(){t=(new Date).valueOf().toString(),n=t.length}var t=null,n=null;return e(),{ts:t.substr(0,n-3),ms:t.substr(n-3)}}function _(e,t,n,r){var i=new Date,o="";i.setTime(i.getTime()+1e3*n),o="; expires="+i.toGMTString();var a="";r&&(a=";domain="+r);var s=e+"="+t+o+a+"; path=/";document.cookie=s}function g(){function e(e,t){G.ldbg&&f(e);var n=new Image,r=null;n.onload=n.onabort=n.onerror=function(){t&&"function"==typeof t&&(clearTimeout(r),t.call(null))},n.src=e,t&&"function"==typeof t&&(r=setTimeout(function(){t.call(null)},G.click_timeout)),setTimeout(function(){n=null},1e7)}function t(){return"rapid_if_"+B.rand()}function r(e){var t="display:none;";!B.isIE||6!==B.ieV&&7!==B.ieV&&8!==B.ieV?B.sa(e,"style",t):e.style.setAttribute("cssText",t,0)}function i(e){var t=null;if(B.isIE&&B.ieV<=8){var n="";B.isSecure()&&6==B.ieV&&(n='src="https://geo.yahoo.com/b.html"'),t=document.createElement("<iframe "+n+' name="'+e+'"></iframe>')}else t=document.createElement("iframe");return t.name=e,t}function o(){setTimeout(function(){var e=i("");B.addEvent(e,"load",function(){B.rmBodyEl(e)}),B.appBodyEl(e)},1)}function a(e,n){var a=null,l=B.make("form"),c=B.make("input"),u=t(),d=t(),p="application/x-www-form-urlencoded;charset=UTF-8";a=i(u),r(a),r(l),l.id=d,l.method="POST",l.action=s(n),l.target=u,B.isIE&&B.ieV<=7?l.setAttribute("enctype",p):(l.setAttribute("enctype",p),l.setAttribute("encoding",p)),c.name="q",c.value=e,B.isIE&&B.ieV>=10&&(c.type="submit"),l.appendChild(c);var m="load",v=function(){var e="";if(G.ldbg&&(!B.isIE||B.ieV>=9)){var t=a.contentDocument||a.contentWindow.document;e=t.body.innerHTML}B.rmEvent(a,m,v),setTimeout(function(){B.rmBodyEl(a),B.rmBodyEl(l)},0),G.ldbg&&f("iframe resp: "+e),B.isIE&&B.ieV<=7&&o()};B.addEvent(a,m,v),B.appBodyEl(a),B.appBodyEl(l),l.submit()}function s(e){var t=G.deb,n=B.rand(),r=["http:"===window.location.protocol?"http://":"https://",G.yql_host,G.yql_path,"?yhlVer=2&yhlClient=rapid&yhlS=",G.spaceid,t===!0?"&yhlEnv=staging":"",t===!0||G.ldbg?"&debug=true&diagnostics=true":"",B.isIE&&B.ieV?"&yhlUA=ie"+B.ieV:"",B.isIE&&8==B.ieV?"&format=json":"","&yhlCT=2","&yhlBTMS=",(new Date).valueOf(),"&yhlClientVer=",G.version,"&yhlRnd=",n,"&yhlCompressed=",e||0,G.gen_bcookie?"&yhlBcookie=1":""].join("");return G.ldbg&&f(r),r}function l(t){var r=new n(t);e(C("p",r,1197799914))}function c(e,t){var n=s(t);try{var r=B.getXHR();r.open("POST",n,!0),r.withCredentials=!0,r.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),G.ldbg&&(r.onreadystatechange=function(){4===r.readyState&&f(r.status+":xhr response: "+r.responseText)}),r.send(e)}catch(e){l({_err_nm:"sendToYQL Failed",_err_msg:"sendToYQL Failed",_err_rs:String(e),_err_st:e.stack,urlUsed:n})}}function p(e,t,n){var r={};return B.isObj(e)?(B.aug(r,e,n),r):r}function m(e,t,n){n=n||{};var r={m:B.norm(e.moduleName),l:[]};e.moduleYLK&&(r.ylk=e.moduleYLK.getAll());for(var i=r.ylk&&r.ylk.sec?r.ylk.sec:"",o=e.links,o=e.links,a=function(e,n){var o="_p"===e;return!(!t||!o)||("sec"==e&&n!=r.m&&n!=i||"sec"!==e&&!o)},s=0,l=o.length;s<l;s++)o[s]&&(!G.viewability||o[s].viewable?r.l.push(p(o[s].data,t,a)):G.ldbg&&f("Skipping not viewable link: "+o[s].data.slk));return r}function _(e,t,n){var r=[],i=null;for(var o in e)if(B.hasOwn(e,o)&&(i=e[o])){var a=m(i,t,n);a.l.length>0?r.push(a):G.ldbg&&f('Not capturing 0 links mod: "'+i.moduleName+'"')}return r}function g(e,t){return e?"pv":t&&t.event?t.event.type.getYQLID():"lv"}function h(e,t,n,r,i){var o;return o=z?ne:v(),[{t:g(t,i),s:G.spaceid,pp:y(t,r).getAll(),_ts:o.ts,_ms:o.ms,lv:_(e,n,i)}]}function y(e,t){var r=n.makeFromPP(G.keys);return r.absorb(t),e&&r.set("A_",1),r.set("A_sr",B.sr()),r.set("A_vr",B.vr()),r.set("A_do",B.dor()),r}function w(e,t,n){var r="select * from x where a = '"+e+"'";return(t?"q=":"")+(n?B.enc(r):r)}function b(e){var t={bp:L().getAll(),r:e.call(0),yrid:G.yrid,optout:G.oo,nol:G.nol};return B.toJSON(t)}function k(e,t,n){var r={};t&&z&&z.start_dwell()&&(r.etag="dwell,start",r.usergenf=1,r.A_prets=re?re.ts:null,r.A_prems=re?re.ms:null),n.event&&B.aug(r,n.event.data),n.pp&&B.aug(r,n.pp);var i=b(function(){return h([e],t,!0,r,n)});T(i,t)}function A(e,t,n,r){var i=b(function(){return h(e,t,!0,n,r)});T(i)}function E(e){return e.identifier}function T(e){function t(e,t){0===t&&(e=e.replace(/'/g,"\\'")),r&&f("body: "+e),B.hasCORS()?(i=w(e,!0,!0),c(i,t)):(i=w(e,0,0),a(i,t))}function n(){l||(l=!0,t(e,0),r&&f("sent in failSend"))}var r=G.ldbg,i="",o=X[G.compr_type];if(G.compr_on&&B.hasWorkers()&&o>1&&e.length>2048){r&&f("Looking for worker:"+G.webworker_file+", compr timeout:"+G.compr_timeout);try{var s=new Worker(G.webworker_file),l=!1,d=null,p=0;s.onerror=function(e){clearTimeout(d),n(),u(e.message),s.terminate()},s.onmessage=function(i){clearTimeout(d);var a=B.tms();"Decompress fail"!==i.data&&"Compress fail"!==i.data&&0!=i.data.indexOf("error:")||(r&&f(i.data),n()),l||(l=!0,t(i.data,o)),r&&f("Ratio ("+i.data.length+"/"+e.length+"): "+(100*i.data.length/e.length).toFixed(2)+"% -> C_T: "+(a-p)+" ms ("+a+"-"+p+")"),s.terminate()},r&&f("posting to worker: "+e),p=B.tms(),s.postMessage({type:o,json:e}),d=setTimeout(function(){n(),s.terminate()},G.compr_timeout)}catch(n){r&&f("compression worker exception "+n),t(e,0)}}else t(e,0)}function C(e,t,n){return("http:"===window.location.protocol?"http://":"https://")+O+"/"+e+["?s="+(n?n:G.spaceid),"t="+B.rand()+","+Math.random(),"_I="+G.yrid,"_AO="+G.oo,"_NOL="+G.nol,"_R="+B.enc(G.getReferrer()),("c"===e?"_K=":"_P=")+x(t)].join("&")}function x(e){var t=new n(L(!1).getAll());t.absorb(G.keys.getAll()),e&&(e instanceof n?t.absorb(e.getAll()):d("Internal error in buildGeoPP: not PP type"));var r;return r="dwell,start"===t.get("etag")?ne:"dwell,stop"===t.get("etag")?re:v(),t.set("_ts",r.ts),t.set("_ms",r.ms),t.set("A_sr",B.sr()),t.set("A_vr",B.vr()),t.set("A_do",B.dor()),G.version+"%05"+t.ser()}function S(e){var t=new n(e.pp),r=[C("c",t)+"&_C="+B.ser(e.data)];return r.join("&")}var O=YAHOO.i13n.beacon_server||"geo.yahoo.com",L=function(e){var t=new n;t.set("_pl",1),t.set("A_v",G.version);var r=G.getReferrer();if(r&&e!==!1&&t.set("_R",r.substring(0,B.MAX_VALUE_LENGTH)),G.test_id&&t.set("test",G.test_id),G.ex&&t.set("_ex",1),t.get("_bt")||t.set("_bt","rapid"),G.query_parameters){var i=/^(test|outcm|etrg|usergenf|etag|sec|slk|tar|tar_uri|yhldebug|tsrc|action)$|^(A_|_)/,o=document.location.search;if(o){o=o.substring(1),o=o.split("&");for(var a in o)if(o.hasOwnProperty(a)){var s=o[a].split("=");if(s.length>=2){var l=decodeURIComponent(s[0]),c=decodeURIComponent(s[1]),u=!i.test(l);f("Queryparams decoded: "+l+" : "+c),f("Blacklist filter: "+u),u&&t.set(l,c)}}}}var d=window.location.protocol||"";d=d.replace(/:$/,""),t.set("A_pr",d);var p=(new Date).getTimezoneOffset();return p=p?-1*p/60:0,t.set("A_tzoff",p),t},M=function(){var e=null,t=[],n=0,r=G.addmod_timeout;return function(i,o,a,s){clearTimeout(e);var l=+new Date-n;if(t=B.uniqConcat(t,i,E),l>r)n=+new Date,A(t,o,a,s),t=[];else{var c=r-l;e=setTimeout(function(){G.ldbg&&f("queueing send in addMods"),A(t,o,a,s),t=[]},c)}}}();return{sendGeoT:function(t){var n=["http:"===window.location.protocol?"http://":"https://",O,"/t?",t].join("");e(n)},sendGeoPV:function(){e(C("b"))},sendRapidNoDelay:function(t,r,i,o,a){if(r&&z&&z.start_dwell()&&(i.etag="dwell,start",i.usergenf=1,i.A_prets=re?re.ts:null,i.A_prems=re?re.ms:null),!G.yql_enabled||a){var s=null;i&&(s=new n(i)),e(C(r?"b":"p",s))}else A(t,r,i,o)},sendRapid:function(e,t,n,r){t&&z&&z.start_dwell()&&(n.etag="dwell,start",n.usergenf=1,n.A_prets=re?re.ts:null,n.A_prems=re?re.ms:null),M(e,t,n,r)},sendRefreshedContent:k,sendULTEvent:function(t,r){var i={};t&&t.data&&(i=t.data);var o=C("p",new n(i),r||0);t.type&&(o+="&_V="+t.type.spaceidPrefix),e(o)},sendEvents:function(e,t){G.USE_RAPID&&this.sendULTEvent(e)},sendClick:function(t,n){var r=null,i="",o=!1;return G.USE_RAPID&&(i=S(t)),G.async_all_clicks||!t.synch?void(i&&e(i,n)):(B.prevDef(t.event),r=function(){if(!o){if(o=!0,n)return void n.call();var e=t.targetElement.href;if(G.click_postmsg.origin){var r=G.click_postmsg.window||top,i=G.click_postmsg.payload||{};i.href=e,r.postMessage(B.toJSON(i),G.click_postmsg.origin)}else t.hasTargetTop?top.document.location=e:document.location=e}},void(G.USE_RAPID&&e(i,r)))}}}function h(e,t,n,r,o,a,s){var l="",c=null,u=!s||B.isAboveFold(r),d={viewable:u,data:{sec:t,_p:n}};return s&&B.aug(d.data,{A_lv:1}),a?(d.data.slk=o||"section",c=i(r)):(r.setAttribute(G.anc_pos_attr,n),s&&r.setAttribute(G.anc_v9y_attr,u?"1":"0"),l=B.getLT(r,e),l&&""!==l?c=i(r):l="_ELINK_",d.data.slk=o?o:l),null!==c&&B.aug(d.data,c.getAll()),d}function y(){var e={};return{addModule:function(t,n){e[B.norm(t)]=n},addModules:function(e,t){var n=B.isArr(e),r=[];n||B.isStr(e)&&(e=new Array(e),n=!0);for(var i in e)if(B.hasOwn(e,i)){var o=n?e[i]:i,a=B.trim(e[i]);if(this.exists(o))d('addModules() called with prev processed id:"'+o+'"');else{var s=O(a,o,t);s&&(this.addModule(o,s),r.push(s))}}return r},getModules:function(){return e},getModulesWithViewability:function(){var t={};for(var n in e){var r=e[n];r.useViewability&&(t[n]=r)}return t},reevaluateModuleViewability:function(){var e=this.getModulesWithViewability();for(var t in e){var n=e[t];n.reevaluateViewableLinks()}},refreshModule:function(t,n,r,i){var o=e[B.norm(t)];o?o.refreshModule(t,n,r,i):d("refreshModule called on unknown section: "+o)},removeModule:function(t){var n=e[B.norm(t)];n&&(n.removeHandlers(),delete e[t])},destroy:function(){for(var t in e)B.hasOwn(e,t)&&this.removeModule(t);e={}},exists:function(t){return e[B.norm(t)]}}}function w(e,t){return B.hasClass(e,"rapid_track_href")?"href":B.hasClass(e,"rapid_track_text")?"text":B.hasClass(e,"rapid_track_title")?"title":B.hasClass(e,"rapid_track_id")?"id":t}function b(e){return"input"===e.nodeName.toLowerCase()&&"submit"===B.getAttribute(e,"type")}function k(e,t){var n=T(e,t);$=n,n&&(e.ctrlKey||e.metaKey||"contextmenu"===e.type||z&&z.stop_dwell()&&(n.pp={etag:"dwell,stop",usergenf:1,A_prets:ne?ne.ts:null,A_prems:ne?ne.ms:null}),W.sendClick(n))}function A(e,t,n){var r=B.getAttribute;return t.target&&"_blank"===t.target.toLowerCase()||2===e.which||4===e.button||e.altKey||e.ctrlKey||e.shiftKey||e.metaKey||"on"===r(t,"data-nofollow")||r(t,"href")&&"javascript:"===r(t,"href").substr(0,11).toLowerCase()||B.hasClass(t,G.nofollow_classname)||B.hasClass(n,G.nofollow_classname)}function E(e,t,n,r){n=n||{};var i=null;return e?(i=YAHOO.i13n.EventTypes.getEventByName(e),n._E=i.getEventName(),t=n._E):n._E=t||"_",r&&(n.outcm=r),{type:i,name:t,data:n,outcome:r}}function T(e,t){e=e||event;for(var n=B.getTarget(e),r="button",o="input",a="",s=!1,l=null;n&&(a=n.nodeName.toLowerCase())&&"a"!==a&&a!==r&&!b(n)&&!B.hasClass(n,G.nonanchor_track_class);)n=n.parentNode;if(!n||B.hasClass(n,G.no_click_listen))return 0;if(B.hasClass(n,G.nonanchor_track_class)){l={pos:0,sec:t.moduleName,slk:"_"};var c=i(n,1);c&&B.aug(l,c.getAll())}else{var u=B.getAttribute(n,G.anc_pos_attr);if(l=t.getLinkAtPos(u),!l)return 0;l=l.data,a===o||a===r||A(e,n,t.moduleElement)||(s=!0)}if(!l.tar){var d=B.getAttribute(n,"href");d&&(l.tar=B.extDomain(d)),d&&l.tar||(l.tar=B.extDomain(G.loc))}l.tar_uri||(n.pathname?l.tar_uri=n.pathname.substring(0,B.MAX_VALUE_LENGTH):l.tar_uri="");var f=t.moduleYLK;if(f){var p=f.getAll();B.aug(l,p,function(e){return!(e in l)})}return l.A_xy=B.xy(e),"contextmenu"==e.type&&(l.A_cl=3,s=!1),{data:l,event:e,moduleElement:t.moduleElement,targetElement:n,synch:s,hasTargetTop:n&&n.target&&"_top"===n.target.toLowerCase()}}function C(e,t,n,r,i){var o={};return B.aug(o,r),o.sec=e,o.slk=t,o._p=n,{data:o,outcome:i,event:null,moduleElement:null,targetElement:null,synch:!1,hasTargetTop:!1}}function x(e,t,n){t||(t=document);for(var r=e.split(","),i=[],o=0,a=r.length;o<a;o++)for(var s=t.getElementsByTagName(r[o]),l=0,c=s.length;l<c;l++){var u=s[l];n&&!n.call(0,u)||i.push(u)}var d=i[0];return d?(d.sourceIndex?i.sort(function(e,t){return e.sourceIndex-t.sourceIndex}):d.compareDocumentPosition&&i.sort(function(e,t){return 3-(6&e.compareDocumentPosition(t))}),i):[]}function S(e,t,n,r){t||(t=document);var i=e.split(",");n=n||[];var o=t.childNodes;if("true"!==B.getAttribute(t,G.skip_attr))for(var a=0,s=o.length;a<s;a++){var l=o[a];B.isTagOfInterest(l,i)&&(r&&!r.call(0,l)||n.push(l)),"true"!==B.getAttribute(l,G.skip_attr)?S(e,l,n,r):"true"===B.getAttribute(l,G.skip_attr)&&n.push(l)}var c=n[0];return c?(c.sourceIndex?n.sort(function(e,t){return e.sourceIndex-t.sourceIndex}):c.compareDocumentPosition&&n.sort(function(e,t){return 3-(6&e.compareDocumentPosition(t))}),n):[]}function O(e,t,n){function r(t,r){var o=[];r=r||1;for(var a=0,l=t.length;a<l;a++)if("div"===t[a].tagName.toLowerCase()){var u=t[a],f=i(u),p=h(m,c.map.sec||e,1,u,f.map.slk||c.map.slk,!0,n);d[0]=p,o.push(p)}else{var v=t[a],p=h(m,c.map.sec||e,r,v,c.map.slk,0,n);d[r-1]=p,o.push(p),r++}if("true"===B.getAttribute(s,G.skip_attr)){var p=h(m,c.map.sec||e,1,u,c.map.slk,!0,n);d[0]=p,o.push(p)}return o}function o(t){for(var n=[],r=0,i=t.length;r<i;r++){var o=t[r],a=B.getAttribute(o,G.anc_pos_attr),s=h(m,c.map.sec||e,a,o,c.map.slk,0,!0);n.push(s)}return n}function a(e){return!B.getAttribute(e,G.anc_pos_attr)}var s=document.getElementById(t),l="a,button,input";if(!s)return u("Specified module not in DOM: "+t),null;var c=i(s),d=[],p=G.parse_dom?S(l,s):x(l,s),m=w(s,G.lt_attr),v=p.length,_=B.getAttribute(s,G.track_type);r(p);var g={useViewability:n,moduleYLK:c,links:d,moduleName:e,trackType:_,moduleElement:s,refreshModule:function(e,t,i,o){o.isRefreshed=!0;var s=G.parse_dom?S(l,B.$(e),null,a):x(l,B.$(e),a);if(t===!0||s.length>0){var c=r(s,v+1);v+=s.length;var u=s.length;if(n){u=0;for(var d=0,p=c.length;d<p;d++)c[d].viewable&&u++}if((t===!0||u>0)&&(G.USE_RAPID||o.event)){var m={};B.aug(m,this),i?m.links=c:m.links=[],(t===!0||i)&&W.sendRefreshedContent(m,t,o)}}else B.ldbg&&f("refreshModule("+e+") - no new links.");t===!0&&G.apv&&K&&K.reInit()},reevaluateViewableLinks:function(){var t=d.length,n=x("a",this.moduleElement,function(t){return function(n){if(!B.getAttribute(n,G.anc_pos_attr)){t++,n.setAttribute(G.anc_pos_attr,t);var r=h(m,c.map.sec||e,t,n,c.map.slk,0,!1);d[t-1]=r}var i=B.getAttribute(n,G.anc_v9y_attr);return!("1"===i||!B.isAboveFold(n))&&(n.setAttribute(G.anc_v9y_attr,"1"),!0)}}(t));if(0!==n.length&&G.USE_RAPID){var r=o(n),i={};B.aug(i,this),i.links=r,W.sendRefreshedContent(i,!1,{})}},removeHandlers:function(){B.rmEvent(s,"click",y),G.track_right_click&&B.rmEvent(s,"contextmenu",y)},getLinkAtPos:function(e){return e>d.length?null:d[e-1]},identifier:t},y=function(e){k(e,g)};return B.addEvent(s,"click",y),G.track_right_click&&B.addEvent(s,"contextmenu",y),g}function L(e,t,n){"object"==typeof e&&e||(e={}),G.ldbg&&f("beaconPageview called, pp="+B.fData(e)),t&&!G.persist_asid&&l(),(G.USE_RAPID||G.apv_always_send&&B.hasOwn(e,"A_apv"))&&W.sendRapidNoDelay([],!0,e,null,n),G.apv&&null!=K&&K.reInit()}function M(e,t,n,r){G.ldbg&&f('beaconEvent: event="'+e+'" data='+B.fData(t)+" outcome="+n);var i=E(0,e,t,n);W.sendEvents(i,r)}function D(){var e=null,t=(new Date).getTime(),n=t,r=B.getScrollY(),i=-1,o=function(){var e=B.getScrollY(),t=i===-1?e-r:e-i;Math.abs(t)>G.viewability_px&&(q.reevaluateModuleViewability(),i=e,n=(new Date).getTime())},a=function(){null!=e&&clearTimeout(e);var i=(new Date).getTime();i-t<G.viewability_time&&(r=B.getScrollY(),n=i),e=setTimeout(function(){o()},G.viewability_time)};B.addEvent(window,"scroll",a),this.reInit=function(){r=B.getScrollY(),i=-1,t=n=(new Date).getTime()},this.destroy=function(){B.rmEvent(window,"scroll",a)}}function N(){var e=null,t=lastApvTime=(new Date).getTime(),n=B.getScrollY(),r=-1,i=function(){var e=B.getScrollY(),t=r===-1?e-n:e-r,i=t>0?0:1;if(Math.abs(t)>G.apv_px){var o={A_apv:1,A_apx:e,A_asd:i};L(o,!1,!0),r=e,lastApvTime=(new Date).getTime(),G.apv_callback&&G.apv_callback.call(this,{pixel_pos:e,scroll_dir:i})}},o=function(){null!=e&&clearTimeout(e);var r=(new Date).getTime();r-t<G.apv_time&&(n=B.getScrollY(),lastApvTime=r),e=setTimeout(function(){i()},G.apv_time)};B.addEvent(window,"scroll",o),this.reInit=function(){n=B.getScrollY(),r=-1,t=lastApvTime=(new Date).getTime()},this.destroy=function(){B.rmEvent(window,"scroll",o)}}function P(){var e={focus:{state:"start",etrg:"show",etag:"dwell,start",jse:"window.focus"},pageshow:{state:"start",etrg:"show",etag:"dwell,start",jse:"window.pageshow"},"visibilitychange-visible":{state:"start",etrg:"show",etag:"dwell,start",jse:"document.visibilitychange"},blur:{state:"stop",etrg:"hide",etag:"dwell,stop",jse:"window.blur"},pagehide:{state:"stop",etrg:"hide",etag:"dwell,stop",jse:"window.pagehide"},"visibilitychange-hidden":{state:"stop",etrg:"hide",etag:"dwell,stop",jse:"document.visibilitychange"},beforeunload:{state:"stop",etrg:"close",etag:"dwell,stop",jse:"window.beforeunload"}},t="start";ne=v();var n,r;"undefined"!=typeof document.hidden?(n="hidden",r="visibilitychange"):"undefined"!=typeof document.mozHidden?(n="mozHidden",r="mozvisibilitychange"):"undefined"!=typeof document.msHidden?(n="msHidden",r="msvisibilitychange"):"undefined"!=typeof document.webkitHidden&&(n="webkitHidden",r="webkitvisibilitychange");var i=function(i){var o="",a=i.type;if(i.type==r&&(a=document[n]?"visibilitychange-hidden":"visibilitychange-visible"),B.hasOwn(e,a)&&(o=e[a].state),0!=o.length){if(t==o)return void f("dwell: -- state already "+t+" (event="+a+")");t=o;var s=e[a];f("dwell: change state to "+t+" (event="+a+")");var l={etrg:s.etrg,outcm:"window",usergenf:1,etag:s.etag,A_jse:s.jse};"start"===t&&(ne=v(),null!=re&&(l.A_prets=re.ts,l.A_prems=re.ms)),"stop"===t&&(re=v(),null!=ne&&(l.A_prets=ne.ts,l.A_prems=ne.ms)),M("dwell",l,"")}};for(var o in e)e.hasOwnProperty(o)&&B.addEvent(window,o,i);B.addEvent(window,r,i),this.set_state=function(e){t=e},this.start_dwell=function(){return"start"===t?(f("dwell: -- state already "+t),!1):(t="start",ne=v(),!0)},this.stop_dwell=function(){return"stop"===t?(f("dwell: -- state already "+t),!1):(t="stop",re=v(),!0)},this.destroy=function(){for(var t in e)e.hasOwnProperty(t)&&B.rmEvent(window,t,i);B.rmEvent(window,r,i)}}function R(e,t){function r(){var e=I(o,a,s,l,d,f),r=new n(e);"object"==typeof t&&r.absorb(t);var i=E(0,"pageperf",r.getAll(),"");W.sendEvents(i)}var i=10;if(window.performance&&window.performance.timing){var o=e?e.perf_navigationtime||0:G.perf_navigationtime||0,a=e?e.perf_resourcetime||0:G.perf_resourcetime||0,s=e?e.perf_commontime||null:G.perf_commontime||null,l=e?e.perf_usertime||null:G.perf_usertime||null;if(!(o<1&&a<1)||s||l){var c=B.hasOwn(G.sample,"perf_navigationtime")?G.sample.perf_navigationtime:100,u=B.hasOwn(G.sample,"perf_resourcetime")?G.sample.perf_resourcetime:100,d=B.samplingSuccess(c),f=B.samplingSuccess(u);if(d||f)return(o>0||a>0)&&0===window.performance.timing.loadEventStart&&(te+=i,te<=200)?void setTimeout(function(){R(e,t)},i):void r()}}}function I(e,t,n,r,i,o){var a={},s=window.performance.timing;if(i&&e>0&&(H(s.responseStart,s.connectEnd,a,"A_pfb"),H(s.responseEnd,s.responseStart,a,"A_pbp"),H(s.responseEnd,s.requestStart,a,"A_psr"),H(s.loadEventStart,s.navigationStart,a,"A_pol"),H(s.domInteractive,s.navigationStart,a,"A_pdi")),i&&e>1&&(H(s.redirectEnd,s.redirectStart,a,"A_prd"),H(s.domainLookupEnd,s.domainLookupStart,a,"A_pdl"),H(s.connectEnd,s.secureConnectionStart,a,"A_psh"),H(s.connectEnd,s.connectStart,a,"A_psc"),H(s.loadEventStart,s.responseEnd,a,"A_pfe")),o&&t>0&&"undefined"!=typeof window.performance.getEntries){var l=[],c=window.performance.getEntries();c.sort(function(e,t){return e.duration>t.duration?-1:e.duration<t.duration?1:0});for(var u=c.slice(0,10),d=u.length,f=0;f<d;f++){var p={},m=u[f].name.replace(/\?.+$/,"");m=m.replace(/^.+\//,""),p.name=m,p.dur=Math.floor(u[f].duration),p.st=Math.floor(u[f].startTime),l.push(p)}a.A_res=B.sfy(l)}if(n&&(B.hasOwn(n,"initialPageLoad")&&(a.A_cmi=B.sfy(n.initialPageLoad)),B.hasOwn(n,"afterPageLoad")&&(a.A_cma=B.sfy(n.afterPageLoad))),r)for(var v=["utm"],f=0;f<v.length;f++)B.hasOwn(r,v[f])&&(a.A_utm=B.sfy(r[v[f]]));return a.etrg="backgroundPost",a.outcm="performance",a.usergenf=0,a.etag="performance",a}function H(e,t,n,r){if(e&&t){var i=e-t;n[r]=i}}function V(){if("prerender"==document.visibilityState){var e={etrg:"prerender",outcm:"page",usergenf:0,etag:"prerender"},t=E(0,"prerender",e,"");W.sendEvents(t)}}function U(){G.dwell_on&&(z=new P),m(),G.ldbg&&f("tracked_mods: "+B.fData(G.tracked_mods));var e=q.addModules(G.tracked_mods,!1),t=q.addModules(G.tracked_mods_viewability,G.viewability);G.USE_RAPID&&G.pageview_on_init&&W.sendRapidNoDelay(e.concat(t),1==G.client_only),G.prerender&&V(),B.executeOnLoad(function(){F=new D,G.apv&&(K=new N),R(),_initTimeStamp=null,G.extendbcookie&&J.extendBCookie()})}function Y(e){var t=navigator.userAgent,n=Object.prototype,r=t.match(/MSIE\s[^;]*/)||t.match(/Trident\/[^;]*/)?1:0,i=/KHTML/.test(t)?1:0,o=null!==t.match(/(iPhone|iPad|iPod)/gi),a=(t.indexOf("Android")>-1,o&&null!==t.match(/AppleWebKit/)),s=null!==t.match(/AppleWebKit/)&&null===t.match(/Chrome/),l=new RegExp(/\ufeff|\uffef|[\u0000-\u001f]|[\ue000-\uf8ff]/g),c=new RegExp(/[\u007f-\u00a0]|\s{2,}/g),u="http://",f="https://",m="class",v=" ",_=-1,g=300,h=["A_res","A_cmi","A_cma","A_utm"],y=-1,w="https:"===window.location.protocol;return r&&(document.documentMode?y=document.documentMode:(y=5,document.compatMode&&"CSS1Compat"==document.compatMode&&(y=7))),{$:function(e){return document.getElementById(e)},ca:"%01",cb:"%02",cc:"%03",cd:"%04",ce:"%05",cf:"%06",cg:"%07",ch:"%08",ylk_kv_delim:e.ylk_kv_delim||":",ylk_pair_delim:e.ylk_pair_delim||";",DATA_ACTION:"data-action",data_action_outcome:"data-action-outcome",isIE:r,isIOSSafari:a,isSafari:s,isWebkit:i,ieV:y,MAX_VALUE_LENGTH:e.max_value_length||g,value_len_whitelist:h,hasOwn:function(e,t){return n.hasOwnProperty.call(e,t)},enc:encodeURIComponent,dec:decodeURIComponent,getQueryStringValue:function(e,t){return decodeURIComponent(e.replace(new RegExp("^(?:.*[&\\?]"+encodeURIComponent(t).replace(/[\.\+\*]/g,"\\$&")+"(?:\\=([^&]*))?)?.*$","i"),"$1"))},curProto:function(){return w?f:u},isSecure:function(){return w},isScrollHorizontalVisible:function(){return document.documentElement.scrollWidth>document.documentElement.clientWidth},getCompStyle:function(e,t){return void 0!==window.getComputedStyle?window.getComputedStyle(e,t):(this.el=e,this.getPropertyValue=function(t){var n=/(\-([a-z]){1})/g;return"float"==t&&(t="styleFloat"),n.test(t)&&(t=t.replace(n,function(){return arguments[2].toUpperCase()})),e.currentStyle[t]?e.currentStyle[t]:0},this)},getBorder:function(e,t){if(!e||!t)return 0;var n=parseInt(this.getCompStyle(e,null).getPropertyValue(t),10);return isNaN(n)&&(n=0),n},getElementHeight:function(e){if(!e)return 0;var t=e.offsetHeight||0;return t?t-this.getBorder(e,"border-top-width")-this.getBorder(e,"border-bottom-width"):0},getPositionTop:function(e){for(var t=0;e;)t+=e.offsetTop,e=e.offsetParent;return t},getScrollbarWidthHeight:function(){var e=this.make("div");e.style.overflow="scroll",e.style.visibility="hidden",e.style.position="absolute",e.style.width="100px",e.style.height="100px",document.body.appendChild(e);var t={width:e.offsetWidth-e.clientWidth,height:e.offsetHeight-e.clientHeight};return this.rmBodyEl(e),t},isAboveFold:function(e){if(r&&y<=7)return!0;var t=B.getCompStyle(e);if("hidden"==t.visibility||"none"==t.display)return!1;var n=e.getBoundingClientRect(),i=this.getElementHeight(e),o=.5*i;if(n.top+o<0)return!1;var a=window.innerHeight||document.documentElement.clientHeight;if(this.isScrollHorizontalVisible()){var s=this.getScrollbarWidthHeight();a-=s.height}return n.bottom-o<=a||void 0},strip:function(e){for(var t={"/":"P",";":"1","?":"P","&":"1","#":"P"},n={url:e,clean:"",cookie:"",keys:[]},r=0;e.indexOf("_yl",r)!==-1;){var i=e.indexOf("_yl",r);if(r<i&&(n.clean+=e.slice(r,i-1)),r=i+3,t[e.charAt(i-1)]&&"="===e.charAt(i+4)){n.ult=1;var o="_yl"+e.charAt(i+3),a="";for(i+=5;i<e.length&&!t[e.charAt(i)];i++)a+=e.charAt(i);n.keys.push(o),n[o]=a,"_ylv"!==o&&(n.cookie+="&"+o+"="+a),t[e.charAt(i)]&&"P"===t[e.charAt(i)]&&(n.clean+=e.charAt(i)),r=i+1}else n.clean+=e.slice(i-1,r)}return n.ult&&(n.cookie=n.cookie.substr(1),n.clean+=e.substr(r),"0"===n._ylv),n},prevDef:function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},appBodyEl:function(e){document.body.appendChild(e)},rmBodyEl:function(e){document.body.removeChild(e)},sa:function(e,t,n){e.setAttribute(t,n)},getScrollY:function(){var e=void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop;return e},make:function(e,t){var n=document.createElement(e);if(t&&this.isObj(t))for(var r in t)this.sa(n,r,t[r]);return n},getXHR:function(){function e(){for(var e=!1,n=t.length,r=0;r<n;r++){try{e=t[r]()}catch(e){continue}break}return e}var t=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}];return e()},hasLS:function(){try{return"localStorage"in window&&null!==window.localStorage}catch(e){return!1}},hasCORS:function(){return!(r&&y<10)&&("withCredentials"in new XMLHttpRequest||"undefined"!=typeof XDomainRequest)},hasWorkers:function(){return!!window.Worker},clearCookie:function(e,t,n){t=t?t:"/",n=n?n:"",document.cookie=e+"= ; path="+t+"; Expires=Thu, 01 Jan 1970 00:00:00 GMT; Domain="+n+";"},uniqConcat:function(e,t,n){function r(e){for(var t=0,r=e.length;t<r;t++){var a=e[t];if(a){var s=n(a);o[s]||(o[s]=1,i.push(a))}}}var i=[],o={};return r(e),r(t),i},trim:function(e){return e?e.replace(/^\s\s*/,"").replace(/\s\s*$/,""):e},extDomain:function(e){var t=e.match(/^https?\:\/\/([^\/?#]+)(?:[\/?#]|$)/i);return t&&t[1]},getAttribute:function(e,t){var n="";return document.documentElement.hasAttribute||t!==m||(t="className"),e&&e.getAttribute&&(n=e.getAttribute(t,2)),n},isDate:function(e){return"[object Date]"===n.toString.call(e)},isArr:function(e){return"[object Array]"===n.toString.apply(e)},isStr:function(e){return"string"==typeof e},isNum:function(e){return"number"==typeof e&&isFinite(e)},isNumeric:function(e){return e-0==e&&(e+"").replace(/^\s+|\s+$/g,"").length>0},isObj:function(e){return e&&"object"==typeof e},rTN:function(e){try{if(e&&3===e.nodeType)return e.parentNode}catch(e){d(e)}return e},getTarget:function(e){var t=e.target||e.srcElement;return t&&!t.nodeName&&(t=t.correspondingUseElement&&t.correspondingUseElement.parentNode?t.correspondingUseElement.parentNode:null),this.rTN(t)},addEvent:function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)},rmEvent:function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent&&e.detachEvent("on"+t,n)},aug:function(e,t,n){if(t)for(var r in t)if(this.hasOwn(t,r)){if(n&&!n.call(null,r,t[r]))continue;e[r]=t[r]}},rmProto:function(e){return e?e.substr(0,7)===u?e.substr(7,e.length):e.substr(0,8)===f?e.substr(8,e.length):e:"";
},norm:function(e){return null===e?"":(e=""+e,this.trim(e.replace(c," ").replace(l,"")))},_hasClass:function(e,t){var n,r=!1;return e&&t&&(n=this.getAttribute(e,m)||"",r=t.exec?t.test(n):t&&(v+n+v).indexOf(v+t+v)>-1),r},hasClass:function(e,t){if(this.isArr(t)){for(var n=0,r=t.length;n<r;n++)if(this._hasClass(e,t[n]))return!0;return!1}return!!this.isStr(t)&&this._hasClass(e,t)},quote:function(e){var t=/["\\\x00-\x1f\x7f-\x9f]/g,n={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},r='"',i='"';if(e.match(t)){var o=e.replace(t,function(e){var t=n[e];return"string"==typeof t?t:(t=e.charCodeAt(),"\\u00"+Math.floor(t/16).toString(16)+(e%16).toString(16))});return r+o+r}return i+e+i},/* @license
       Copyright 2013 jQuery Foundation and other contributors

       Permission is hereby granted, free of charge, to any person obtaining a copy
       of this software and associated documentation files (the "Software"), to deal
       in the Software without restriction, including without limitation the rights
       to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
       copies of the Software, and to permit persons to whom the Software is
       furnished to do so, subject to the following conditions:

       The above copyright notice and this permission notice shall be included in
       all copies or substantial portions of the Software.

       THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
       IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
       FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
       AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
       LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
       OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
       THE SOFTWARE.
       */
sfy:function(e){if(!e&&""!==e)return{};var t,n=typeof e;if("undefined"===n)return"undefined";if("number"===n||"boolean"===n)return""+e;if("string"===n)return this.quote(e);if("function"==typeof e.toJSON)return this.sfy(e.toJSON());if(this.isDate(e)){var r=e.getUTCMonth()+1,i=e.getUTCDate(),o=e.getUTCFullYear(),a=e.getUTCHours(),s=e.getUTCMinutes(),l=e.getUTCSeconds(),c=e.getUTCMilliseconds();return r<10&&(r="0"+r),i<10&&(i="0"+i),a<10&&(a="0"+a),s<10&&(s="0"+s),l<10&&(l="0"+l),c<100&&(c="0"+c),c<10&&(c="0"+c),'"'+o+"-"+r+"-"+i+"T"+a+":"+s+":"+l+"."+c+'Z"'}if(t=[],this.isArr(e)){for(var u=0,d=e.length;u<d;u++)t.push(this.sfy(e[u]));return"["+t.join(",")+"]"}if("object"===n){for(var f in e)if(this.hasOwn(e,f)){var p=typeof f,m=null;if("string"===p)m=this.quote(f);else{if("number"!==p)continue;m='"'+f+'"'}if(p=typeof e[f],"function"!==p&&"undefined"!==p){var v="";v=null===e[f]?'""':0===e[f]?0:this.sfy(e[f]),t.push(m+":"+v)}}return"{"+t.join(",")+"}"}},toJSON:function(){var e=null;return function(t){return e||(e="object"==typeof JSON&&JSON.stringify&&6!==y&&7!==y&&8!==y?JSON.stringify:this.sfy),e.call(this,t)}}(),executeOnLoad:function(e){var t=!1,n=function(n){(document.addEventListener||n&&"load"===n.type||"complete"===document.readyState)&&(t=!0,r(),e.call(this))},r=function(){document.addEventListener?(document.removeEventListener("DOMContentLoaded",n,!1),window.removeEventListener("load",n,!1)):(document.detachEvent("onreadystatechange",n),window.detachEvent("onload",n))};if("complete"===document.readyState)setTimeout(n);else if(document.addEventListener)document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1);else{document.attachEvent("onreadystatechange",n),window.attachEvent("onload",n);var i=!1;try{i=null==window.frameElement&&document.documentElement}catch(e){}i&&i.doScroll&&!function n(){if(!t){try{i.doScroll("left")}catch(e){return setTimeout(n,50)}r(),e.call(this)}}()}},getLinkContent:function(e){for(var t,n=0,r="";(t=e.childNodes[n])&&t;n++)1===t.nodeType&&("img"===t.nodeName.toLowerCase()&&(r+=(this.getAttribute(t,"alt")||"")+" "),r+=this.getLinkContent(t));return r},fData:function(e){return this.isStr(e)?e:this.toJSON(e)},getLT:function(e,t){if(!e)return"_";var n="";return t=t.toLowerCase(),n="input"===e.nodeName.toLowerCase()?this.getAttribute(e,"value"):"text"===t?i?e.textContent:e.innerText?e.innerText:e.textContent:"href"===t?this.rmProto(this.getAttribute(e,"href")):this.getAttribute(e,t)||"",n=this.norm(n),""===n&&(n=this.norm(this.getLinkContent(e))),n&&n.length>B.MAX_VALUE_LENGTH&&(n=n.substring(0,B.MAX_VALUE_LENGTH)),""===n?"_":n},clref:function(e){if(0!==e.indexOf(u)&&0!==e.indexOf(f))return"";var t=this.strip(e);return t.clean||t.url},cold:function(){return screen?screen.colorDepth||screen.pixelDepth:"unknown"},sr:function(){return screen&&screen.width&&screen.height?screen.width+"x"+screen.height:""},vr:function(){return screen&&screen.availHeight&&screen.availWidth?screen.availWidth+"x"+screen.availHeight:""},dor:function(){return screen&&screen.orientation&&screen.orientation.type?screen.orientation.type.indexOf("landscape")>-1?1:0:""},xy:function(e){function t(){var e=document.documentElement,t=document.body;return e&&(e.scrollTop||e.scrollLeft)?[e.scrollTop,e.scrollLeft]:t?[t.scrollTop,t.scrollLeft]:[0,0]}var n=null,i=e.pageX,o=e.pageY;return r&&(n=t()),i||0===i||(i=e.clientX||0,r&&(i+=n[1])),o||0===o||(o=e.clientY||0,r&&(o+=n[0])),i+","+o},hasCC:function(e){for(var t=0,n=e.length;t<n;t++){var r=e.charCodeAt(t);if(r<32||"="===r)return!0}return!1},isValidPair:function(e,t){return!!B.in_value_whitelist(e)||(!(e.length<=0||e.length>32||t.length>B.MAX_VALUE_LENGTH)||(B.ldbg&&console.warn("Invalid key/value pair ("+e+"="+t+") Size must be 1-32 & 0-300 respectively."),!1))},ser:function(e,t){if(!e)return"";void 0===typeof t&&(t=!0);var n=[],r="";for(var i in e)if(this.hasOwn(e,i)){var o=i,a=e[i];if(null===o||null===a)continue;if(o+="",a+="",a&&!B.in_value_whitelist(o)&&a.length>B.MAX_VALUE_LENGTH&&(a=a.substring(0,B.MAX_VALUE_LENGTH)),!this.isValidPair(o,a))continue;if(!this.hasCC(o)&&!this.hasCC(a)){r="",a=this.trim(a),""!==a&&" "!==a||!t||(a="_");try{r=this.enc(o+""+a),r=r.replace(/'/g,"%27")}catch(e){r="_ERR_ENCODE_",d(e)}n.push(r)}}return n.join(this.cd)},rand:function(){for(var e=0,t="",n="";e++<16;){var r=Math.floor(62*Math.random());n=r<10?r:String.fromCharCode(r<36?r+55:r+61),t+=n}return t},tms:function(){return+new Date},cookEn:function(){var e=navigator.cookieEnabled?1:0,t="rapidtc";return"undefined"!=typeof navigator.cookieEnabled||e||(document.cookie=t+"=1",e=document.cookie.indexOf("testcookie")!=-1,document.cookie=t+"=; expires=Thu, 01 Jan 1970 00:00:01 GMT;"),e},isResCF:function(e){var t={14:1,15:1,18:1,19:1,20:1};return t[e]},isTagOfInterest:function(e,t){for(var n=0,r=t.length;n<r;n++)if(e.tagName&&e.tagName.toLowerCase()==t[n].toLowerCase())return!0;return!1},samplingSuccess:function(e){var t=function(e){for(var t=33554467,n=t,r=0,i=e.length;r<i;r++)n+=(n<<1)+(n<<4)+(n<<7)+(n<<8)+(n<<24),n^=e.charCodeAt(r);return n<0&&(n&=2147483647,n+=2147483648),n},n=function(e){var n=1e3;e*=10;var r=new p,i=""+r.getCookieByName("B");return!!i&&(_<0&&(_=t(i)%n),_<e)};return n(e)},in_value_whitelist:function(e){return!(r&&y<=8)&&B.value_len_whitelist.indexOf(e)!==-1}}}"undefined"!=typeof console&&"undefined"!=typeof console.log||(console={log:function(){}}),"undefined"==typeof console.error&&(console.error=console.log),"undefined"==typeof console.warn&&(console.warn=console.log),t.prototype={ser:function(){return B.ser(this.map)},set:function(e,t){var n=t?B.norm(t):t;void 0!==n&&null!==n||(n=""),null!==n&&B.isStr(n)&&(n=n.replace(/\\/g,"\\\\")),!B.in_value_whitelist(e)&&n.length>B.MAX_VALUE_LENGTH&&(n=n.substring(0,B.MAX_VALUE_LENGTH)),B.isValidPair(e,n)&&(this.map[B.norm(e)]=n,this.count++)},get:function(e){return this.map[e]},getAll:function(){return this.map},absorb:function(e){if(e&&B.isObj(e))for(var t in e)B.hasOwn(e,t)&&this.set(t,e[t])},absorb_filter:function(e,t){if(e&&B.isObj(e))for(var n in e)t&&!t.call(null,n)||B.hasOwn(e,n)&&this.set(n,e[n])},getSize:function(){return this.count}},n.prototype=new t,n.prototype.constructor=t,r.prototype=new t,r.prototype.constructor=t,n.makeFromPP=function(e){var t=new n;return e&&t.absorb(e.getAll()),t};var j=new n,B=Y(e),q=new y,X={none:0,gzip:1,lzw:2,deflate:3};p.prototype={getCookieByName:function(e){return this.cookieMap[e]},getRxx:function(){var e="rxx",t=this.cookieMap[e];if(G.fpc&&(void 0===t||null===t||""===t)){var n=document.domain||"";n="."+n.split(".").slice(-2).join(".");var r=Date.UTC(2015,7,1),i=(new Date).getTime()-r;t=parseInt(Math.random().toString().substring(2)).toString(36)+"."+i.toString(36)+"&v=1",_(e,t,31536e3,n)}return t},extendBCookie:function(){var e=this.cookieMap.B;e?_("B",e,31536e3,".yahoo.com"):u("Bcookie not set")}};var G=s(e),W=g(),K=null,F=null,z=null,$=null,J=new p,Q=J.getRxx();null!=Q&&j.set("_rx",Q);var Z=J.getCookieByName("_ga");null!=Z&&j.set("_ga",Z);var ee=J.getCookieByName("yx");null!=ee&&j.set("_yx",ee);var te=(function(){var e={};return{subscribe:function(t,n){var r=e[t];r||(r=[],e[t]=r),r.push(n)},unsubscribe:function(t,n){var r=e[t];if(r)for(var i=0;i<r.length;i++)if(r[i]===n)return void r.splice(i,1)},fire:function(t){var n=e[t];if(n)for(var r=0,i=n.length;r<i;r++)n[r].call(null)}}}(),0),ne=null,re=null;U();var ie={utils:B};return{init:function(){},beaconEvent:function(e,t,n,r){M(e,t,n,r)},beaconClick:function(e,t,n,r,i,o,a){G.ldbg&&f("beaconClick: sec="+e+" slk="+t+" callback="+o),!r&&i&&(r={});var s={};if(i&&(r.outcm=i),a&&a.pp&&B.aug(s,a.pp),a&&a.dwell&&G.dwell_on){var l=a.dwell;"start"!==l&&"stop"!==l||("start"===l?z.start_dwell()&&(s.etag="dwell,"+l,s.usergenf=1,s.A_prets=re?re.ts:null,s.A_prems=re?re.ms:null):z.stop_dwell()&&(s.etag="dwell,"+l,s.usergenf=1,s.A_prets=ne?ne.ts:null,s.A_prems=ne?ne.ms:null))}var c=C(e,t,n,r,i);c.pp=s,W.sendClick(c,o)},addModules:function(e,t,n){G.ldbg&&f("addModules() called: mods="+B.fData(e)+" isPage: "+t),n=n||{};var r={A_am:1};n.pp&&B.aug(r,n.pp),n.useViewability=n.useViewability||!1,n.clickonly=n.clickonly||!1;var i=!1,o=!1;switch(t||(t=!!n.useViewability&&2),t){case 1:case"1":case!0:t=!0,o=!0;break;case 2:case"2":i=!0,t=!1,n.event=E("contentmodification","",{});break;case 0:case"0":case!1:default:t=!1}if(!G.yql_enabled)return void(t?L(r,o):n.event&&this.beaconRichView(r,n.event.outcome));n&&n.event&&t&&(d("Cannot track event type and pageview at same time."),n.event=null);var a=q.addModules(e,n.useViewability);(0!==a.length||n.event)&&(n.clickonly&&(a=[]),(G.USE_RAPID||n.event)&&(t||n.event||n.pp?(o&&!G.persist_asid&&l(),n.event&&n.event.data&&B.aug(r,n.event.data),W.sendRapidNoDelay(a,t,r,n)):a.length>0&&W.sendRapid(a,t,r,n)),t===!0&&G.apv&&K&&K.reInit())},addModulesWithViewability:function(e,t,n){n=n||{},n.useViewability=G.viewability,this.addModules(e,t,n)},refreshModule:function(e,t,n,r){G.ldbg&&f("refreshModule called: mod="+e+" isPV: "+t+" sendLinks: "+n+" options: "+B.fData(r));var i=!1,o=!1;switch(r=r||{},t||(t=!1),t){case 1:case"1":case!0:t=!0,o=!0;break;case 2:case"2":i=!0,t=!1,r.event=E("contentmodification","",{});break;case 0:case"0":case!1:default:t=!1}if(!G.yql_enabled){var a=r.pp||{};return void(t?L(a,o):r.event&&this.beaconRichView(a,r.event.outcome))}var s=n!==!1;o&&!G.persist_asid&&l(),t&&r&&r.event&&(r.event=null),q.refreshModule(e,t,s,r)},removeModule:function(e){q.removeModule(e)},isModuleTracked:function(e){return G.ldbg&&f("isTracked called: "+e),q&&void 0!==q.exists(e)},destroy:function(){f("destroy called"),q.destroy(),K&&(K.destroy(),K=null),F&&(F.destroy(),F=null),z&&(z.destroy(),z=null)},reInit:function(e){if(G.ldbg&&f("reInit called with: "+B.fData(e)),e=e||{},!e.spaceid)return void d("Invalid spid in reInit config: "+B.fData(e));j=new n,G=s(e),B=Y(e);var t=new p,r=t.getRxx();null!=r&&j.set("_rx",r);var i=t.getCookieByName("_ga");null!=i&&j.set("_ga",i);var o=t.getCookieByName("yx");null!=o&&j.set("_yx",o)},setRapidAttribute:function(e){e.keys&&G.keys.absorb(e.keys),e.spaceid&&(G.spaceid=e.spaceid),e.referrer&&(G.referrer=e.referrer.substring(0,B.MAX_VALUE_LENGTH)),e.A_sid&&(G.keys.set("A_sid",e.A_sid),G.persist_asid=!0),e.location&&(G.loc=e.location,G.keys.set("_w",B.rmProto(e.location).substring(0,B.MAX_VALUE_LENGTH))),B.hasOwn(e,"apv")&&(e.apv?K?K.reInit():K=new N:K&&(K.destroy(),K=null))},clearRapidAttribute:function(e){for(var t in e)if("keys"===e[t]){var r=G.keys.get("_w"),i=G.keys.get("A_sid");G.keys=new n,G.keys.set("_w",r),G.keys.set("A_sid",i)}else"referrer"===e[t]?G.referrer="":"A_sid"===e[t]?(G.keys.set("A_sid",""),G.persist_asid=!0):"location"===e[t]&&(G.loc="",G.keys.set("_w",""))},beaconPageview:function(e){L(e,!0)},beaconECommerce:function(e,t){},beaconInternalSearch:function(e,t){},getCurrentSID:function(){return j.get("A_sid")},notifyHistoryPushStateCalled:function(){},beaconLinkViews:function(e,t,n,i){G.ldbg&&f("beaconLinkViews() called"),n=n||{};var o={};n.pp&&B.aug(o,n.pp);var a=!1,s=!1;switch(t){case 1:case"1":case!0:s=!0;break;case 2:case"2":a=!0,s=!1,n.event=E("contentmodification","",{});break;case 0:case"0":case!1:default:s=!1}if(!G.yql_enabled)return void(s?L(o,!1):n.event&&this.beaconRichView(o,n.event.outcome));if(n&&n.event&&s&&(d("Cannot track event type and pageview at same time."),n.event=null),0!==e.length||n.event){for(var l=[],c=0;c<e.length;c++){var u=e[c],p=new r;p.absorb_filter(u,function(e){return"sec"!=e&&"_links"!=e});for(var m=[],v=1,_=0;_<u._links.length;_++){var g=u._links[_],h={viewable:!0,data:{sec:u.sec,_p:v++,A_lv:2}};B.aug(h.data,g),m.push(h)}var y={moduleName:u.sec,moduleYLK:p,links:m,identifier:u.sec};l.push(y)}(G.USE_RAPID||n.event)&&((s||n.event||n.pp)&&n.event&&n.event.data&&B.aug(o,n.event.data),W.sendRapidNoDelay(l,s,o,n)),i&&i.call()}},beaconPerformanceData:function(e,t){R(e,t)},__test_only__:function(){return ie}}};