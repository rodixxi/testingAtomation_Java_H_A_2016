YUI.add("comms-ui-menu-base",function(e){function d(s){function M(){o._link=s.host,v=o._root=H(s.menu),o.dontFocus=s.dontFocus||!1,o.dontFocus||o._root.setAttribute("tabIndex",-1),o._evt=[],o._tmFocus=null,o._fixedMenuGroup=s.fixedMenuGroup,o._setVisibleCbk=s.setVisibleCbk,o._overlap=s.overlap||!1,o._offset=s.offset||{x:0,menuUpY:0,menuDownY:0},o.closeMenu=e.Lang.isUndefined(s.closeMenu)?!0:s.closeMenu,tt(),P(v,o._link),o.setAriaAttrs(v),G(s.keys),Z(s.enterAccel),_()}function _(e){var t=v.all("li");(e||t&&t.size()!==C||S[0]&&!S[0].inDoc())&&D(t)}function D(e){var t=e.size(),r=0,i,s,o,u,a,f;C=0,S=[];for(u=0;u<t;u++)a=e.item(u),C++,a.getStyle("display")!=="none"&&!a.ancestor().hasClass("disabled")&&(a.hasClass("disabled")?a.one(".icon-help")&&a.one(".help-text")&&S.push(a.one(".icon-help")):(f===undefined&&a.hasClass(n)&&(f=r),S.push(a),N&&(i=a.one("em"),i&&(s=i.get("childNodes"),s&&(o=s.item(0),o&&N===o.get("text")&&(T=a)))),r++));v.all("li."+n).removeClass(n),x=typeof f=="undefined"?-1:f}function P(e,t){t.set("aria-haspopup","true"),e.setAttrs({role:"menu","aria-labelledby":t.getAttribute("id"),"aria-hidden":"true"})}function H(t){var n,r=t instanceof e.Node;if(r||typeof t=="string")r?n=t:(f("body").append(t),n=f("body").get("lastChild"));return n.setStyles({position:"absolute",zIndex:u}),n}function B(e,t){var n=f("window"),r=h.getCachedWindowSize().height,i=o._fixedMenuGroup,s=null,u=o._setVisibleCbk,a="",v=t,g=o._link.getAttribute("data-menu-position"),E,S,T,N,C,L,A,O,M;if(e===o._root&&(!m||m())&&o._link.inDoc()){E=o._link.get("region");if(y)w&&(I(o._link),v=null),r>c&&(A=r-c),A<l&&(A=l),e.setStyles({maxHeight:A,overflowX:"hidden",overflowY:"auto",opacity:0}),S=q(v),b=t&&t.target||b;else{i&&(s=e.one("#"+i.menu),s.setStyle("maxHeight",i.height+"px")),e.setStyles({visibility:"hidden",display:"block",top:0,maxHeight:"none",opacity:0}),T=e.get("region").height,N=n.get("scrollTop"),O=E.top-N,M=r-(E.bottom-N),p.indexOf(g)!==-1?a=g:M>=O?a="below":T>M&&(a="above"),A=o._setMaxHeight(O,M,T,a),S=o._setPosition(E,a,T,A),e.setStyles({maxHeight:A,overflowX:"hidden",overflowY:"auto"}),s&&A<e.get("scrollHeight")&&s.setStyle("maxHeight","none"),C=h.getCachedWindowSize().width,C&&E.left+e.get("region").width>C&&(S.left="auto",S.right="0px");if(d||k)L=Math.max(E.left+E.width-e.get("region").width,0),S.left=L+"px",C>E.left+E.width&&(S.right="auto");S.visibility="visible"}u&&u(),_(),x=-1,e.setStyles(S),e.setStyle("opacity",1),o.dontFocus||e.focus()}}function j(e,t,n,r){var i={top:e.bottom,left:e.left,right:"auto"},s;return t==="below"?(o._overlap&&(i.top=e.top+o._offset.menuDownY),i.left+=o._offset.x):t==="above"?(o._overlap?s=e.bottom+o._offset.menuUpY:s=e.top,i.left+=o._offset.x,i.top=s-(n<r?n:r)+"px"):(o._overlap&&(i.top=e.top),i.left+=o._offset.x,i.top+=o._offset.menuDownY),i}function F(e,t,n,r){var i;return r==="below"?(i=t-c,i<l&&(i=l)):r==="above"?(i=e-c,i<l&&(i=l)):i=n,i}function I(t){var n=t.getXY(),r=parseInt(t.getStyle("height"),10)||20;return g=e.Lang.isNumber(r)?[n[0],n[1]+r]:n,g}function q(e){var t=o._root,n,r,i,s,u,a=15,f,l=h.getCachedWindowSize().height,c=0;return r=e?e.clientX:g[0],i=e?e.clientY:g[1],t.setStyles({display:"block",bottom:"auto",left:-1e3,right:"auto"}),f=parseInt(t.get("region").height,10),s=l-a-i<f,u=h.getCachedWindowSize().width-a-r<parseInt(t.get("region").width,10),n={top:i+c,left:r},s&&(n.top=l+c-f-a),u&&(n.left="auto",n.right=a+"px"),n}function R(e){e.setStyle("display","none"),e.removeClass(r),e.hasClass(t)&&e.removeClass(t),e!==o._root&&e.get("parentNode").removeClass(i),S[x]&&S[x].removeClass(n)}function U(t){var n;if(t){n=e.Node.getDOMNode(e.one(t)).nodeName,n=n.toUpperCase();switch(n){case"LI":return t;default:return t.ancestor("li")}}}function z(t){var n,r;n=U(t.target);if(!n)return;r=x,x=e.Array.indexOf(S,n),x>=0?J(r,x):x=r}function W(){var e;y||(e=o._link.one("a")||o._link,e&&e.focus())}function X(t){var n=x,r=t.target,i=e.one(document.activeElement),s,u;O=!0;switch(t.keyCode){case 38:case 40:t.halt(),$(t,n),s=S[x];if(!i||!i.hasClass("focus-node")){u=s&&s.one(".focus-node");if(!u||u.getStyle("display")==="none")u=s.one("a")||s;u&&u.focus()}break;case 27:o.hide(),t.halt(),W();break;case 13:e.use("node-event-simulate",function(){r.get("nodeName").toLowerCase()==="a"?(r.simulate("click"),t.halt(),o.hide()):r.hasClass("icon-help")?(r.simulate("click"),t.halt()):T&&(T.one("a").simulate("click"),o.hide())});break;default:E.length>0&&K(t)?(o.hide(t),W()):t.halt()}}function V(e){if(O){O=!1;return}switch(e.keyCode){case 38:case 40:e.halt()}}function $(e,t){e.keyCode===40?(x=x===S.length-1?0:x+1,J(t,x,!0)):e.keyCode===38&&(x=x<=0?S.length-1:x-1,J(t,x,!0))}function J(e,t,r){var i=this,s,o;if(s=S[e]){s.removeClass(n);if(!i.dontFocus){o=s.one(".focus-node");if(!o||o.getStyle("display")==="none")o=s.one("a")||s;o&&o.set("tabIndex",-1)}}if(s=S[t]){s.addClass(n);if(!i.dontFocus){o=s.one(".focus-node");if(!o||o.getStyle("display")==="none")o=s.one("a")||s;o&&(o.set("tabIndex",0),r&&o.scrollIntoView())}}}function K(t){var n,r,i,s,o,u,f;if(t.ctrlKey||t.metaKey||t.altKey||t.shiftKey){for(s=0;s<E.length;s++)if((r=(E[s]+"").split("+"))&&r.length>1){u=0;for(o=0;o<r.length;o++){i=r[o],f=i.toLowerCase()==="cmd"?"metaKey":i.toLowerCase()+"Key";if(a.isNumber(i*1)&&i*1!==t.keyCode||!a.isNumber(i*1)&&!t[f])break;u++}if(r.length===u){n=!0;break}}}else e.Array.indexOf(E,t.keyCode)>-1&&(n=!0);return n}function Q(e){E=e}function G(e){a.isArray(e)?Q(e):a.isFunction(e)?e.call(this,Q):a.isString(e)&&Q([e])}function Z(e){e&&(a.isFunction(e)?e.call(this,et):a.isString(e)&&et([e]))}function et(e){N=e}function tt(){function t(){if(!o.isVisible())return;o.tmFocus&&o.tmFocus.cancel(),o._tmFocus=a.later(0,o,function(){try{var t=e.one("document").get("activeElement"),n=t.get("nodeName"),r;n!=="EMBED"&&n!=="OBJECT"&&(r=t.getAttribute("embed-type"),r!=="menu"&&o.hide())}catch(i){typeof globals!="undefined"&&globals.report?globals.report("caughterror:..-build-comms-shared-src-ui-menu-js-menu:1",i,"TRY_CATCH"
,1,1,1):window.console&&console.log&&console.log("caughterror:..-build-comms-shared-src-ui-menu-js-menu:1")}})}y?(o._evt.push(o._link.on("mousedown",function(){o.hide()},o)),o._evt.push(o._link.on("contextmenu",function(e){o.toggle(e)},o))):(o._evt.push(o._link.on("mousedown",function(e){e.halt(),o.toggle(e)},o)),o._evt.push(o._link.on("keydown",function(e){if(e.keyCode===13||e.keyCode===32)e.preventDefault(),o.toggle(e)},o))),o._evt.push(o._root.on("blur",t,o)),o._evt.push(e.on("windowresize",function(){var n=e.one("body").get("clientWidth"),r=e.one("body").get("clientHeight");if(n!==L||r!==A)L=n,A=r,t()},o)),o._evt.push(o._root.on("focus",function(){o._tmFocus&&o._tmFocus.cancel()},o)),o._evt.push(o._root.on("keydown",X,o)),o._evt.push(o._root.on("keypress",V,o)),o._evt.push(o._root.on("mouseover",z,o)),o._evt.push(o._root.on("menu:changed",function(){D(v.all("li"))}))}function nt(){return v}function rt(){return b}var o=this,d=f("body").getStyle("direction")==="rtl",v,m=s.button_enabled,g=s.xy||[0,0],y=s.isContext||!1,b=s.contextTarget||null,w=s.alignToTarget||!1,E=[],S=[],x,T=null,N=null,C=-1,k=s.flushLeft,L=e.one("body").get("clientWidth"),A=e.one("body").get("clientHeight"),O=!1;M(),e.mix(o,{setVisible:B,_setPosition:j,_setMaxHeight:F,hideMenu:R,checkDescendants:_,getMenuNode:nt,getContextTarget:rt,selectMenuItem:function(){this.simulate&&this.simulate("mouseover")},getHost:function(){return o._link}})}var t="menu-active",n="menu-active-item",r="menu-visible",i="menu-visible-path",s="role",o="aria-hidden",u=15500,a=e.Lang,f=e.one,l=80,c=40,h=e.common.Utils,p=["above","below"];d.prototype={_detachHdlr:null,setAriaAttrs:function(e){var t=this;e.all("ul").set(s,"group"),e.all("li,div,h4").each(function(e){e.get(s)||e.set(s,"presentation")});var n=e.all("a");n.set(s,"menuitem"),t.dontFocus&&n.set("tabIndex",-1)},show:function(e){var n=this,r=n._root;if(e&&e.target&&e.target.hasClass("disabled"))return;!n.isVisible()&&r._node&&(r.addClass(t),n.setVisible(r,e),r.set(o,!1),n.attachClickHdlr(!0),r.fire("menu:state",{state:"show",link:n._link,context:e&&e.context}))},hide:function(e){var t=this,n,r=t._root,i=e?e.type:null,s=e&&e.target&&h.getDataAction(e);if(t.isVisible()&&t.closeMenu){r.set(o,!0),!t.dontFocus&&(n=r.one('a[tabindex="0"]'))&&n.set("tabIndex",-1);if(!s||s.action==="menu")t.hideMenu(r),r.fire("menu:state",{state:"hide",link:t._link,origEvtType:i})}t._detachHdlr&&t.closeMenu&&t.attachClickHdlr(!1)},toggle:function(e){this[this.isVisible()?"hide":"show"](e)},attachClickHdlr:function(t){var n=this;n._detachHdlr&&(n._detachHdlr.detach(),n._detachHdlr=null);if(t===!1)return;n._detachHdlr=e.on("click",function(t){var r=t.target,i=e.Node.getDOMNode(r),s=n._link.contains(r)||n._link===r,o=!1;e.UA.webkit&&!e.UA.chrome&&i.nodeName==="UL"&&(o=!0),t.preventDefault(),!o&&!s&&(n._tmFocus&&n._tmFocus.cancel(),n._root&&n._root._node&&n.hide())},document),e.UA.webkit&&!e.UA.chrome&&n._root.on("mousedown",function(t){var n=t.target,r=e.Node.getDOMNode(n).nodeName;r!=="A"&&(n=n.ancestor("a")),n&&n.focus()})},destroy:function(){var t,n=this;n.attachClickHdlr(!1);for(t in n._evt)e.detach(n._evt[t])},isVisible:function(){var t=this._root;return!t._node&&e.one(".dummy_menu_node")&&(t=e.one(".dummy_menu_node").menu._root),t._node?t.getStyle("display")!=="none":!1}},d.NAME="Menu",d.NS="menu",e.namespace("Plugin").Menu=d},"1.0.0",{requires:["common-utils"]});
YUI.add("_shared_module_offscreen_bin_menus_loading",function(A){A.namespace("ui.Templates");A.ui.Templates._shared_module_offscreen_bin_menus_loading={base:'<div role = "menu" id = "loadingMenu" class="optionMenu" aria-live="polite"> <ul> <li><a href="#"><span>{{str_galaxy_status_loading}}</span></a></li> </ul></div>'};},"1.0.0");YUI.add("common-ui-menu-helper",function(e){e.namespace("common.ui");var t=function(){function t(t,n,r){var i,s=e.one("#loadingMenu");t.menu&&t.unplug(e.Plugin.Menu),n.menu&&n.menu instanceof e.Node&&n.menu.detachAll(),n=n||{},s&&s.remove(),t.plug(e.Plugin.Menu,n),t.menuCreated=!0;if(t.menu){i=t.menu.getMenuNode(),t.menu._root.on("menu:state",function(t){e.fire("menu:display-state",{state:t.state,intl:NeoConfig.intl}),i.fire("menu:display-state",t)}),e.on("menu:display-menu-close",function(){t&&t.menu&&t.menu.hide()}),i.delegate("click",function(r){var s=e.common.Utils.getDataAction(r),o=s.action,u,a=s.node,f=r.currentTarget.one("a");if(!o||a&&a.hasClass("disabled")){r.halt();return}f&&(!f.getAttribute("href")||"#"===f.getAttribute("href"))&&r.preventDefault();if(r.target.hasClass("icon-help")){u=r.target.get("parentNode").get("parentNode").one(".help-text");if(u){e.Node(r._currentTarget).all(".help-text").each(function(e){e!==u&&e.addClass("hidden")}),u.toggleClass("hidden"),r.halt();return}}n.allowSimClick&&i._node.click(),i.fire("menuSelected",{dataAction:o,item:a});try{t.menu&&t.menu.hide(),n.isContext?i.blur():n.blur||(t.one("a")?t.one("a").focus():t.focus())}catch(l){typeof globals!="undefined"&&globals.report?globals.report("caughterror:..-build-common-ui-menuhelper-menuhelper:1",l,"TRY_CATCH",1,1,1):window.console&&console.log&&console.log("caughterror:..-build-common-ui-menuhelper-menuhelper:1")}},"li, dd a"),e.fire("menu:created",i),!n.cbafter&&r&&r(),t.menu.show();if(!n.cbafter)return}r&&r()}function n(t,n){e.Lang.later(500,this,function(){var i=n?n.isContext?!0:!1:!1,s=t.get("region"),o=NeoConfig.isRTL,u=e.ui.Templates._shared_module_offscreen_bin_menus_loading,a=e.one("window"),f,l,c,h,p,d;if(e.one("#loadingMenu")||t.menuCreated)return;e.one("body").append(e.common.Utils.substitute(u.base,null,0,0,strings)),c=e.one("body").get("lastChild"),i?(f=n.xy||t.getXY(),l=r(t,c,f)):(c.setStyles({position:"absolute",visibility:"hidden",display:"block",top:0}),l={top:s.bottom,left:s.left,right:"auto"},h=c.get("region").height,p=a.get("scrollTop"),d=a.get("winHeight"),h>d-(s.bottom-p)&&h<s.top-p&&(l.top=s.top-h+"px"),o&&(l.left=s.left+s.width-c.get("region").width+"px"),l.visibility="visible"),l.zIndex=4e3,c.setStyles(l)})}function r(t,n,r){var i,s=r[0],o=r[1],u,a,f=15,l,c=t.get("winHeight"),h=e.one("window").get("scrollTop")||0;return n.setStyles({display:"block",bottom:"auto",left:-1e3,right:"auto",position:"absolute"}),l=parseInt(n.get("region").height,10),u=c-f-o<l,a=t.get("docWidth")-f-s<parseInt(n.get("region").width,10),i={top:o+h,left:s},u&&(i.top=c+h-l-f),a&&(i.left="auto",i.right=f+"px"),i}e.mix(this,{create:t,createLoadingMenu:n})};e.common.ui.MenuHelper=new t},"1.0.0",{requires:["common-utils","comms-ui-menu-base","_shared_module_offscreen_bin_menus_loading"]});
YUI.add("mail-services-plugins",function(B){var A={};function C(){}B.mix(C.prototype,{get:function(D){return(A[D]||[]).slice(0);},register:function(D,E){if(!A[D]){A[D]=[];}A[D].push(E);this.fire("added:"+D,E);},unregister:function(F,G){if(!A[F]){return;}var D=A[F],E=D.indexOf(G);D.splice(E,1);this.fire("removed:"+F,G);if(D.length===0){delete A[F];}}});B.augment(C,B.EventTarget);B.namespace("Mail.Services").Plugins=new C();},"1.0.0",{requires:["event-custom"]});YUI.add("_shared_module_compose_attach_item",function(e){e.namespace("ui.Templates"),e.ui.Templates._shared_module_compose_attach_item={base:'<li role="presentation" class="disposition-{{disposition}}"> <span aria-hidden="true" class="filename {{isViewable}}">{{filename}}</span> <div class="options" role="presentation"> <a role="button" class="remove" aria-label="{{str_comp_remove}} {{filename}}" href="#">{{str_comp_remove}}</a> <a role="button" class="download" aria-label="{{str_comp_attach_btn_download}} {{filename}}" href="{{download_url}}"> {{str_comp_attach_btn_download}} <i class="icon icon-chevron-down" aria-haspopup="true"></i> </a> </div> <div class="progress-bar" aria-hidden="true"> <span class="progress"> <span class="progress-content"></span> </span> </div></li>'}},"1.0.0");
YUI.add("_shared_module_compose_thumbnail_item",function(e){e.namespace("ui.Templates"),e.ui.Templates._shared_module_compose_thumbnail_item={base:'<li class="thumbnail-item disposition-{{disposition}} image-attachment"> <div class="options" role="presentation"> <div role="button" aria-label="{{str_comp_remove}} {{filename}}" class="remove icon icon-small-close" tabindex="0"></div> <div class="download photo-overlay" role="presentation"> <a role="button" tabindex="0" title="{{str_comp_attach_btn_download}} {{filename}}" href="{{download_url}}">{{str_comp_attach_btn_download}}<i aria-haspopup="true" class="icon icon-chevron-down"></i></a> </div> </div> <div class="progress-bar"> <span class="progress"> <span class="progress-content"></span> </span> </div></li>'}},"1.0.0");
YUI.add("_shared_module_compose_thumbnail_preview_item",function(e){e.namespace("ui.Templates"),e.ui.Templates._shared_module_compose_thumbnail_preview_item={base:'<li class="thumbnail-item doc-preview-compose disposition-{{disposition}} {{attachment_type_class}}" title="{{filename}}"> <div class="{{file_icon_class}}"></div> <div class="options" role="presentation"> <div role="button" aria-label="{{str_comp_remove}} {{filename}}" class="remove icon icon-small-close" tabindex="0"></div> <div class="download photo-overlay" role="presentation"> <a title="{{str_comp_attach_btn_download}} {{filename}}" href="{{download_url}}"><span class="download-txt">{{str_comp_attach_btn_download}}</span><i aria-haspopup="true" class="icon icon-chevron-down"></i></a> </div> </div> <div class="progress-bar"> <span class="progress"> <span class="progress-content"></span> </span> </div> <div class="filename"> <span class="basename">{{basename}}</span> <span class="fileextn">{{extn}}</span> </div></li>'}},"1.0.0");
YUI.add("mail-services-attach-io",function(e){function t(t){var n=[window.location.protocol+"//",window.location.host,"/ws/mail/v2.0/jsonrpc?","appid="+e.common.Utils.settings.value("appid"),"&m="+t,"&wssid="+NeoConfig.wssid,"&windowid="+NeoConfig.windowId,"&r="+Date.now()].join("");return n}function n(e){return{fid:"Draft",aid:e.contentId(),filename:e.file(),mid:e.mid(),pid:e.partId(),size:e.size()}}function r(){var e=new Date;return"Attachments_"+e.getFullYear()+(e.getMonth()+1)+e.getDate()}function i(t,n,r){e.io(t,{method:"POST",data:e.JSON.stringify(n),headers:{"Content-Type":"application/json"},on:r})}e.namespace("Mail.ComposeV3");var s={getDownLoadUrl:function(s){var o="VirusScanAttachments",u=t(o),a={method:o,params:[{downloadInfo:[n(s)],archiveName:r(),archive:!1}]};return new Promise(function(t,n){var r={success:function(r,i){try{var s=e.JSON.parse(i.response||i.responseText).result.attachInfoResult[0];s.virusFound.length===0?t(s.downloadUrl):n(Error("virusfound"))}catch(o){n(o)}},failure:function(e){n(e)}};i(u,a,r)})}};e.namespace("Mail.Services").AttachIO=s},"1.0.0",{requires:["io","json-parse","json-stringify"]});
YUI.add("mail-ui-tray",function(e){function d(){this.isInternal=!0,this.label=strings.str_comp_attachment_save_to_computer,this.iframes=[]}function v(e){var t=e.map(function(e,t){return'<li role="presentation"><a role="menuitem" data-action="'+t+'" tabindex="-1">'+e.label+"</a>"});return t.unshift("<ul>"),t.push("</ul>"),t.join("")}function m(e){this.tripodInTrayCalloutShown=!1,this.model=e.model,this.view=e.view,this.container=e.container,this.filesView=e.filesView,this.thumbnailsView=e.thumbnailsView,this.localDownloader=new d}var t=e.common.ui.MenuHelper,n=e.Mail.Services.Plugins,r=e.common.Utils,i=r.substitute,s=r.escapeHtml,o=r.unescapeHtml,u=e.ui.Templates._shared_module_compose_attach_item.base,a="in-progress",f=r.features.enabled("docPreview"),l=f?e.ui.Templates._shared_module_compose_thumbnail_preview_item.base:e.ui.Templates._shared_module_compose_thumbnail_item.base,c="non-image-attachment",h="image-attachment",p=1e4;d.prototype={deleteIframe:function(){var e=0;for(e=0;e<this.iframes.length;e++)document.body.removeChild(this.iframes[e]);this.iframes=[]},download:function(e){var t=this;t.deleteIframe(),e.forEach(function(e){var n=document.createElement("iframe");n.src=e.url,n.width=0,n.height=0,n.style.display="none",document.body.appendChild(n),t.iframes.push(n)},this)},injectIframe:function(e){var t=document.createElement("iframe");this.deleteIframe(),t.src=e,t.width=0,t.height=0,t.style.display="none",document.body.appendChild(t),this.iframes.push(t)},downloadV3:function(t){var n=this,r=e.common.Utils.guid(),i=location.origin+"/neo/iframemsg?id="+r,s,o,u;o=window.setTimeout(function(){e.fire("util:ymstats",{name:"download-tray-v3-success"}),s&&s.detach()},p),s=e.on("iframe-message",function(t){r===t.id&&(clearTimeout(o),n.handleIframeMessage(t),s&&s.detach())}),u=e.common.Utils.mergeQueryString(t,{error:i}),this.injectIframe(u)},handleIframeMessage:function(t){var n=e.JSON.parse(atob(t.data.replace(/_/g,"/").replace(/-/g,"+"))),r=n.error,i=e.Tictac.att.strings,s,o;s=r.code==="EC-4001"&&r.validationErrors&&r.validationErrors.join("").indexOf("virus")>=0,s?o=i.str_tictac_att_download_virus_error:o=i.str_tictac_att_download_server_error,e.common.ui.NotificationV2.notify(o,{type:"error",close:!0,customClass:"single-inline"}),e.fire("util:ymstats",{name:"download-tray-v3-fail",type:s?"virus":"fetch"})},destroy:function(){this.deleteIframe()}},m.prototype={constructor:m,render:function(){var t=this.model,r=this;t.attachments.length>0&&(this.container.removeClass("hidden"),t.attachments.length>1&&this.container.one(".attachments-header").removeClass("hidden"),t.attachments.forEach(this.sync,this)),this.filesView.removeClass("hidden"),t.on("attachmentAdded",this.sync,this),this.container.one(".removeAll").on("click",function(e){e.preventDefault(),t.attachments.forEach(function(e){e.setState("deleted")}),this.fire("attachmentRemoved")},this),this._createMenu(),n.on("added:attachmentDownloader",this._createMenu,this),this.container.one(".error").one(".dismiss").on("click",function(e){e.target.ancestor(".error").addClass("hidden"),e.preventDefault(),e.stopPropagation()}),this.showMessageInfo=function(e){var t=null,n;return n=function(r,i,s){if(!e.getDOMNode())return;s=s||1e4,i=i||"",e.setContent(r),r===""?e.addClass("hidden"):e.removeClass("hidden"),t&&clearTimeout(t),t=setTimeout(function(){if(i===""){e&&e.getDOMNode()&&e.addClass("hidden");return}n(i,"",2e3)},s)},n}(this.container.one(".self-close-msg")),this.hidMessageInfo=function(){r.showMessageInfo("","",0)},t.on("stateChanged",e.bind(this.handleAttachmentProgress,this))},handleAttachmentProgress:function(e){var t=9999e3,n=this.model.attachments,r=e.next==="saving"&&!!n&&n.filter(function(e){return e.state()==="uploading"||e.state()==="pending"}).length,i='<span class="spinner">'+strings.str_comp_attach_upload_progress+"</span>";r?this.showMessageInfo(i,strings.str_comp_attach_reattach_failure_title,t):this.hidMessageInfo()},repositionTripodOnBoarding:function(){var e=this.thumbnailsView,t=e&&e.one(".scout-tripodInTray"),n=e&&e.all("li.thumbnail-item").size();if(!t)return;t.setStyle("left",n*100)},showTripodOnboardingInTray:function(){var t=this.view;!this.tripodInTrayCalloutShown&&!r.isCalloutShown("tripodInTray")&&(e.mail.ui.Onboarding.registerDefaultOnboarding({name:"tripodInTray",parent:e.one(".attachments-well .thumbnails-attach"),node:e.one(".attachments-well .thumbnails-attach li:last-child"),hdText:strings.str_comp_onboard_tripodintray_title,offset:[100,0],bdText:strings.str_comp_onboard_tripodintray_body,linkText:strings.str_comp_onboard_tripodintray_link,onLinkClick:function(){t.fire("showComposeAssist",{clickSource:"tripodInTray"})},autoFocus:!1},!0),this.tripodInTrayCalloutShown=!0)},sync:function(t){function E(e,t){var n=new Image;n.onload=function(){if(!e.getDOMNode())return;var n=e.getStyle("backgroundImage"),r;typeof n=="string"&&v&&(r=n.match(/url\((.+)\)|^(blob:.+)/),r&&v.revokeObjectURL(r[1]||r[2])),e.setStyle("backgroundImage","url("+t+")")},n.src=t}function S(){var e=this.container.one(".error");e.removeClass("hidden"),m.one(".remove").setStyle("display","block"),m.one(".download").addClass("hidden"),m.addClass("attach-fail"),this.updateUI()}function x(){e.one("#attachment-button-input")&&e.one("#attachment-button-input").set("value","")}var n=this,p=t.getFileExtension(),d=t.getThumbnailUrl(),v=window.URL||window.webkitURL,m,g,y,b,w;p=(p!==""?".":"")+p.substr(0,4),w={filename:s(o(t.getFilename())),basename:s(o(t.getFilenameWithoutExtension())),extn:s(o(p)),file_icon_class:f?t.getAttachmentIconClass().join(" "):"",download_url:"#",attachment_type_class:t.isImage()?h:c,isViewable:r.features.enabled("slideshowInCompose")&&t.isViewable()?"viewable":"",disposition:t.isInline()?"inline":"attachment"},t.isImage()?(m=e.Node.create(i(l,w,0,0,strings)),v&&t.file()&&m.setStyle("backgroundImage","url("+v.createObjectURL(t.file())+")"),t.state()==="saved"||t.state()==="uploaded"?d&&E(m,t.getThumbnailUrl()):t.on("changedState"
,function(){n.repositionTripodOnBoarding();if(!m.getDOMNode())return;if(this.state()==="saved"||this.state()==="uploaded")E(m,this.getThumbnailUrl()),m.removeClass(a),n.showTripodOnboardingInTray()}),this.thumbnailsView.append(m)):f?(m=e.Node.create(i(l,w,0,0,strings)),this.thumbnailsView.append(m)):(m=e.Node.create(i(u,w,0,0,strings)),this.filesView.append(m)),(t.state()==="pending"||t.state()==="uploading")&&m.addClass(a),e.common.Utils.features.enabled("slideshowInCompose")&&m.on("click",function(){t.isViewable()&&t.openSlideshow(n.localDownloader)}),m.one(".remove").on("click",function(e){e.halt(),t.setState("deleted"),this.fire("attachmentRemoved")},this),m.one(".download").on("click",function(e){this._download(t,this.localDownloader),e.halt()},this),m.one('.download [aria-haspopup="true"]').on("click",function(e){this._showDownloadMenu(e.target,t),e.halt()},this),t.on("saved",x,this),t.on("failed",S,this),t.on("infected",S,this),t.on("deleted",function(){m.remove().destroy(),this.updateUI()},this),t.on("progress",function(e){if(!m.getDOMNode())return;var t=m.one(".progress");e<1?(e=100*e,t&&t.setStyle("width",e+"%")):m.removeClass(a)}),this.updateUI({scrollToAttachmentTray:t.state()!=="saved"}),f&&(g=m.get("region").width,y=m.one(".basename").get("region").width,b=m.one(".fileextn").get("region").width,y+b>=g&&m.one(".basename").setStyle("width",g-b))},updateUI:function(t){var n=this,r=this.container,s=t||{},o=this.model.attachments.filter(function(e){return!e.isInline()}),u=r.one(".attachments-header"),a=o.filter(function(e){return e.state()!=="deleted"}).length,f=u&&u.one(".info"),l,c,h="";if(!u)return;a<1?(f.addClass("hidden"),r.addClass("hidden"),u.addClass("hidden")):a>1?f.removeClass("hidden"):(f.addClass("hidden"),r.removeClass("hidden"),u.removeClass("hidden")),r.one(".totalAttached").set("text",a),l=o.filter(function(e){return e.state()==="failed"}),c=o.filter(function(e){return e.state()==="infected"}),l.length===0&&c.length===0?this.container.one(".error").addClass("hidden"):(c.length===1?h=strings.str_rte_attachments_virus_single:c.length>1?h=i(strings.str_rte_attachments_virus_mult,{num_virus_files:c.length}):h=strings.str_comp_attach_upload_error,this.container.one(".error span").setContent(h)),s.scrollToAttachmentTray&&this.container.scrollIntoView&&setTimeout(function(){n.container.getDOMNode()&&(n.container.scrollIntoView(),e.fire("attachmentsChanged",n.container))},200)},showError:function(){this.container.one(".error").removeClass("hidden"),this.updateUI()},destroy:function(){var e=this;e._menuContainer&&e._menuContainer.remove(!0),e.localDownloader&&e.localDownloader.destroy(),e.model.attachments&&e.model.attachments.forEach(function(e){e.destroySlideshow()})},_createMenu:function(){var t=this,r=n.get("attachmentDownloader");if(r.length===0)return;r.unshift(this.localDownloader),t._downloaders=r,t._menuContainer&&t._menuContainer.remove(!0),t._menuContainer=e.Node.create('<div class="optionMenu"></div>'),t._menuContainer.append(v(t._downloaders)),e.one("body").append(t._menuContainer)},_showDownloadMenu:function(e,n){var r=this;t.create(e,{menu:r._menuContainer,blur:!0},function(){r._menuContainer.on("menuSelected",function(e){r._downloadMenuOptionSelected(e.dataAction,n)})})},_download:function(t,n){var r=t.getDownloadUrlV3();e.fire("util:ymstats",{name:"download-tray-v3-start"}),r?n.downloadV3(r):(this.showMessageInfo(strings.str_error_DownloadError),e.fire("util:ymstats",{name:"download-tray-v3-fail",type:"url-not-found"}))},_downloadMenuOptionSelected:function(e,t){this._download(t,this._downloaders[e])}};var g=!0,y=null,b={prefix:"attachmentsTray"};e.augment(m,e.EventTarget,g,y,b),e.Tray=m},"0.0.1",{requires:["node","comms-utils","event-custom","common-ui-menu-helper","mail-services-plugins","_shared_module_compose_attach_item","_shared_module_compose_thumbnail_item","_shared_module_compose_thumbnail_preview_item","mail-services-attach-io","mail-common-utils-features"]});
YUI.add("mail-controller-html-processor",function(e){function t(){}e.mix(t.prototype,{_convertAmpersand:function(e){return e.replace(/&amp;/g,"&")},_addTrackingParams:function(e){var t=/^https?:\/\/[a-zA-Z]+\.yahoo\.*/,n=/^https?:\/\/.*\.yahoo\.co\.jp.*/,r=/^https?:\/\/[a-zA-Z]+\.tumblr\.*/,i=e.getDOMNode(),s,o,u,a;s=i.href,o=i.search;if(!n.test(s)&&(t.test(s)||r.test(s)))if(!o)s=i.origin+i.pathname+"?soc_src=mail&soc_trk=ma"+i.hash;else{o=o.substring(1),u=o.split("&"),o="";for(a=0;a<u.length;a++)u[a].indexOf("soc_src=")!==0&&u[a].indexOf("soc_trk=")!==0&&(o+=u[a]+"&");s=i.origin+i.pathname+"?"+o+"soc_src=mail&soc_trk=ma"+i.hash}return s},_processAnchors:function(e){var t=e.all("a"),n=this;return t.each(function(e){var t;try{t=e.get("href")}catch(r){t=""}typeof t=="string"&&(t=n._addTrackingParams(e),t=n._convertAmpersand(t),e.set("href",t))}),e},_insertEmptyLineBeforeQuotedText:function(t){var n=t.one(".yahoo_quoted"),r="qtdSeparateBR",i=r.length,s,o;n=n?n:t.one("div[class*='yqt']"),n&&(s=n.previous(function(e){return o=e.get("className"),o&&o.indexOf(r,o.length-i)!==-1}),!s&&n.insert(e.Node.create(e.ui.Templates._shared_module_compose_reply.forward_rich_body),"before"))},_expandQuotedText:function(e,t){var n,r,i;if(e.one(".yahoo_quoted")&&e.one(".yahoo_quoted").getStyle("display")!=="block"||t){n=e.one(".yahoo_quoted"),this._insertEmptyLineBeforeQuotedText(e),n&&n.setStyle("display","block");if(t)for(i=0;i<t.length;i++)r=e.one("."+t[i]+"yahoo_quoted"),r&&r.setStyle("display","block")}return e},_removeControlCharacters:function(e){var t=e,n=/[\x01-\x08\x0B-\x0C\x0E-\x1F\x7F-\x84\x86-\x9F]/ig;return t=t.replace(n,""),t},_removeOriginalMessageDelimiter:function(e){var t=e;return t=t.replace("<!-- ORIGINAL -->",""),t},_removeCursor:function(e){var t=e;return t=t.replace(/<br\b([^>]*?)\bclass="yui-cursor"(.*?)>/ig,""),t},_removeParagraphTags:function(e){var t=e;return t=t.replace(/<p\b([^>]*)>/ig,"<div$1>"),t=t.replace(/<\/p\b[^>]*>/ig,"</div>"),t},_wrapWithUserFontInfo:function(e,t){var n=['<div style="color:',t.foreColor,"; background-color:",t.backColor,"; font-family:",t.fontFamily,";font-size:",t.fontSize,'">'].join("");return[n,e,"</div>"].join("")},_wrapWithHTMLTag:function(e,t){var n="<html>",r="<head></head>",i="<html "+['xmlns="http://www.w3.org/1999/xhtml"','xmlns:v="urn:schemas-microsoft-com:vml"','xmlns:o="urn:schemas-microsoft-com:office:office"'].join(" ")+">",s="<!--[if gte mso 9]><xml><o:OfficeDocumentSettings><o:AllowPNG/><o:PixelsPerInch>96</o:PixelsPerInch></o:OfficeDocumentSettings></xml><![endif]-->";return t&&(n=i,r="<head>"+s+"</head>"),[n,r,"<body>",e,"</body></html>"].join("")},processDocNode:function(e,t){return this._processAnchors(e),this._expandQuotedText(e,t),e},processRawHTML:function(e){return e=this._removeOriginalMessageDelimiter(e),e=this._removeControlCharacters(e),e=this._removeCursor(e),e=this._removeParagraphTags(e),e},wrap:function(e,t,n){return this._wrapWithHTMLTag(this._wrapWithUserFontInfo(e,t),n)}}),e.namespace("mail.Controller").HtmlProcessor=new t},"1.0.0",{requires:["_shared_module_compose_reply"]});
YUI.add("comms-intl-bidi",function(A){A.mix(A.namespace("Intl"),{_rtlChars:"[\uD83A\uD83B][\uDC00-\uDFFF]|[\u0590\u05BE\u05C0\u05C3\u05C6\u05C8-\u05FF\u0604\u0605\u0608\u060B\u060D\u061B-\u064A\u065F\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u070E\u0710\u0712-\u072F\u074B-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA-\u0815\u081A\u0824\u0828\u082E-\u08FF\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD40-\uFDCF\uFDF0-\uFDFC\uFDFE\uFDFF\uFE70-\uFEFE]|\uD803[\uDC00-\uDE5F\uDE7F-\uDFFF]|\uD802[\uDC00-\uDD1E\uDD20-\uDE00\uDE04\uDE07-\uDE0B\uDE10-\uDE37\uDE3B-\uDE3E\uDE40-\uDF38\uDF40-\uDFFF]",_neutralChars:"[\uDB40-\uDB43][\uDC00-\uDFFF]|\uD802[\uDD1F\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDF39-\uDF3F]|\uD804[\uDC80\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA]|\uD803[\uDE60-\uDE7E]|\uD800[\uDD01\uDD40-\uDD8A\uDD90-\uDD9B\uDDFD]|[\uD83F\uD87F\uD8BF\uD8FF\uD93F\uD97F\uD9BF\uD9FF\uDA3F\uDA7F\uDABF\uDAFF\uDB3F\uDB7F\uDBBF\uDBFF][\uDFFE\uDFFF]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDD00-\uDD0A]|[\u0000-\u0040\u005B-\u0060\u007B-\u00A9\u00AB-\u00B4\u00B6-\u00B9\u00BB-\u00BF\u00D7\u00F7\u02B9\u02BA\u02C2-\u02CF\u02D2-\u02DF\u02E5-\u02ED\u02EF-\u036F\u0374\u0375\u037E\u0384\u0385\u0387\u03F6\u0483-\u0489\u058A\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0600-\u0603\u0606\u0607\u0609\u060A\u060C\u060E-\u061A\u064B-\u065E\u0660-\u066C\u0670\u06D6-\u06E4\u06E7-\u06ED\u06F0-\u06F9\u070F\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07F6-\u07F9\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0900-\u0902\u093C\u0941-\u0948\u094D\u0951-\u0955\u0962\u0963\u0981\u09BC\u09C1-\u09C4\u09CD\u09E2\u09E3\u09F2\u09F3\u09FB\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AF1\u0B01\u0B3C\u0B3F\u0B41-\u0B44\u0B4D\u0B56\u0B62\u0B63\u0B82\u0BC0\u0BCD\u0BF3-\u0BFA\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C78-\u0C7E\u0CBC\u0CCC\u0CCD\u0CE2\u0CE3\u0CF1\u0CF2\u0D41-\u0D44\u0D4D\u0D62\u0D63\u0DCA\u0DD2-\u0DD4\u0DD6\u0E31\u0E34-\u0E3A\u0E3F\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39-\u0F3D\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F90-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135F\u1390-\u1399\u1400\u1680\u169B\u169C\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DB\u17DD\u17F0-\u17F9\u1800-\u180E\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1940\u1944\u1945\u19DE-\u19FF\u1A17\u1A18\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1B00-\u1B03\u1B34\u1B36-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1DC0-\u1DE6\u1DFD-\u1DFF\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2000-\u200D\u2010-\u2070\u2074-\u207E\u2080-\u208E\u20A0-\u20B8\u20D0-\u20F0\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u2150-\u215F\u2189\u2190-\u2335\u237B-\u2394\u2396-\u23E8\u2400-\u2426\u2440-\u244A\u2460-\u249B\u24EA-\u26AB\u26AD-\u26CD\u26CF-\u26E1\u26E3\u26E8-\u26FF\u2701-\u2704\u2706-\u2709\u270C-\u2727\u2729-\u274B\u274D\u274F-\u2752\u2756-\u275E\u2761-\u2794\u2798-\u27AF\u27B1-\u27BE\u27C0-\u27CA\u27CC\u27D0-\u27FF\u2900-\u2B4C\u2B50-\u2B59\u2CE5-\u2CEA\u2CEF-\u2CF1\u2CF9-\u2CFF\u2DE0-\u2E31\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3000-\u3004\u3008-\u3020\u302A-\u3030\u3036\u3037\u303D-\u303F\u3099-\u309C\u30A0\u30FB\u31C0-\u31E3\u321D\u321E\u3250-\u325F\u327C-\u327E\u32B1-\u32BF\u32CC-\u32CF\u3377-\u337A\u33DE\u33DF\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA60D-\uA60F\uA66F-\uA673\uA67C-\uA67F\uA6F0\uA6F1\uA700-\uA721\uA788\uA802\uA806\uA80B\uA825\uA826\uA828-\uA82B\uA838\uA839\uA874-\uA877\uA8C4\uA8E0-\uA8F1\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uABE5\uABE8\uABED\uFB1E\uFB29\uFD3E\uFD3F\uFDD0-\uFDEF\uFDFD\uFE00-\uFE19\uFE20-\uFE26\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFEFF\uFF01-\uFF20\uFF3B-\uFF40\uFF5B-\uFF65\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFF0-\uFFFF]|\uD835[\uDEDB\uDF15\uDF4F\uDF89\uDFC3\uDFCE-\uDFFF]|\uD834[\uDD67-\uDD69\uDD73-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE00-\uDE45\uDF00-\uDF56]",_initializeBidiPatterns:function(){this._rtlPattern=new RegExp("^(?:"+this._neutralChars+")*(?:"+this._rtlChars+")");this._neturalPattern=new RegExp("^(?:"+this._neutralChars+")*$");},setBidiChars:function(B,C){if(B!==undefined){this._rtlChars=B;}if(C!==undefined){this._neutralChars=C;}this._initializeBidiPatterns();},detectDirection:function(C,B){if(this._rtlPattern.test(C)){return"rtl";}else{if(B==="ltr"){return"ltr";}else{if(this._neturalPattern.test(C)){if(B==="rtl"){return"rtl";}else{return"";}}else{return"ltr";}}}}});A.Intl._initializeBidiPatterns();A.mix(A.namespace("Intl"),{bidiDirection:A.Intl.detectDirection});},"1.0.0");YUI.add("comms-node-setdir",function(B){var A={ltr:"rtl",rtl:"ltr"};B.Node.addMethod("setDirection",function(E,F){var D,C;if(F==="ltr"||F==="rtl"){D=B.one(E);C=D.getStyle("direction");D.setAttribute("dir",F);D.setStyle("direction","");D.removeClass(B.ClassNameManager.getClassName(A[F]));D.addClass(B.ClassNameManager.getClassName(F));if(F!==C){B.fire("directionChange",{target:D,dir:F});}}return D;});},"1.0.0",{requires:["classnamemanager","node-base","node-style"]});YUI.add("comms-bidi-textentry",function(B){function A(){A.superclass.constructor.apply(this,arguments);}A.NS="bidiTextEntry";A.NAME="bidiTextEntry";B.extend(A,B.Plugin.Base,{initializer:function(C){var E=this.get("host"),D;E.BIDI_DISABLED=false;E.PREVIOUS_DIRECTION=E.getStyle("direction");if(!E.PREVIOUS_DIRECTION){E.PREVIOUS_DIRECTION=E.getAttribute("dir");}E.DETECT_DEFAULT_DIRECTION=(C&&C.detect_default_direction===true);if(!E.DETECT_DEFAULT_DIRECTION){E.setDirection(E.PREVIOUS_DIRECTION);}else{D=B.Intl.detectDirection(E.get("value"));E.setDirection(D);E.PREVIOUS_DIRECTION=D;}this.afterHostEvent("valueChange",function(H){var G=this.get("host"),J,I=G.BIDI_DISABLED,F=G.PREVIOUS_DIRECTION,K;if(I){return;}K=G.getAttribute("dir");if(F!==K){G.BIDI_DISABLED=true;return;}J=B.Intl.detectDirection(H.newVal);if(J==="rtl"||J==="ltr"){G.PREVIOUS_DIRECTION=J;}G.setDirection(J);});}});B.namespace("Plugin");B.Plugin.BidiTextEntry=A;B.Plugin.BidiTextInput=A;},"1.0.0",{requires:["plugin","event-valuechange","comms-intl-bidi","comms-node-setdir"]});YUI.add("comms-editor-autobidi",function(D){var B=function(){B.superclass.constructor.apply(this,arguments);},A="host",C="text";D.extend(B,D.Base,{autoBidiOff:false,watchForAction:true,redetectDirection:false,disableAutoBidi:false,throttledFindEmptyParas:null,findEmptyParas:function(){var F=this.get(A).getInstance();if(F){var E=F.Selection.DEFAULT_BLOCK_TAG;if(F.all(E).size()===0){E=B.PARAGRAPHS;}F.all(E).each(function(H){var G=H.get(C);if(G===""||G===" "||G==="\u00A0"){H.setData(B.AUTO_BIDI,true);}});}},_onKeyDown:function(E){if(this.watchForAction&&!(E.crtlKey||E.metaKey)){this.throttledFindEmptyParas();this.watchForAction=false;}},autoBidi:function(J){var I,H,G,F,E;if(((J&&J.keyCode&&!B.NODETECT_KEYS[J.keyCode])||(J&&J.type&&J.type==="paste"))&&!this.autoBidiOff&&!this.disableAutoBidi){I=this.get(A).getInstance();E=I.Selection.DEFAULT_BLOCK_TAG;H=new I.Selection();G=H.anchorNode;if(G&&!(G.test(B.PARAGRAPHS))){G=G.ancestor(B.PARAGRAPHS);}if((G&&G.getData(B.AUTO_BIDI))||(G&&this.redetectDirection)){F=D.Intl.detectDirection(G.get(C));if(F){G.setAttribute("dir",F);G.setData(B.AUTO_BIDI,false);this.redetectDirection=false;}}}},_afterNodeChange:function(E){if(E.changedType==="mouseup"||(E.changedType==="keydown"&&(E.changedEvent.crtlKey||E.changedEvent.metaKey))){this.watchForAction=true;this.redetectDirection=true;}if(B.AFFECTING_EVENTS[E.changedType]){this.watchForAction=true;this.disableAutoBidi=false;}else{if(B.REDIRECTING_EVENTS[E.changedType]&&!this.disableAutoBidi){this.redetectDirection=true;}else{if(E.changedType!=="keydown"&&E.changedType!=="keyup"){D.later(50,this,this.autoBidi,E.changedEvent);}}}},_disableAutoBidi:function(){this.watchForAction=false;this.disableAutoBidi=true;},_turnAutoBidiOff:function(E){this.autoBidiOff=E.status;},initializer:function(){var E=this.get(A);E.on("ready",function(){E.after("nodeChange",D.bind(this._afterNodeChange,this));E.frame.on("dom:keydown",D.bind(this._onKeyDown,this));E.on("disableautobidi",D.bind(this._disableAutoBidi,this));E.on("turnautobidioff",D.bind(this._turnAutoBidiOff,this));this.throttledFindEmptyParas=D.throttle(D.bind(this.findEmptyParas,this),150);},this);}},{PARAGRAPHS:"P, DIV, UL, OL",AUTO_BIDI:"autobidi",AFFECTING_EVENTS:{"enter":true,"backspace":true,"delete":true},REDIRECTING_EVENTS:{"home":true,"left":true,"right":true},NODETECT_KEYS:{8:"backspace",9:"tab",13:"enter",16:"shift",18:"alt",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",46:"delete"},NAME:"editorAutoBidi",NS:"editorAutoBidi",ATTRS:{host:{value:false}}});D.namespace("Plugin");D.Plugin.EditorAutoBidi=B;},"1.0.0",{requires:["editor-base","comms-intl-bidi"]});/*
YUI 3.16.0-ym19 (build 3.16.0-ym19)
Copyright 2016 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("editor-bidi",function(e,t){var n=function(){n.superclass.constructor.apply(this,arguments)},r="host",i="dir",s="nodeChange",o="bidiContextChange",u="style";e.extend(n,e.Base,{lastDirection:null,firstEvent:null,_checkForChange:function(){var e=this.get(r),t=e.getInstance(),i=new t.EditorSelection,s,u;i.isCollapsed?(s=n.blockParent(i.focusNode,!1,t.EditorSelection.ROOT),s&&(u=s.getStyle("direction"),u!==this.lastDirection&&(e.fire(o,{changedTo:u}),this.lastDirection=u))):(e.fire(o,{changedTo:"select"}),this.lastDirection=null)},_afterNodeChange:function(e){if(this.firstEvent||n.EVENTS[e.changedType])this._checkForChange(),this.firstEvent=!1},_afterMouseUp:function(){this._checkForChange(),this.firstEvent=!1},initializer:function(){var t=this.get(r);this.firstEvent=!0,t.after(s,e.bind(this._afterNodeChange,this)),t.after("dom:mouseup",e.bind(this._afterMouseUp,this))}},{EVENTS:{"backspace-up":!0,"pageup-up":!0,"pagedown-down":!0,"end-up":!0,"home-up":!0,"left-up":!0,"up-up":!0,"right-up":!0,"down-up":!0,"delete-up":!0},BLOCKS:e.EditorSelection.BLOCKS,DIV_WRAPPER:"<DIV></DIV>",blockParent:function(t,r,i){var s=t,o,u;return i=i||e.EditorSelection.ROOT,s||(s=i),s.test(n.BLOCKS)||(s=s.ancestor(n.BLOCKS)),r&&s.compareTo(i)&&(o=e.Node.create(n.DIV_WRAPPER),s.get("children").each(function(e,t){t===0?u=e:o.append(e)}),u.replace(o),o.prepend(u),s=o),s},_NODE_SELECTED:"bidiSelected",addParents:function(t,r){var i,s,o;tester=function(e){if(!e.getData(n._NODE_SELECTED))return o=!1,!0},r=r||e.EditorSelection.ROOT;for(i=0;i<t.length;i+=1)t[i].setData(n._NODE_SELECTED,!0);for(i=0;i<t.length;i+=1)s=t[i].get("parentNode"),!r.compareTo(s)&&!s.getData(n._NODE_SELECTED)&&(o=!0,s.get("children").some(tester),o&&(t.push(s),s.setData(n._NODE_SELECTED,!0)));for(i=0;i<t.length;i+=1)t[i].clearData(n._NODE_SELECTED);return t},NAME:"editorBidi",NS:"editorBidi",ATTRS:{host:{value:!1}},RE_TEXT_ALIGN:/text-align:\s*\w*\s*;/,removeTextAlign:function(e){return e&&(e.getAttribute(u).match(n.RE_TEXT_ALIGN)&&e.setAttribute(u,e.getAttribute(u).replace(n.RE_TEXT_ALIGN,"")),e.hasAttribute("align")&&e.removeAttribute("align")),e}}),e.namespace("Plugin"),e.Plugin.EditorBidi=n,e.Plugin.ExecCommand.COMMANDS.bidi=function(t,s){var o=this.getInstance(),u=new o.EditorSelection,a=this.get(r).get(r).editorBidi,f,l,c,h=o.EditorSelection.ROOT,p,d,v;if(!a){e.error("bidi execCommand is not available without the EditorBiDi plugin.");return}return o.EditorSelection.filterBlocks(),u.isCollapsed?(l=n.blockParent(u.anchorNode,!1,h),l||(l=h.one(o.EditorSelection.BLOCKS)),l=n.removeTextAlign(l),s||(v=l.getAttribute(i),!v||v==="ltr"?s="rtl":s="ltr"),l.setAttribute(i,s),e.UA.ie&&(c=l.all("br.yui-cursor"),c.size()===1&&l.get("childNodes").size()===1&&c.remove()),f=l):(p=u.getSelected(),d=[],p.each(function(e){d.push(n.blockParent(e,!1,h))}),d=o.all(n.addParents(d,h)),d.each(function(e){var t=s;e=n.removeTextAlign(e),t||(v=e.getAttribute(i),!v||v==="ltr"?t="rtl":t="ltr"),e.setAttribute(i,t)}),f=d),a._checkForChange(),f}},"3.16.0-ym19",{requires:["editor-base"]});
YUI.add("_shared_module_message_loading_error",function(A){A.namespace("ui.Templates");A.ui.Templates._shared_module_message_loading_error={base:'<div id="loadingpane" class="msg-loadingpane"> {{loading_error}} {{diff_folder_error}} {{loading_error_else}}</div>',msg_deleted_error:'<div class="message"> {{str_msg_deleted_error}} </div> ',is_perm:"{{str_comp_loading_error_perm}} ",multi_retry:"{{str_comp_multi_retry}} ",multi_retry_else:"{{str_comp_loading_error}} ",is_perm_else:"{{multi_retry}} {{multi_retry_else}} ",can_retry:"<div class='message'> <span class='retry' data-action=\"retry-msg-load\">{{str_try_again}}</span> </div> ",show_tae:'<div class="message error_code">{{str_error_code}} {{tae_code}}</div>',msg_deleted_error_else:"<div class='message'> {{is_perm}} {{is_perm_else}} </div> {{can_retry}} {{show_tae}} ",loading_error:"{{msg_deleted_error}} {{msg_deleted_error_else}} ",diff_folder_error:"<div class='message'>{{str_error_msg_diff_folder_switch}}</div> ",loading_slow_else:'<div class="msg-loading s-loader"></div> ',loading_slow:"<div class='message'> {{str_comp_slow_loading}} </div> <div class='message'> <span class='retry' data-action=\"retry-msg-load\">{{str_try_again}}</span> </div> ",loading_error_else:"{{loading_slow_else}} {{loading_slow}} "};},"1.0.0");YUI.add("_shared_module_rte_well_content_attach_item",function(A){A.namespace("ui.Templates");A.ui.Templates._shared_module_rte_well_content_attach_item={base:"{{browser_plus_attach}}{{browser_plus_attach_else}}",transfer_error:"transfer-error",waiting:"in-queue ",image:'<div style="background-image:url({{thumbnailurl}});"></div> ',in_progress:'<div class="prog-indicator"> <div class="progress" style="width:{{progress}}%"></div> </div> ',browser_plus_attach:'<li role="presentation" class="attachmentVisible {{transfer_error}} {{waiting}} {{type}}"> <div class="file-container"> {{image}} <b/></b> </div> <span class="fname">{{filename}}</span> {{in_progress}}</li>',waiting1:"in-queue ",in_progress1:"downloading ",transfer_error1:"lozengeerror",transfer_warn:"lozengewarn",retry:'<span role="presentation" class="btn lozenge lozengeretry small hidden"><a role="presentation" tabindex="-1" title="{{str_btn_retry_file_attr}}">&nbsp;<b></b></a></span>',transfer_error2:"lozengeerror-remove",browser_plus_attach_else:'<li role="presentation" class="attachmentVisible {{waiting1}} {{in_progress1}} {{type}}"><div tabindex="-1" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" class="lozengeProgress"></div> <span role="presentation" class="btn lozenge {{transfer_error1}} left small"><a role="option" title="{{filesize}}" tabindex="-1" class="{{transfer_warn}}">{{filename}}</a></span>{{retry}}<span role="presentation" class="btn lozenge lozengeremove {{transfer_error2}} right small"><a role="presentation" tabindex="-1" title="{{str_btn_remove_file_attr}}">&nbsp;<b></b></a></span></li>'};},"1.0.0");YUI.add("_shared_module_rte_well_content_attachments_well_fresh",function(e){e.namespace("ui.Templates"),e.ui.Templates._shared_module_rte_well_content_attachments_well_fresh={base:'<div tabindex="0" aria-label="{{str_aria_label_attachments}}" class="attachments-well {{page_compose_email_else}} {{browser_plus_attach_else}}"> <div class="attachments-welcome"> {{browser_plus_attach}} </div> <div class="attachments-header hidden"> <div class="error hidden"> <span>{{str_comp_attach_upload_error}}</span> <a role="button" href="#" class="dismiss">{{str_comp_attach_dismiss}}</a> </div> <div class="self-close-msg hidden"> <span></span> </div> <ul class="info hidden"> <li> <h3 id="total-attached"><span class="totalAttached">0</span> {{str_comp_attachments}}</h3> </li> <li> <a class="removeAll" role="button" href="#" aria-labelledby="total-attached" title="{{str_comp_attach_removeall}}">{{str_comp_attach_removeall}}</a> </li> </ul> </div> <ul role="list" aria-label="{{str_aria_label_image_attachments}}" aria-live="polite" class="thumbnails-attach"></ul> <ul role="list" aria-label="{{str_aria_label_file_attachments}}" aria-live="polite" class="file-attach hidden"> {{file_attach_files}} </ul> <div role="alert" class="error transfer-error hidden"> <span class="attachmenterror"> {{attachments_error}} </span> </div></div>',page_compose_email_else:"hidden",attached_files_else:"hidden",browser_plus_attach_else:"simple-upload {{attached_files_else}} ",browser_plus_attach:"<h2>{{str_rte_attachments_attach_files}}</h2> <h3>{{str_rte_attachments_drag_files}}</h3> ",file_attach_files:"{{_shared_module_rte_well_content_attach_item}} ",multiple_files_failed:"{{str_rte_attachments_error_mult}}",multiple_files_failed_else:"{{str_rte_attachments_error_single}}",attachments_error:"{{multiple_files_failed}} {{multiple_files_failed_else}} "}},"1.0.0",{requires:["_shared_module_rte_well_content_attach_item"]});
YUI.add("_shared_module_compose_message_body",function(e){e.namespace("ui.Templates"),e.ui.Templates._shared_module_compose_message_body={base:'<div class="inner"> <label for="msg" class="offscreen">{{str_comp_messagebody}}</label> <div id="plaintext" class="cm-plaintext"> {{conversation_body_else}} </div> {{_shared_module_message_loading_error}} <div id="rtetext" class="cm-rtetext undoreset" role="document" aria-label="{{str_comp_messagebody}}" spellcheck="true" autocorrect="false" style="visibility:hidden;"> {{conversation_body}} </div> {{has_quote}} <div id="pastebuffer" style="display:none" contenteditable="false"></div> {{_shared_module_rte_well_content_attachments_well_fresh}} </div> <div class="inner-height-syncer"></div> ',conversation_body_else:'<textarea id="msg"></textarea> ',conversation_body:'<div class="msg"> {{conversation_body}} </div> ',has_quote:'<div class="compose-quoted-text unselectable hidden" contenteditable="false" onselectstart="return false;" title="{{str_qtd_expand}}"> <span class="icon icon-chevron-right qtd-expansion-icon unselectable" data-action="quoted-text"></span> <span tabindex="0" role="button" class="qtd-expansion-text unselectable" data-action="quoted-text">{{str_qtd_expand}}</span> </div> '}},"1.0.0",{requires:["_shared_module_message_loading_error","_shared_module_rte_well_content_attachments_well_fresh"]});
YUI.add("_shared_module_rte_well_content_attachments_fresh",function(e){e.namespace("ui.Templates"),e.ui.Templates._shared_module_rte_well_content_attachments_fresh={base:'<div role="presentation" class="attachments-pane gwell rte-pane-fresh shaded rp5px" > <div role="group"> <form method="post" enctype="multipart/form-data" class="attachment-button-form" target="" action=""> {{attachMenuPlus}} {{attachMenuPlus_else}} </form> <span class="btn left right menu attachment-button-disabled hidden"> <a role="button" href="#" tabindex="-1" >{{str_comp_attach}}</a> </span> <span role="alert" class="switch-to-basic-link hidden"> {{str_rte_attachments_basic_message}} <a role="button" href="#">{{str_rte_attachments_basic_link_text}}</a>. </span> </div></div>',attachMenuPlus:'<span class="attach-menu-plus" data-menu-position="above"> <span class="icon icon-attachment attachment-button-attach" title="{{str_comp_attach_singular}}"> </span> <span id="upload_file_selection" aria-hidden="true" class="hidden" title="{{str_comp_attach_singular}}"> <span id="uploader-v2"></span> </span> <span id="attach-btn-menu" aria-hidden="true" class="btn disabled icon icon-chevron-down attach-btn-menu" title="{{str_comp_attach_menu_title_fresh}}" data-action="menu" data-menu-position="above"></span> </span> <input type="file" id="attachment-button-input" multiple="true" name="uploadfile" class="attachment-button-file attach-menu-plus" role="button" aria-label="{{str_comp_attach_singular}}" tabindex="0"/> ',attachMenuPlus_else:'<span class="icon icon-attachment attachment-button-attach" title="{{str_comp_attach_singular}}"> <input type="file" id="attachment-button-input" multiple="true" name="uploadfile" class="attachment-button-file" role="button" aria-label="{{str_comp_attach_singular}}" tabindex="0"/> </span> <span id="upload_file_selection" aria-hidden="true" class="hidden" title="{{str_comp_attach_singular}}"> <span id="uploader-v2"></span> </span> <span id="attach-btn-menu" aria-hidden="true" class="btn disabled icon icon-chevron-down attach-btn-menu" title="{{str_comp_attach_menu_title_fresh}}" data-action="menu"></span> '}},"1.0.0");
YUI.add("_shared_module_rte_well_content_format_fresh",function(e){e.namespace("ui.Templates"),e.ui.Templates._shared_module_rte_well_content_format_fresh={base:'<div role="presentation" class="rte-pane-fresh format-pane gwell shaded"> <div role="group" class="format-inner"> {{stationery_icon_placeholder}} <span id="btn-fontnamesize" class="icon icon-choose-font" data-action="menu" data-menu-position="above" tabindex="-1" role="button" title="{{str_comp_font_menu_attr_fresh}}"> </span> <span data-action="bold" class="icon icon-bold" tabindex="-1" role="button" title="{{str_rte_bold_attr}}" > </span> <span data-action="italic" tabindex="-1" role="button" class="icon icon-italic" title="{{str_rte_italic_attr_fresh}}"> </span> {{is_underline}} <span id="btn-forecolor" data-action="menu" data-menu-position="above" tabindex="-1" role="button" aria-haspopup="true" aria-label="{{str_rte_color_attr_fresh}}" class="icon icon-text-highlight" title="{{str_rte_color_attr_fresh}}"></span> <span id="btn-insertunordered" data-action="menu" data-menu-position="above" tabindex="-1" role="button" class="icon icon-list-bullets" title="{{str_rte_list_menu_attr_fresh}}"></span> <span id="btn-indent" data-action="menu" data-menu-position="above" tabindex="-1" role="button" class="icon icon-indent" title="{{str_rte_indentation_menu_attr_fresh}}"></span> <span id="btn-text-align" data-action="menu" data-menu-position="above" tabindex="-1" role="button" aria-haspopup="true" class="icon icon-align-left" title="{{str_rte_text_alignment_menu_attr_fresh}}"></span> {{bidi}} <span data-action="insertlink" tabindex="-1" role="button" class="icon icon-link" title="{{str_rte_link_attr_fresh}}"> </span> <span id="emoticon" data-action="menu" data-menu-position="above" tabindex="-1" role="button" aria-haspopup="true" class="icon icon-emoticons" title="{{str_comp_emoticons}}"> </span> <span class="om-buttons"></span> {{spellCheckEnabled}} <span id="switchtext-plain" class="switchtext btn-isPlain last icon icon-chevron-double-right" tabindex="-1" role="button" title="{{str_rte_richtext}}" target="plain-text"> </span> <span id="switchtext-rich" class="switchtext btn-isRich last hidden icon icon-chevron-double-left" role="button" title="{{str_rte_plaintext}}" target="rich-text"> </span> </div> </div> ',stationery_icon_placeholder:'<span class="stationeryWrapper loading rich-only" title="{{str_comp_action_stationery}}" role="button"> <span class="btn icon icon-stationery mail-font loading rich-only" title="{{str_comp_action_stationery}}" role="button"> </span> </span> ',is_underline:'<span data-action="underline" tabindex="-1" role="button" class="icon icon-underline" title="{{str_rte_underline_attr}}"> </span> ',is_rtl:'<span id="btn-rtl" data-action="bidi" value="rtl" tabindex="-1" role="button" class="icon icon-rtl" title="{{str_rte_right_to_left}}"> </span> <span id="btn-ltr" data-action="bidi" value="ltr" tabindex="-1" role="button" class="icon icon-ltr" title="{{str_rte_left_to_right}}"> </span> ',is_rtl_else:'<span id="btn-ltr" data-action="bidi" value="ltr" tabindex="-1" role="button" class="icon icon-ltr" title="{{str_rte_left_to_right}}"> </span> <span id="btn-rtl" data-action="bidi" value="rtl" tabindex="-1" role="button" class="icon icon-rtl" title="{{str_rte_right_to_left}}"> </span> ',bidi:"{{is_rtl}} {{is_rtl_else}} ",spellCheckEnabled:'<span id="btn-spellchk" data-action="spellcheck" tabindex="-1" role="button" class="icon icon-check-spelling" title="{{str_rte_check_spelling_attr_fresh}}"> </span> <span id="btn-spell-langs" data-action="menu" data-menu-position="above" tabindex="-1" role="button" aria-haspopup="true" title="{{str_toolbar_spelling_menu_toggle_attr_fresh}}" class="icon icon-chevron-down"> </span> '}},"1.0.0");
YUI.add("_shared_module_ca_openhide",function(e){e.namespace("ui.Templates"),e.ui.Templates._shared_module_ca_openhide={base:'<div class="actions-seperator hidden ca-action-seperator">&nbsp;</div><div class="ca-showhide-ctrl" aria-hidden="true"> <button class="btn-ca-showhide icon-add ca-content-visible icon icon-disabled" title="{{tooltip}}{{tooltip_else}}" disabled></button></div>',tooltip:"{{str_comp_action_close_compose_assist}}",tooltip_else:"{{str_quick_attach_title}}"}},"1.0.0");
YUI.add("_shared_module_rte_well_fresh_conv",function(e){e.namespace("ui.Templates"),e.ui.Templates._shared_module_rte_well_fresh_conv={base:'<div class="rte-well-container" role="toolbar">{{show_attachment_icon}}{{show_formatter_well}}</div>{{ca_icon}}',show_attachment_icon:"{{_shared_module_rte_well_content_attachments_fresh}}",show_formatter_well:"{{_shared_module_rte_well_content_format_fresh}}",ca_icon:"{{_shared_module_ca_openhide}}"}},"1.0.0",{requires:["_shared_module_rte_well_content_attachments_fresh","_shared_module_rte_well_content_format_fresh","_shared_module_ca_openhide"]});
YUI.add("_shared_module_compose_fresh_conv",function(e){e.namespace("ui.Templates"),e.ui.Templates._shared_module_compose_fresh_conv={base:'<div tabindex="0" role="widget" aria-label="{{str_btn_compose_email}}" class="compose {{smartscroll}} {{ca_active}} {{newComposeAssitIcon}}"><div class = "composeshim hidden"></div><table border="0" style="margin:0;width:100%;border-spacing:0; border-collapse:collapse;table-layout:fixed"> <tbody role="presentation"> <tr role="presentation"> <td role="presentation"> {{_shared_module_compose_message_header_fresh}} </td> </tr> <tr role="presentation"> <td role="presentation"> <div class="compose-message {{page_well_is_open}}">{{_shared_module_compose_message_body}}</div> </td> </tr> <tr role="presentation"> <td role="presentation" class="footer-separator"> <div role="alert" tabindex="0" aria-labelledby="notification" class="bottomNotification"> <span class="s-loader"></span> <span class="notification">{{str_comp_sending}}</span> </div> <div class="bottomToolbar {{squeezeToolbar}}"> <span class="btn default" data-action="send" role="button"> <a tabindex="0" href="#" role="button" title="{{str_comp_send_attr}}">{{str_comp_send}}</a> </span> {{show_autocompose_well}} {{_shared_module_rte_well_fresh_conv}} {{show_delete_draft_icon}} <span class="save-draft-msg hidden" tabindex="0" role="note" data-action="savedraft">{{lastsaved}}</span> <span id="enhancr-spinner" class="hidden"></span> </div> </td> </tr> </tbody></table></div>',smartscroll:"smartscroll",ca_active:"ca-active",newComposeAssitIcon:"new-compose-assist-icon",page_well_is_open:"rich-text ",squeezeToolbar:"squeeze-toolbar",show_autocompose_well:'<span class="autocompose-well"> <span class="btn left btn-secondary" title="Autocompose" data-action="randomize"> <i class="icon {{icon}}" style="color: {{icon_color}}"></i> Autocompose </span><span class="btn right btn-secondary" data-action="menu"><i class="icon icon-chevron-down"></i></span> </span> ',show_delete_draft_icon:'<span id="btn-draft-delete" class="draft-delete-btn icon icon-delete" data-action="delete" role="button" title="{{str_delete_draft}}"></span> ',lastsaved:"{{str_comp_autosave}}"}},"1.0.0",{requires:["_shared_module_compose_message_header_fresh","_shared_module_compose_message_body","_shared_module_rte_well_fresh_conv"]});
YUI.add("_shared_module_toolbar_compose_fresh",function(A){A.namespace("ui.Templates");A.ui.Templates._shared_module_toolbar_compose_fresh={base:'<div id="pagetoolbar" class="{{msgliststate}}"> <a class="btn" href="#" data-action="send" title="{{str_comp_send_attr}}">{{str_comp_send}}</a> <a class="btn btn-cancel-compose" href="#" data-action="cancelcompose" title="{{str_comp_cancel_attr}}">{{str_comp_cancel}}</a> <a class="btn savedraft {{isDirty}}" href="#" data-action="savedraft" title="{{str_comp_savedraft_attr}}">{{str_comp_savedraft}}</a></div>',isDirty:"disabled"};},"1.0.0");YUI.add("_shared_module_compose_loading",function(A){A.namespace("ui.Templates");A.ui.Templates._shared_module_compose_loading={base:'<div id="loadingpane" class="cm-loadingpane"> {{start}} {{slow}} {{error}} {{populate}}</div>',start:"<h2>{{str_comp_loading}}</h2> ",slow:'<h2>{{str_comp_loadslow}} <span class="btn left right small"><a href="#" class="retryOrigin">{{str_comp_loadretry}}</a></span></h2> ',can_retry:'<span class="btn left right small"><a href="#" class="retryOrigin">{{str_comp_loadretry}}</a></span> ',error:"<h2>{{str_comp_loaderr}} {{can_retry}} </h2> ",populate:"<h2>{{str_comp_loadpopulate}}</h2> "};},"1.0.0");YUI.add("_shared_module_offscreen_bin_compose_menu_spellcheck",function(A){A.namespace("ui.Templates");A.ui.Templates._shared_module_offscreen_bin_compose_menu_spellcheck={base:'<div id="menu-spellcheck" class="optionMenu"> <ul> {{word_suggestions}} </ul> <ul> <li><a href="#" data-action="spellcheck-ignore-all" title="{{str_comp_ignore_all_attr}}"><span>{{str_comp_ignore_all}}</span></a></li> </ul></div>',word_suggestions:'<li><a href="#" data-action="spellcheck-replace"><span>{{word_suggestion}}</span></a></li> '};},"1.0.0");YUI.add("_shared_module_offscreen_bin_compose_modal_cancel_compose",function(A){A.namespace("ui.Templates");A.ui.Templates._shared_module_offscreen_bin_compose_modal_cancel_compose={base:'<div id="modal-cancel-compose" class="modal lg"> <h2 class="modal-hd"> {{str_comp_close}} {{_shared_module_offscreen_bin_modal_close_icon}} </h2> <div class="modal-bd"> <span>{{str_comp_close_confirm}}</span> </div> <div class="modal-ft"> {{url}} </div></div>',url:'<span class="btn left right default"><a href="{{url_minty_drafts}}">{{str_comp_savetodrafts}}</a></span><span class="btn left right"><a href="{{url_minty_inbox}}">{{str_comp_abandon}}</a></span><span class="btn left right"><a href="modal-cancel-compose.mu#">{{str_comp_keepwriting}}</a></span> '};},"1.0.0",{requires:["_shared_module_offscreen_bin_modal_close_icon"]});YUI.add("_shared_module_rte_well_content_emoticons_fresh",function(e){e.namespace("ui.Templates"),e.ui.Templates._shared_module_rte_well_content_emoticons_fresh={base:'<div role="tabpanel" class="emoticons-pane optionMenu {{emoticonPlusCSS}}" id="menu-emoticon"> <ul role="toolbar"> <li role="button" data-value="emoticon_1*{{str_emoticon_happy}}" data-action="emoticon" class="emoticon_1" title="{{str_emoticon_happy}}" tabindex="0"><a></a></li> <li role="button" data-value="emoticon_2*{{str_emoticon_sad}}" data-action="emoticon" class="emoticon_2" title="{{str_emoticon_sad}}"><a></a></li> <li role="button" data-value="emoticon_3*{{str_emoticon_winking}}" data-action="emoticon" class="emoticon_3" title="{{str_emoticon_winking}}"><a></a></li> <li role="button" data-value="emoticon_4*{{str_emoticon_confused}}" data-action="emoticon" class="emoticon_4" title="{{str_emoticon_confused}}"><a></a></li> <li role="button" data-value="emoticon_5*{{str_emoticon_lovestruck}}" data-action="emoticon" class="emoticon_5" title="{{str_emoticon_lovestruck}}"><a></a></li> <li role="button" data-value="emoticon_6*{{str_emoticon_blushing}}" data-action="emoticon" class="emoticon_6" title="{{str_emoticon_blushing}}"><a></a></li> <li role="button" data-value="emoticon_7*{{str_emoticon_tongue}}" data-action="emoticon" class="emoticon_7" title="{{str_emoticon_tongue}}"><a></a></li> <li role="button" data-value="emoticon_8*{{str_emoticon_kiss}}" data-action="emoticon" class="emoticon_8" title="{{str_emoticon_kiss}}"><a></a></li> <li role="button" data-value="emoticon_9*{{str_emoticon_broken_heart}}" data-action="emoticon" class="emoticon_9" title="{{str_emoticon_broken_heart}}"><a></a></li> <li role="button" data-value="emoticon_10*{{str_emoticon_sigh}}" data-action="emoticon" class="emoticon_10" title="{{str_emoticon_sigh}}"><a></a></li> <li role="button" data-value="emoticon_11*{{str_emoticon_wits_end}}" data-action="emoticon" class="emoticon_11" title="{{str_emoticon_wits_end}}"><a></a></li> <li role="button" data-value="emoticon_12*{{str_emoticon_surprise}}" data-action="emoticon" class="emoticon_12" title="{{str_emoticon_surprise}}"><a></a></li> <li role="button" data-value="emoticon_13*{{str_emoticon_angry}}" data-action="emoticon" class="emoticon_13" title="{{str_emoticon_angry}}"><a></a></li> <li role="button" data-value="emoticon_14*{{str_emoticon_cool}}" data-action="emoticon" class="emoticon_14" title="{{str_emoticon_cool}}"><a></a></li> <li role="button" data-value="emoticon_15*{{str_emoticon_devil}}" data-action="emoticon" class="emoticon_15" title="{{str_emoticon_devil}}"><a></a></li> <li role="button" data-value="emoticon_16*{{str_emoticon_crying}}" data-action="emoticon" class="emoticon_16" title="{{str_emoticon_crying}}"><a></a></li> <li role="button" data-value="emoticon_17*{{str_emoticon_straight_face}}" data-action="emoticon" class="emoticon_17" title="{{str_emoticon_straight_face}}"><a></a></li> <li role="button" data-value="emoticon_18*{{str_emoticon_raised_eyebrows}}" data-action="emoticon" class="emoticon_18" title="{{str_emoticon_raised_eyebrows}}"><a></a></li> <li role="button" data-value="emoticon_19*{{str_emoticon_angel}}" data-action="emoticon" class="emoticon_19" title="{{str_emoticon_angel}}"><a></a></li> <li role="button" data-value="emoticon_20*{{str_emoticon_nerd}}" data-action="emoticon" class="emoticon_20" title="{{str_emoticon_nerd}}"><a></a></li> <li role="button" data-value="emoticon_21*{{str_emoticon_phbbbbt}}" data-action="emoticon" class="emoticon_21" title="{{str_emoticon_phbbbbt}}"><a></a></li> <li role="button" data-value="emoticon_22*{{str_emoticon_wave}}" data-action="emoticon" class="emoticon_22" title="{{str_emoticon_wave}}"><a></a></li> <li role="button" data-value="emoticon_23*{{str_emoticon_rolling_eyes}}" data-action="emoticon" class="emoticon_23" title="{{str_emoticon_rolling_eyes}}"><a></a></li> <li role="button" data-value="emoticon_24*{{str_emoticon_sick}}" data-action="emoticon" class="emoticon_24" title="{{str_emoticon_sick}}"><a></a></li> <li role="button" data-value="emoticon_25*{{str_emoticon_shh}}" data-action="emoticon" class="emoticon_25" title="{{str_emoticon_shh}}"><a></a></li> <li role="button" data-value="emoticon_26*{{str_emoticon_party}}" data-action="emoticon" class="emoticon_26" title="{{str_emoticon_party}}"><a></a></li> <li role="button" data-value="emoticon_27*{{str_emoticon_yawn}}" data-action="emoticon" class="emoticon_27" title="{{str_emoticon_yawn}}"><a></a></li> <li role="button" data-value="emoticon_28*{{str_emoticon_thinking}}" data-action="emoticon" class="emoticon_28" title="{{str_emoticon_thinking}}"><a></a></li> <li role="button" data-value="emoticon_29*{{str_emoticon_laughing}}" data-action="emoticon" class="emoticon_29" title="{{str_emoticon_laughing}}"><a></a></li> <li role="button" data-value="emoticon_30*{{str_emoticon_rofl}}" data-action="emoticon" class="emoticon_30" title="{{str_emoticon_rofl}}"><a></a></li> <li role="button" data-value="emoticon_31*{{str_emoticon_big_grin}}" data-action="emoticon" class="emoticon_31" title="{{str_emoticon_big_grin}}"><a></a></li> <li role="button" data-value="emoticon_32*{{str_emoticon_cowboy}}" data-action="emoticon" class="emoticon_32" title="{{str_emoticon_cowboy}}"><a></a></li> <li role="button" data-value="emoticon_33*{{str_emoticon_wasnt_me}}" data-action="emoticon" class="emoticon_33" title="{{str_emoticon_wasnt_me}}"><a></a></li> <li role="button" data-value="emoticon_34*{{str_emoticon_batting_eyelashes}}" data-action="emoticon" class="emoticon_34" title="{{str_emoticon_batting_eyelashes}}"><a></a></li> <li role="button" data-value="emoticon_35*{{str_emoticon_big_hug}}" data-action="emoticon" class="emoticon_35" title="{{str_emoticon_big_hug}}"><a></a></li> <li role="button" data-value="emoticon_36*{{str_emoticon_smug}}" data-action="emoticon" class="emoticon_36" title="{{str_emoticon_smug}}"><a></a></li> <li role="button" data-value="emoticon_37*{{str_emoticon_worried}}" data-action="emoticon" class="emoticon_37" title="{{str_emoticon_worried}}"><a></a></li> <li role="button" data-value="emoticon_38*{{str_emoticon_whew}}" data-action="emoticon" class="emoticon_38" title="{{str_emoticon_whew}}"><a></a></li> <li role="button" data-value="emoticon_39*{{str_emoticon_talk_to_the_hand}}" data-action="emoticon" class="emoticon_39" title="{{str_emoticon_talk_to_the_hand}}"><a></a></li> <li role="button" data-value="emoticon_40*{{str_emoticon_sleepy}}" data-action="emoticon" class="emoticon_40" title="{{str_emoticon_sleepy}}"><a></a></li> <li role="button" data-value="emoticon_41*{{str_emoticon_loser}}" data-action="emoticon" class="emoticon_41" title="{{str_emoticon_loser}}"><a></a></li> <li role="button" data-value="emoticon_42*{{str_emoticon_not_talking}}" data-action="emoticon" class="emoticon_42" title="{{str_emoticon_not_talking}}"><a></a></li> <li role="button" data-value="emoticon_43*{{str_emoticon_on_the_phone}}" data-action="emoticon" class="emoticon_43" title="{{str_emoticon_on_the_phone}}"><a></a></li> <li role="button" data-value="emoticon_44*{{str_emoticon_daydreaming}}" data-action="emoticon" class="emoticon_44" title="{{str_emoticon_daydreaming}}"><a></a></li> <li role="button" data-value="emoticon_45*{{str_emoticon_clown}}" data-action="emoticon" class="emoticon_45" title="{{str_emoticon_clown}}"><a></a></li> <li role="button" data-value="emoticon_46*{{str_emoticon_silly}}" data-action="emoticon" class="emoticon_46" title="{{str_emoticon_silly}}"><a></a></li> <li role="button" data-value="emoticon_47*{{str_emoticon_drooling}}" data-action="emoticon" class="emoticon_47" title="{{str_emoticon_drooling}}"><a></a></li> <li role="button" data-value="emoticon_48*{{str_emoticon_doh}}" data-action="emoticon" class="emoticon_48" title="{{str_emoticon_doh}}"><a></a></li> <li role="button" data-value="emoticon_49*{{str_emoticon_applause}}" data-action="emoticon" class="emoticon_49" title="{{str_emoticon_applause}}"><a></a></li> <li role="button" data-value="emoticon_50*{{str_emoticon_nail_biting}}" data-action="emoticon" class="emoticon_50" title="{{str_emoticon_nail_biting}}"><a></a></li> <li role="button" data-value="emoticon_51*{{str_emoticon_hypnotized}}" data-action="emoticon" class="emoticon_51" title="{{str_emoticon_hypnotized}}"><a></a></li> <li role="button" data-value="emoticon_52*{{str_emoticon_liar}}" data-action="emoticon" class="emoticon_52" title="{{str_emoticon_liar}}"><a></a></li> <li role="button" data-value="emoticon_53*{{str_emoticon_waiting}}" data-action="emoticon" class="emoticon_53" title="{{str_emoticon_waiting}}"><a></a></li> <li role="button" data-value="emoticon_54*{{str_emoticon_call_me}}" data-action="emoticon" class="emoticon_54" title="{{str_emoticon_call_me}}"><a></a></li> <li role="button" data-value="emoticon_57*{{str_emoticon_cheer}}" data-action="emoticon" class="emoticon_57" title="{{str_emoticon_cheer}}"><a></a></li> <li role="button" data-value="emoticon_58*{{str_emoticon_dizzy}}" data-action="emoticon" class="emoticon_58" title="{{str_emoticon_dizzy}}"><a></a></li> <li role="button" data-value="emoticon_59*{{str_emoticon_cook}}" data-action="emoticon" class="emoticon_59" title="{{str_emoticon_cook}}"><a></a></li> <li role="button" data-value="emoticon_60*{{str_emoticon_eat}}" data-action="emoticon" class="emoticon_60" title="{{str_emoticon_eat}}"><a></a></li> <li role="button" data-value="emoticon_61*{{str_emoticon_give_up}}" data-action="emoticon" class="emoticon_61" title="{{str_emoticon_give_up}}"><a></a></li> <li role="button" data-value="emoticon_62*{{str_emoticon_cold}}" data-action="emoticon" class="emoticon_62" title="{{str_emoticon_cold}}"><a></a></li> <li role="button" data-value="emoticon_63*{{str_emoticon_hot}}" data-action="emoticon" class="emoticon_63" title="{{str_emoticon_hot}}"><a></a></li> <li role="button" data-value="emoticon_64*{{str_emoticon_music}}" data-action="emoticon" class="emoticon_64" title="{{str_emoticon_music}}"><a></a></li> <li role="button" data-value="emoticon_65*{{str_emoticon_puke}}" data-action="emoticon" class="emoticon_65" title="{{str_emoticon_puke}}"><a></a></li> <li role="button" data-value="emoticon_66*{{str_emoticon_sing}}" data-action="emoticon" class="emoticon_66" title="{{str_emoticon_sing}}"><a></a></li> <li role="button" data-value="emoticon_67*{{str_emoticon_catch}}" data-action="emoticon" class="emoticon_67" title="{{str_emoticon_catch}}"><a></a></li> <li role="button" data-value="emoticon_68*{{str_emoticon_exercise}}" data-action="emoticon" class="emoticon_68" title="{{str_emoticon_exercise}}"><a></a></li> <li role="button" data-value="emoticon_69*{{str_emoticon_high_five}}" data-action="emoticon" class="emoticon_69" title="{{str_emoticon_high_five}}"><a></a></li> <li role="button" data-value="emoticon_70*{{str_emoticon_play_game}}" data-action="emoticon" class="emoticon_70" title="{{str_emoticon_play_game}}"><a></a></li> <li role="button" data-value="emoticon_71*{{str_emoticon_search_me}}" data-action="emoticon" class="emoticon_71" title="{{str_emoticon_search_me}}"><a></a></li> <li role="button" data-value="emoticon_72*{{str_emoticon_spooky}}" data-action="emoticon" class="emoticon_72" title="{{str_emoticon_spooky}}"><a></a></li> <li role="button" data-value="emoticon_73*{{str_emoticon_studying}}" data-action="emoticon" class="emoticon_73" title="{{str_emoticon_studying}}"><a></a></li> <li role="button" data-value="emoticon_74*{{str_emoticon_tv}}" data-action="emoticon" class="emoticon_74" title="{{str_emoticon_tv}}"><a></a></li> <li role="button" data-value="emoticon_75*{{str_emoticon_gift}}" data-action="emoticon" class="emoticon_75" title="{{str_emoticon_gift}}"><a></a></li> <li role="button" data-value="emoticon_76*{{str_emoticon_unlucky}}" data-action="emoticon" class="emoticon_76" title="{{str_emoticon_unlucky}}"><a></a></li> <li role="button" data-value="emoticon_77*{{str_emoticon_down_on_luck}}" data-action="emoticon" class="emoticon_77" title="{{str_emoticon_down_on_luck}}"><a></a></li> <li role="button" data-value="emoticon_78*{{str_emoticon_fight}}" data-action="emoticon" class="emoticon_78" title="{{str_emoticon_fight}}"><a></a></li> </ul></div>'
}},"1.0.0");
YUI.add("_shared_module_rte_well_content_fontnamesize_fresh",function(A){A.namespace("ui.Templates");A.ui.Templates._shared_module_rte_well_content_fontnamesize_fresh={base:'<div id="menu-fontnamesize" class="optionMenu rte-menu multicol"> <div id="menu-fontname" class="menu-group column"> <ul> {{intl_fonts}} <li data-action="fontname" data-value="{{str_rte_font_arial_attr}}"><i class="icon"></i><a href="#"><span style="font-family: {{str_rte_font_arial_attr}};">{{str_rte_font_modern}}</span></a></li> <li data-action="fontname" data-value="{{str_rte_font_verdana_attr}}"><i class="icon"></i><a href="#"><span style="font-family: {{str_rte_font_verdana_attr}};">{{str_rte_font_modernwide}}</span></a></li> <li data-action="fontname" data-value="{{str_rte_font_times_attr}}"><i class="icon"></i><a href="#"><span style="font-family: {{str_rte_font_times_attr}};">{{str_rte_font_classic}}</span></a></li> <li data-action="fontname" data-value="{{str_rte_font_bookman_attr}}"><i class="icon"></i><a href="#"><span style="font-family: {{str_rte_font_bookman_attr}};">{{str_rte_font_classicwide}}</span></a></li> <li data-action="fontname" data-value="{{str_rte_font_courier_attr}}"><i class="icon"></i><a href="#"><span style="font-family: {{str_rte_font_courier_attr}};">{{str_rte_font_courier}}</span></a></li> <li data-action="fontname" data-value="{{str_rte_font_garamond_attr}}"><i class="icon"></i><a href="#"><span style="font-family: {{str_rte_font_garamond_attr}};">{{str_rte_font_garamond}}</span></a></li> <li data-action="fontname" data-value="{{str_rte_font_lucida_attr}}"><i class="icon"></i><a href="#"><span style="font-family: {{str_rte_font_lucida_attr}};">{{str_rte_font_lucida}}</span></a></li> </ul> </div> <div id="menu-fontsize" class="menu-group column"> <ul class="varht"> <li data-action="fontsize" data-value="1"><i class="icon"></i><a href="#"><span style="font-size:10px;">{{str_rte_font_size_xxsmall}}</span></a></li> <li data-action="fontsize" data-value="2"><i class="icon"></i><a href="#"><span style="font-size:13px;">{{str_rte_font_size_small}}</span></a></li> <li data-action="fontsize" data-value="3"><i class="icon"></i><a href="#"><span style="font-size:16px;">{{str_rte_font_size_medium}}</span></a></li> <li data-action="fontsize" data-value="5"><i class="icon"></i><a href="#"><span style="font-size:24px;">{{str_rte_font_size_large}}</span></a></li> <li data-action="fontsize" data-value="6"><i class="icon"></i><a href="#"><span style="font-size:32px;">{{str_rte_font_size_xlarge}}</span></a></li> <li data-action="fontsize" data-value="7"><i class="icon"></i><a href="#"><span style="font-size:48px;">{{str_rte_font_size_xxlarge}}</span></a></li> </ul> </div></div> ',intl_fonts:'<li data-action="fontname" data-value="{{font_value}}"><i class="icon"></i><a href="#"><span style="font-family: {{font_value}};">{{font_name}}</span></a></li> '};},"1.0.0");