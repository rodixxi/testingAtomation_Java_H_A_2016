"use strict";YUI.add("tictac-base-stats",function(a){function b(a){this.cfg=a}b.prototype={stat:function(a,b,c){var d,e=this.cfg,f=b||{};b&&b.ultArgs&&(f=b.ultArgs,delete b.ultArgs),d=b||{},e.yamas&&(d.colo=NeoConfig.colo,window.console&&window.console.log,c&&c.datum?yui.fire("util:ymstats",{name:e.name+"_"+a,tags:d,unit:c.unit?c.unit:"ms",type:"duration",dataum:c.datum}):yui.fire("util:ymstats",{name:e.name+"_"+a,tags:d})),e.ult&&e.ult[a]&&(window.console&&window.console.log,this.ultStat(a,f))},ultStat:function(b,c){var d,e=this.cfg.name+"_"+b,f=window.yui||a;for(d in c)if(d.length>8){c="";break}c?f.fire("mt:click",{action:e,append:c}):f.fire("mt:click",{action:e})}},a.namespace("Tictac.base").Stats=b},"1.0.0",{requires:["ymma-stats","json-stringify"]});/*
YUI 3.16.0-ym19 (build 3.16.0-ym19)
Copyright 2016 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("handlebars-base",function(e,t){
/*!
Handlebars.js - Copyright (C) 2011 Yehuda Katz
https://raw.github.com/wycats/handlebars.js/master/LICENSE
*/
;var n=e.namespace("Handlebars");n.VERSION="1.0.0",n.COMPILER_REVISION=4,n.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:">= 1.0.0"},n.helpers={},n.partials={};var r=Object.prototype.toString,i="[object Function]",s="[object Object]";n.registerHelper=function(e,t,i){if(r.call(e)===s){if(i||t)throw new n.Exception("Arg not supported with multiple helpers");n.Utils.extend(this.helpers,e)}else i&&(t.not=i),this.helpers[e]=t},n.registerPartial=function(e,t){r.call(e)===s?n.Utils.extend(this.partials,e):this.partials[e]=t},n.registerHelper("helperMissing",function(e){if(arguments.length===2)return undefined;throw new Error("Missing helper: '"+e+"'")}),n.registerHelper("blockHelperMissing",function(e,t){var s=t.inverse||function(){},o=t.fn,u=r.call(e);return u===i&&(e=e.call(this)),e===!0?o(this):e===!1||e==null?s(this):u==="[object Array]"?e.length>0?n.helpers.each(e,t):s(this):o(e)}),n.K=function(){},n.createFrame=Object.create||function(e){n.K.prototype=e;var t=new n.K;return n.K.prototype=null,t},n.logger={DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,methodMap:{0:"debug",1:"info",2:"warn",3:"error"},log:function(e,t){if(n.logger.level<=e){var r=n.logger.methodMap[e];typeof console!="undefined"&&console[r]&&console[r].call(console,t)}}},n.log=function(e,t){n.logger.log(e,t)},n.registerHelper("each",function(e,t){var s=t.fn,o=t.inverse,u=0,a="",f,l=r.call(e);l===i&&(e=e.call(this)),t.data&&(f=n.createFrame(t.data));if(e&&typeof e=="object")if(e instanceof Array)for(var c=e.length;u<c;u++)f&&(f.index=u),a+=s(e[u],{data:f});else for(var h in e)e.hasOwnProperty(h)&&(f&&(f.key=h),a+=s(e[h],{data:f}),u++);return u===0&&(a=o(this)),a}),n.registerHelper("if",function(e,t){var s=r.call(e);return s===i&&(e=e.call(this)),!e||n.Utils.isEmpty(e)?t.inverse(this):t.fn(this)}),n.registerHelper("unless",function(e,t){return n.helpers["if"].call(this,e,{fn:t.inverse,inverse:t.fn})}),n.registerHelper("with",function(e,t){var s=r.call(e);s===i&&(e=e.call(this));if(!n.Utils.isEmpty(e))return t.fn(e)}),n.registerHelper("log",function(e,t){var r=t.data&&t.data.level!=null?parseInt(t.data.level,10):1;n.log(r,e)});var o=["description","fileName","lineNumber","message","name","number","stack"];n.Exception=function(e){var t=Error.prototype.constructor.apply(this,arguments);for(var n=0;n<o.length;n++)this[o[n]]=t[o[n]]},n.Exception.prototype=new Error,n.SafeString=function(e){this.string=e},n.SafeString.prototype.toString=function(){return this.string.toString()};var u={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},a=/[&<>"'`]/g,f=/[&<>"'`]/,l=function(e){return u[e]||"&amp;"};n.Utils={extend:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},escapeExpression:function(e){return e instanceof n.SafeString?e.toString():e==null||e===!1?"":(e=e.toString(),f.test(e)?e.replace(a,l):e)},isEmpty:function(e){return!e&&e!==0?!0:r.call(e)==="[object Array]"&&e.length===0?!0:!1}},n.VM={template:function(e){var t={escapeExpression:n.Utils.escapeExpression,invokePartial:n.VM.invokePartial,programs:[],program:function(e,t,r){var i=this.programs[e];return r?i=n.VM.program(e,t,r):i||(i=this.programs[e]=n.VM.program(e,t)),i},merge:function(e,t){var r=e||t;return e&&t&&(r={},n.Utils.extend(r,t),n.Utils.extend(r,e)),r},programWithDepth:n.VM.programWithDepth,noop:n.VM.noop,compilerInfo:null};return function(r,i){i=i||{};var s=e.call(t,n,r,i.helpers,i.partials,i.data),o=t.compilerInfo||[],u=o[0]||1,a=n.COMPILER_REVISION;if(u!==a){if(u<a){var f=n.REVISION_CHANGES[a],l=n.REVISION_CHANGES[u];throw"Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+f+") or downgrade your runtime to an older version ("+l+")."}throw"Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+o[1]+")."}return s}},programWithDepth:function(e,t,n){var r=Array.prototype.slice.call(arguments,3),i=function(e,i){return i=i||{},t.apply(this,[e,i.data||n].concat(r))};return i.program=e,i.depth=r.length,i},program:function(e,t,n){var r=function(e,r){return r=r||{},t(e,r.data||n)};return r.program=e,r.depth=0,r},noop:function(){return""},invokePartial:function(e,t,r,i,s,o){var u={helpers:i,partials:s,data:o};if(e===undefined)throw new n.Exception("The partial "+t+" could not be found");if(e instanceof Function)return e(r,u);if(!n.compile)throw new n.Exception("The partial "+t+" could not be compiled when running in runtime-only mode");return s[t]=n.compile(e,{data:o!==undefined}),s[t](r,u)}},n.template=n.VM.template,n.VERSION+="-yui",n.revive=n.template,e.namespace("Template").Handlebars=n},"3.16.0-ym19",{requires:[]});
YUI.add("tictac-simple-rollups",function(a){a.namespace("Tictac.simple.rollups"),a.Tictac.simple.rollups.account=a.Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g="",h=this.escapeExpression;return g+='<span class="categoryv3">    <span class="account-label" title="',(f=c.account_email)?f=f.call(b,{hash:{},data:e}):(f=b.account_email,f="function"==typeof f?f.apply(b):f),g+=h(f)+'">        ',(f=c.account_name)?f=f.call(b,{hash:{},data:e}):(f=b.account_name,f="function"==typeof f?f.apply(b):f),g+=h(f)+"    </span></span>"}),a.Tictac.simple.rollups.category=a.Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e="";return e+='    <span class="connect-dot">    </span>    <span class="account-label" title="',(d=c.account_email)?d=d.call(a,{hash:{},data:b}):(d=a.account_email,d=typeof d===j?d.apply(a):d),e+=k(d)+'">        ',(d=c.account_name)?d=d.call(a,{hash:{},data:b}):(d=a.account_name,d=typeof d===j?d.apply(a):d),e+=k(d)+"    </span>    "}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var g,h,i="",j="function",k=this.escapeExpression,l=this,m=c.blockHelperMissing;return i+='<span class="',(g=c.category_class)?g=g.call(b,{hash:{},data:e}):(g=b.category_class,g=typeof g===j?g.apply(b):g),i+=k(g)+'" data-category="',(g=c.category_name)?g=g.call(b,{hash:{},data:e}):(g=b.category_name,g=typeof g===j?g.apply(b):g),i+=k(g)+'" title="',(g=c.category_string)?g=g.call(b,{hash:{},data:e}):(g=b.category_string,g=typeof g===j?g.apply(b):g),i+=k(g)+'">    <a class="smartview-tag">        ',(g=c.category_string)?g=g.call(b,{hash:{},data:e}):(g=b.category_string,g=typeof g===j?g.apply(b):g),i+=k(g)+"    </a>    ",h={hash:{},inverse:l.noop,fn:l.program(1,f,e),data:e},(g=c.showAccountName)?g=g.call(b,h):(g=b.showAccountName,g=typeof g===j?g.apply(b):g),c.showAccountName||(g=m.call(b,g,h)),(g||0===g)&&(i+=g),i+="</span>"}),a.Tictac.simple.rollups.pin=a.Handlebars.template(function(a,b,c,d,e){return this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{},'<button class="save-smartview-btn" title="Guardar como Vista inteligente">Guardar</button>'}),a.Tictac.simple.rollups.tooltip=a.Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g="",h=this.escapeExpression;return g+="<div id=\"navOnboarding\" class='convstooltip multitasktooltip yui3-tooltips'>    <div class='tooltip-arrow-left'>        <div class='inner-arrow'></div>    </div>    <div class='modal tooltips-text' tabindex='0'>        <h2 class='modal-hd'>            <span class='tutorial-btn close' title='",(f=c.str_btn_close)?f=f.call(b,{hash:{},data:e}):(f=b.str_btn_close,f="function"==typeof f?f.apply(b):f),g+=h(f)+'\'></span>        </h2>        <div class="modal-bd">            <div class="bd">',(f=c.str_nav_ob_callout)?f=f.call(b,{hash:{},data:e}):(f=b.str_nav_ob_callout,f="function"==typeof f?f.apply(b):f),(f||0===f)&&(g+=f),g+="</div>        </div>    </div></div>"})},"1.0.0",{requires:["handlebars-base"]});YUI.add("tictac-simple-strings",function(a){a.namespace("Tictac.simple").strings={str_bookmarks:"Favoritos",str_branding_generic_smart_view:"Vista inteligente",str_custom_view_callout_auto_save_text:"Buscaste <strong>{{name}}</strong> {{count}} veces. Guardamos el término para que puedas acceder a él más rápido.",str_custom_view_launch_tip:"Se ha guardado la búsqueda <b>{{name}}</b>.",str_financial:"Finanzas",str_important:"Importante",str_me2me:"Yo",str_not_now:"No en este momento",str_okay:"Aceptar",str_personal:"Gente",str_save_as_smart_view:"Guardar como Vista inteligente",str_saved_as_smart_view:"Guardado como Vista inteligente",str_saved:"Guardado",str_save:"Guardar",str_shopping:"Compras",str_social:"Social",str_starred:"Destacados",str_title_financial:"Todos los correos electrónicos sobre finanzas",str_title_important:"Correos electrónicos de los contactos principales",str_title_me2me:"Todos los correos electrónicos que te enviaste",str_title_personal:"Correos electrónicos de la gente",str_title_setting_important:"Personalizar tus contactos más importantes",str_title_shopping:"Todos los correos electrónicos sobre compras",str_title_social:"Correos electrónicos de redes sociales",str_title_starred:"Todos los correos electrónicos destacados",str_title_travel:"Todos los correos electrónicos sobre viajes",str_title_unread:"Todos los correos electrónicos no leídos",str_travel:"Viajes",str_unread:"No leído",last:null}},"1.0.0");"use strict";YUI.add("tictac-simple-utils",function(a){var b,c=yui.mail.Controller.ImapIn;b={getAccountName:function(){var b=c.getCurrentAccountId(),d=c.getAccountAttribute(b,"description");return a.Tictac.simple.Utils.getCustomName(d)},getCustomName:function(a){return a.replace(/(\s|^)(in:|is:|has:)(?="[^"]+"|'[^']+'|\S+)|(<|=|:|>)/g," ").trim()}},a.namespace("Tictac.simple").Utils=b},"@VERSION@",{requires:[]});"use strict";YUI.add("tictac-simple-query",function(a){var b,c=a.Tictac.base.mailpreferences,d=a.Tictac.simple.strings,e=c.get("isXobnified"),f=a.common.Utils.features;b=function(){return{importantQuery:null,fetchSmartViewQuery:function(a){var b=this,e={};switch(a){case"important":f.enabled("isMetaDataMigrated")||NeoConfig.forceToV3UserSetting||(b.importantQuery=b.importantQuery||c.get("importantQuery")),b.importantQuery&&(e={keyword:b.importantQuery,displayName:d.str_important,view:a});break;case"me2me":e={email:NeoConfig.emailAddress,searchType:"email",view:a,displayName:d.str_me2me,isMe2Me:!0};break;case"unread":case"starred":case"personal":case"social":case"travel":case"shopping":case"financial":e={shouldParseKeyword:!0,keyword:"is:"+a,view:a}}return new Promise(function(c,d){if("important"!==a||b.importantQuery)return void c(e);b.fetchImportantQuery().then(c,d)})},fetchImportantQuery:function(){var b=this;return new Promise(function(c){yui.xobniContacts.searchAPI.getImportantContacts({},function(f){var g,h,i,j=[],k=[];for(h=0;h<f.length;h++)for(i=0;i<f[h].endpoints.length;i++)-1!==f[h].endpoints[i].ep.indexOf("smtp:")?(g=f[h].endpoints[i].ep.replace(/smtp:/i,""),j=j.concat(g)):j=j.concact(f[h].endpoints[i].ep);j.length?(a.Array.each(j,function(a){k.push("fromaddress:"+a)}),b.importantQuery=("("+k.join(" OR ")+")").replace(/\+/g,""),c({keyword:b.importantQuery,view:"important",displayName:d.str_important})):(e=!1,c({keyword:"important",view:"important",displayName:d.str_important}))},function(){e=!1,c({keyword:"important",view:"important",displayName:d.str_important})})})}}}(),a.namespace("Tictac.simple").Query=b},"1.0.0",{requires:["tictac-simple-strings","xobni-contacts-search-api","mail-common-utils-features"]});