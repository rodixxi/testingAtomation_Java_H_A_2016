"use strict";YUI.add("tictac-base-formatter",function(a){var b={default:{decimal:".",delimiter:","},ar:{decimal:",",delimiter:"."},"ar-AE":{decimal:",",delimiter:"."},"ar-BH":{decimal:",",delimiter:"."},"ar-DZ":{decimal:",",delimiter:"."},"ar-EG":{decimal:",",delimiter:"."},"ar-IQ":{decimal:",",delimiter:"."},"ar-JO":{decimal:",",delimiter:"."},"ar-KW":{decimal:",",delimiter:"."},"ar-LB":{decimal:",",delimiter:"."},"ar-LY":{decimal:",",delimiter:"."},"ar-MA":{decimal:",",delimiter:"."},"ar-OM":{decimal:",",delimiter:"."},"ar-QA":{decimal:",",delimiter:"."},"ar-SA":{decimal:",",delimiter:"."},"ar-SD":{decimal:",",delimiter:"."},"ar-SY":{decimal:",",delimiter:"."},"ar-TN":{decimal:",",delimiter:"."},"ar-YE":{decimal:",",delimiter:"."},bg:{decimal:",",delimiter:" "},"bg-BG":{decimal:",",delimiter:" "},bn:{decimal:".",delimiter:","},"bn-BD":{decimal:".",delimiter:","},"bn-IN":{decimal:".",delimiter:","},cs:{decimal:",",delimiter:" "},"cs-CZ":{decimal:",",delimiter:" "},da:{decimal:",",delimiter:"."},"da-DK":{decimal:",",delimiter:"."},de:{decimal:",",delimiter:"."},"de-AT":{decimal:",",delimiter:"."},"de-CH":{decimal:",",delimiter:"."},"de-DE":{decimal:",",delimiter:"."},el:{decimal:",",delimiter:"."},"el-GR":{decimal:",",delimiter:"."},en:{decimal:".",delimiter:","},"en-AU":{decimal:".",delimiter:","},"en-CA":{decimal:".",delimiter:","},"en-GB":{decimal:".",delimiter:","},"en-IE":{decimal:".",delimiter:","},"en-IN":{decimal:".",delimiter:","},"en-JO":{decimal:".",delimiter:","},"en-MY":{decimal:".",delimiter:","},"en-NZ":{decimal:".",delimiter:","},"en-PH":{decimal:".",delimiter:","},"en-SG":{decimal:".",delimiter:","},"en-US":{decimal:".",delimiter:","},"en-ZA":{decimal:".",delimiter:","},es:{decimal:",",delimiter:"."},"es-AR":{decimal:",",delimiter:"."},"es-CL":{decimal:",",delimiter:"."},"es-CO":{decimal:",",delimiter:"."},"es-ES":{decimal:",",delimiter:"."},"es-MX":{decimal:",",delimiter:"."},"es-PE":{decimal:",",delimiter:"."},"es-US":{decimal:",",delimiter:"."},"es-VE":{decimal:",",delimiter:"."},et:{decimal:",",delimiter:" "},"et-EE":{decimal:",",delimiter:" "},fi:{decimal:",",delimiter:" "},"fi-FI":{decimal:",",delimiter:" "},fil:{decimal:".",delimiter:","},"fil-PH":{decimal:".",delimiter:","},fr:{decimal:",",delimiter:" "},"fr-BE":{decimal:",",delimiter:" "},"fr-CA":{decimal:",",delimiter:" "},"fr-CH":{decimal:",",delimiter:" "},"fr-FR":{decimal:",",delimiter:" "},gu:{decimal:".",delimiter:","},"gu-IN":{decimal:".",delimiter:","},he:{decimal:".",delimiter:","},"he-IL":{decimal:".",delimiter:","},hi:{decimal:".",delimiter:","},"hi-IN":{decimal:".",delimiter:","},hr:{decimal:",",delimiter:"."},"hr-HR":{decimal:",",delimiter:"."},hu:{decimal:",",delimiter:" "},"hu-HU":{decimal:",",delimiter:" "},id:{decimal:",",delimiter:"."},"id-ID":{decimal:",",delimiter:"."},it:{decimal:",",delimiter:"."},"it-CH":{decimal:",",delimiter:"."},"it-IT":{decimal:",",delimiter:"."},kn:{decimal:".",delimiter:","},"kn-IN":{decimal:".",delimiter:","},ko:{decimal:".",delimiter:","},"ko-KR":{decimal:".",delimiter:","},lt:{decimal:".",delimiter:","},"lt-LT":{decimal:".",delimiter:","},lv:{decimal:",",delimiter:" "},"lv-LV":{decimal:",",delimiter:" "},ml:{decimal:".",delimiter:","},"ml-IN":{decimal:".",delimiter:","},mr:{decimal:".",delimiter:","},"mr-IN":{decimal:".",delimiter:","},ms:{decimal:".",delimiter:","},"ms-MY":{decimal:".",delimiter:","},nb:{decimal:",",delimiter:" "},"nb-NO":{decimal:",",delimiter:" "},nl:{decimal:",",delimiter:"."},"nl-BE":{decimal:",",delimiter:"."},"nl-NL":{decimal:",",delimiter:"."},pl:{decimal:",",delimiter:" "},"pl-PL":{decimal:",",delimiter:" "},pt:{decimal:",",delimiter:"."},"pt-BR":{decimal:",",delimiter:"."},"pt-PT":{decimal:",",delimiter:"."},ro:{decimal:",",delimiter:"."},"ro-RO":{decimal:",",delimiter:"."},ru:{decimal:",",delimiter:" "},"ru-RU":{decimal:",",delimiter:" "},sk:{decimal:",",delimiter:" "},"sk-SK":{decimal:",",delimiter:" "},sl:{decimal:",",delimiter:"."},"sl-SI":{decimal:",",delimiter:"."},sr:{decimal:",",delimiter:"."},"sr-Cyrl":{decimal:",",delimiter:"."},"sr-Cyrl-RS":{decimal:",",delimiter:"."},sv:{decimal:",",delimiter:" "},"sv-SE":{decimal:",",delimiter:" "},ta:{decimal:".",delimiter:","},"ta-IN":{decimal:".",delimiter:","},te:{decimal:".",delimiter:","},"te-IN":{decimal:".",delimiter:","},th:{decimal:".",delimiter:","},"th-TH":{decimal:".",delimiter:","},tr:{decimal:",",delimiter:"."},"tr-TR":{decimal:",",delimiter:"."},uk:{decimal:",",delimiter:" "},"uk-UA":{decimal:",",delimiter:" "},ur:{decimal:".",delimiter:","},"ur-PK":{decimal:".",delimiter:","},vi:{decimal:",",delimiter:"."},"vi-VN":{decimal:",",delimiter:"."},zh:{decimal:".",delimiter:","},"zh-Hans":{decimal:".",delimiter:","},"zh-Hans-CN":{decimal:".",delimiter:","},"zh-Hant":{decimal:".",delimiter:","},"zh-Hant-HK":{decimal:".",delimiter:","},"zh-Hant-TW":{decimal:".",delimiter:","},last:null},c={default:"%m/%d/%Y",ar:"%Y/%m/%d","ar-AE":"%Y/%m/%d","ar-BH":"%Y/%m/%d","ar-DZ":"%Y/%m/%d","ar-EG":"%Y/%m/%d","ar-IQ":"%Y/%m/%d","ar-JO":"%Y/%m/%d","ar-KW":"%Y/%m/%d","ar-LB":"%Y/%m/%d","ar-LY":"%Y/%m/%d","ar-MA":"%Y/%m/%d","ar-OM":"%Y/%m/%d","ar-QA":"%Y/%m/%d","ar-SA":"%Y/%m/%d","ar-SD":"%Y/%m/%d","ar-SY":"%Y/%m/%d","ar-TN":"%Y/%m/%d","ar-YE":"%Y/%m/%d",bg:"%d.%m.%Y","bg-BG":"%d.%m.%Y",bn:"%d/%m/%Y","bn-BD":"%d/%m/%Y","bn-IN":"%d/%m/%Y",cs:"%d.%m.%Y","cs-CZ":"%d.%m.%Y",da:"%d/%m/%Y","da-DK":"%d/%m/%Y",de:"%d.%m.%Y","de-AT":"%d.%m.%Y","de-CH":"%d.%m.%Y","de-DE":"%d.%m.%Y",el:"%d/%m/%Y","el-GR":"%d/%m/%Y",en:"%m/%d/%Y","en-AU":"%d/%m/%Y","en-CA":"%Y-%m-%d","en-GB":"%d/%m/%Y","en-IE":"%d/%m/%Y","en-IN":"%d/%m/%Y","en-JO":"%d/%m/%Y","en-MY":"%d/%m/%Y","en-NZ":"%d/%m/%Y","en-PH":"%m/%d/%Y","en-SG":"%d/%m/%Y","en-US":"%m/%d/%Y","en-ZA":"%Y/%m/%d",es:"%d/%m/%Y","es-AR":"%d/%m/%Y","es-CL":"%d-%m-%Y","es-CO":"%d/%m/%Y","es-ES":"%d/%m/%Y","es-MX":"%d/%m/%Y","es-PE":"%d/%m/%Y","es-US":"%m/%d/%Y","es-VE":"%d/%m/%Y",et:"%d.%m.%Y","et-EE":"%d.%m.%Y",fi:"%d.%m.%Y","fi-FI":"%d.%m.%Y",fil:"%m/%d/%Y","fil-PH":"%m/%d/%Y",fr:"%d/%m/%Y","fr-BE":"%d/%m/%Y","fr-CA":"%Y-%m-%d","fr-CH":"%d.%m.%Y","fr-FR":"%d/%m/%Y",gu:"%d-%m-%Y","gu-IN":"%d-%m-%Y",he:"%d/%m/%Y","he-IL":"%d/%m/%Y",hi:"%d-%m-%Y","hi-IN":"%d-%m-%Y",hr:"%d. %m. %Y.","hr-HR":"%d. %m. %Y.",hu:"%Y.%m.%d.","hu-HU":"%Y.%m.%d.",id:"%d/%m/%Y","id-ID":"%d/%m/%Y",it:"%d/%m/%Y","it-CH":"%d.%m.%Y","it-IT":"%d/%m/%Y",kn:"%d-%m-%Y","kn-IN":"%d-%m-%Y",ko:"%Y. %m. %d.","ko-KR":"%Y. %m. %d.",lt:"%Y-%m-%d","lt-LT":"%Y-%m-%d",lv:"%d.%m.%Y","lv-LV":"%d.%m.%Y",ml:"%d/%m/%Y","ml-IN":"%d/%m/%Y",mr:"%d-%m-%Y","mr-IN":"%d-%m-%Y",ms:"%Y-%m-%d","ms-MY":"%Y-%m-%d",nb:"%d.%m.%Y","nb-NO":"%d.%m.%Y",nl:"%d-%m-%Y","nl-BE":"%d/%m/%Y","nl-NL":"%d-%m-%Y",pl:"%d-%m-%Y","pl-PL":"%d-%m-%Y",pt:"%d/%m/%Y","pt-BR":"%d/%m/%Y","pt-PT":"%d/%m/%Y",ro:"%d.%m.%Y","ro-RO":"%d.%m.%Y",ru:"%d.%m.%Y","ru-RU":"%d.%m.%Y",sk:"%d.%m.%Y","sk-SK":"%d.%m.%Y",sl:"%d. %m. %Y","sl-SI":"%d. %m. %Y",sr:"%d.%m.%Y.","sr-Cyrl":"%d.%m.%Y.","sr-Cyrl-RS":"%d.%m.%Y.",sv:"%Y-%m-%d","sv-SE":"%Y-%m-%d",ta:"%d-%m-%Y","ta-IN":"%d-%m-%Y",te:"%d-%m-%Y","te-IN":"%d-%m-%Y",th:"%d/%m/%Y","th-TH":"%d/%m/%Y",tr:"%d.%m.%Y","tr-TR":"%d.%m.%Y",uk:"%d.%m.%Y","uk-UA":"%d.%m.%Y",ur:"%d/%m/%Y","ur-PK":"%d/%m/%Y",vi:"%d/%m/%Y","vi-VN":"%d/%m/%Y",zh:"%Y-%m-%d","zh-Hans":"%Y-%m-%d","zh-Hans-CN":"%Y-%m-%d","zh-Hant":"%Y/%m/%d","zh-Hant-HK":"%Y/%m/%d","zh-Hant-TW":"%Y/%m/%d",last:null};a.namespace("Tictac.base").formatter={getNumberConfig:function(a){var c;return b.hasOwnProperty(a)?b[a]:(c=this.getBaseLang(a),b.hasOwnProperty(c)?b[c]:b.default)},getDateConfig:function(a){var b;return c.hasOwnProperty(a)?c[a]:(b=this.getBaseLang(a),c.hasOwnProperty(b)?c[b]:c.default)},getBaseLang:function(a){var b=a.match(/(.+)-x-(.+)/i);return b&&b[1]?b[1]:a},getFormattedDate:function(a,b,c,d){var e;return b=b.toString(),c=c.toString(),1===b.length&&(b="0"+b),1===c.length&&(c="0"+c),e=this.getDateConfig(d),e.replace("%Y",a).replace("%m",b).replace("%d",c)}}});YUI.add("tictac-base-strings",function(a){a.namespace("Tictac.base").strings={str_cancel:"Cancelar",str_comp_font_size_attr:"Seleccione el tamaño de la fuente",str_conv_dialog_alert:"Alerta",str_conv_dialog_confirm:"Confirmar",str_notepad:"Bloc de notas",str_ok:"Aceptar",str_rte_font_arial_attr:"Helvetica Neue, Helvetica, Arial, Lucida Grande, sans-serif",str_rte_font_bookman_attr:"bookman old style, new york, times, serif",str_rte_font_classic:"Clásico",str_rte_font_classicwide:"Ancho clásico",str_rte_font_courier_attr:"Courier New, courier, monaco, monospace, sans-serif",str_rte_font_courier:"Courier New",str_rte_font_garamond_attr:"garamond, new york, times, serif",str_rte_font_garamond:"Garamond",str_rte_font_huge:"Enorme",str_rte_font_large:"Grande",str_rte_font_lucida_attr:"lucida console, sans-serif",str_rte_font_lucida:"Lucida Console",str_rte_font_medium:"Mediana",str_rte_font_modern:"Moderno",str_rte_font_modernwide:"Ancho moderno",str_rte_font_small:"Pequeño",str_rte_font_times_attr:"times new roman, new york, times, serif",str_rte_font_tiny:"Diminuto",str_rte_font_verdana_attr:"verdana, helvetica, sans-serif",str_rte_font_xlarge:"Extra grande",str_size_bytes:"{{size}} B",str_size_gb:"{{size}} GB",str_size_kb:"{{size}} KB",str_size_mb:"{{size}} MB",last:null}},"1.0.0");"use strict";YUI.add("tictac-base-utils",function(a){a.namespace("Tictac.base").utils={deentitize:function(a){var b=a.replace(/&gt;/g,">");return b=b.replace(/&lt;/g,"<"),b=b.replace(/&quot;/g,'"'),b=b.replace(/&apos;/g,"'"),b=b.replace(/&#x27;/g,"'"),b=b.replace(/&amp;/g,"&")},subs:function(){var a,b=arguments[0];if(2===arguments.length){var c=arguments[1];for(a in c)c.hasOwnProperty(a)&&(b=b.replace("{{"+a+"}}",c[a]))}else if(3===arguments.length){var d=arguments[2];a=arguments[1],b=b.replace("{{"+a+"}}",d)}return b},getPrettySize:function(b,c){var d,e=b,f=0,g="str_tictac_att_size_bytes",h=a.Tictac.base,i=h.formatter,j=NeoConfig.lang||"en-US";for(d=h.isRTL?i.getNumberConfig("en-US"):i.getNumberConfig(j);e>=1024&&f<3;)e/=1024,f++;e=e.toFixed(1).toString();var k=e.split(".");switch((k[1]&&"0"===k[1]||c)&&(e=k[0]),e=e.replace(".","%dec%").replace(",","%del%"),e=e.replace("%del%",d.delimiter),e=e.replace("%dec%",d.decimal),f){case 1:g="str_tictac_att_size_kb";break;case 2:g="str_tictac_att_size_mb";break;case 3:g="str_tictac_att_size_gb"}return{value:e,label:g}},getWindowSize:function(){var a,b,c=document.body.scrollTop,d=document.body.scrollHeight;return a=window,b="inner","innerWidth"in window||(b="client",a=document.documentElement||document.body),{height:a[b+"Height"],width:a[b+"Width"],scrollTop:c,scrollHeight:d}},getSize:function(b,c){var d=this.getPrettySize(b,c);return this.subs(a.Tictac.base.strings[d.label.replace("_tictac_att_","_")],{size:d.value})},getVal:function(a,b,c){for(var d=b.split("."),e=0,f=d.length;e<f;e++){var g=d[e];if(!(null!==a&&"object"==typeof a&&g in a))return c;a=a[g]}return a},hasTictacModule:function(b){var c=a.Tictac.base.utils,d="config.groups.tictacs.modules."+b;return!!c.getVal(a,d)},log:function(){window.console&&window.console.log||a.each(arguments,function(b){a.log(b)})},parseJSON:function(b){var c=a.Tictac.base.utils.log;if(!b)return c("parseJSON got null str"),null;try{return a.JSON.parse(b)}catch(a){return c("JSON parse failure",a,b),null}},verify:function(b,c){if(!b)throw a.Tictac.base.utils.log(c),c},transitionEndEventName:function(){var a,b=document.createElement("fakeelement"),c={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"};for(a in c)if(a in b.style)return c[a]}}},"1.0.0",{requires:["tictac-base-formatter","json","tictac-base-strings"]});YUI.add("tictac-base-mail-io",function(a){"use strict";function b(a,b,c,d){if(!a||!b)return a;var e,f=a.indexOf("#");-1===f?(f=a.length,e=""):e=a.substring(f,a.length),a=a.substring(0,f);var g=a.split("?"),h="";if(g.length>1)for(var i=g[1].split("&"),j=0;j<i.length;j++){var k=i[j].split("=");k[0]!==b&&(h&&(h+="&"),h+=k[0]+(k[1]?"="+k[1]:""))}var l="?",m=encodeURIComponent(b)+(c?"="+encodeURIComponent(c):"");return d?(l+=m,h&&(l+="&"+h)):(h&&(l+=h+"&"),l+=m),g[0]+l+e}function c(a){var c=a;return window.yui.namespace("common.net.Session").genReqID&&(c=b(a,"ymreqid",window.yui.common.net.Session.genReqID())),c}function d(b,e,i){function j(a,b){var c,d=b.getResponseHeader("Content-Type");d&&-1!==d.indexOf("application/json")&&(c=f.parseJSON(b.responseText)),l&&l(a,b,c)}function k(c,i){var j,k,l,n=f.parseJSON(i.responseText),o=a.Object.getValue(n,["error","code"]);return e.retryAttempt>=3?void(m&&m(c,i)):(e.retryAttempt++,-1!==a.Array.indexOf(["Client.ClientRedirect.SessionIdReissue",107,"EC-4003"],o)?(l=a.Object.getValue(n,["error","wssid"])||a.Object.getValue(n,["error","details","wssid"]),l||(j=n.error.url||n.error.detail.url,k=j.match(g),l=k&&k.length>2?k[2]:h.getWssid()),NeoConfig.wssid=l,h.setWssid(l),b=b.replace(g,"$1wssid="+l),void d(b,e)):-1!==a.Array.indexOf(["Client.ExpiredCredentials","Client.MissingCredentials",108,"EC-4008"],o)?(a.once("net:reloginSuccessful",function(){d(b,e)}),void a.common.net.Error.simpleRelogin()):void(m&&m(c,i)))}var l=e.on.success,m=e.on.failure,n=c(b);e.hasOwnProperty("retryAttempt")||(e.retryAttempt=0),e.on.success=j,e.on.failure=k,a.io(n+(i?"":"&rand="+(new Date).getTime()),e)}var e=a.Tictac,f=e.base.utils,g=/([\&|\?])wssid=([^\&\#]+)/,h=a.common.net.SessionMgr;a.namespace("Tictac.base").mailIO={send:d,addQueryParameter:b,addReqId:c}},"1.0.0",{requires:["tictac-base-utils","io","common-net-sessionmgr","common-net-error"]});YUI.add("tictac-base-prefetch-store",function(a){"use strict";function b(a){a=a||{},this.endPoint=a.endPoint,this.count=a.count,this.cacheObject={},this.fetchContactsForAllAccounts()}function c(a){return a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}b.prototype={getContactFetchUrl:function(b){var c=a.common.Utils,d=["include_types=smtp","context_from="+b,"max_count="+this.count],e=c.getMailBoxQueryParams&&c.getMailBoxQueryParams("array")||[];return d=d.concat(e),this.endPoint+"?"+d.join("&")},afterContactsFetched:function(a,b){b=b.map(function(a){return{email:a.endpoint.replace("smtp:",""),id:a.c_id,name:a.c_name}}),this.addCache(a,b)},fetchContactsForAllAccounts:function(){var a=this;NeoConfig.accounts.ALL.forEach(function(b){a.fetchContacts(b.email)})},fetchContacts:function(b){var c=this,d={xdr:{use:"native",credentials:!0},on:{success:function(a,d,e){if(e){if(!e.endpoint_info_list)return;c.afterContactsFetched(b,e.endpoint_info_list)}}}};a.Tictac.base.mailIO.send(c.getContactFetchUrl(b),d)},addCache:function(a,b){this.cacheObject[a]=b},search:function(a,b,c){var d,e,f,g=this.cacheObject,h=[];if(e=g[b],c=c||3,!a||!e)return h;for(f=0;f<e.length&&h.length<c;f++,d=null)(d=this.getMatch(a,e[f]))&&h.push(d);return h},getMatch:function(a,b){var c=!1,d=!1;if(b.name===b.email?d=this.searchObject(a,b.email,"email"):c=this.searchObject(a,b.name,"name"),c||d)return{serviceId:b.id,emailIds:[b.email],emailAddresses:[b.email],displayStr:b.name,name:b.name,intent:"PEOPLE",sourceService:"XOBNI",type:"PERSON"}},searchObject:function(a,b,d){var e,f,g="name"===d?b.split(" ").concat([b]):[b],h=new RegExp("^"+c(a),"i");for(e=0,f=g.length;e<f;e++)if(h.test(g[e]))return!0;return!1}},a.augment(b,a.EventTarget),a.namespace("Tictac.base").PrefetchStoreManager={getStore:function(a){return new b(a)}}},"@VERSION@",{requires:["event-custom","node","common-utils","tictac-base-mail-io"]});